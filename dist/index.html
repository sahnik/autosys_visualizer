<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Autosys Visualizer</title>
    <script type="module" crossorigin>(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function t(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=t(a);fetch(a.href,i)}})();var Ku=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function w0(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var rd={exports:{}},rs={},td={exports:{}},or={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mb;function hI(){if(Mb)return or;Mb=1;var r=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),s=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),v=Symbol.iterator;function p(B){return B===null||typeof B!="object"?null:(B=v&&B[v]||B["@@iterator"],typeof B=="function"?B:null)}var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y=Object.assign,x={};function w(B,V,te){this.props=B,this.context=V,this.refs=x,this.updater=te||g}w.prototype.isReactComponent={},w.prototype.setState=function(B,V){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,V,"setState")},w.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function b(){}b.prototype=w.prototype;function E(B,V,te){this.props=B,this.context=V,this.refs=x,this.updater=te||g}var S=E.prototype=new b;S.constructor=E,y(S,w.prototype),S.isPureReactComponent=!0;var T=Array.isArray,R=Object.prototype.hasOwnProperty,A={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function P(B,V,te){var $,j={},Y=null,ee=null;if(V!=null)for($ in V.ref!==void 0&&(ee=V.ref),V.key!==void 0&&(Y=""+V.key),V)R.call(V,$)&&!k.hasOwnProperty($)&&(j[$]=V[$]);var le=arguments.length-2;if(le===1)j.children=te;else if(1<le){for(var ie=Array(le),Q=0;Q<le;Q++)ie[Q]=arguments[Q+2];j.children=ie}if(B&&B.defaultProps)for($ in le=B.defaultProps,le)j[$]===void 0&&(j[$]=le[$]);return{$$typeof:r,type:B,key:Y,ref:ee,props:j,_owner:A.current}}function D(B,V){return{$$typeof:r,type:B.type,key:V,ref:B.ref,props:B.props,_owner:B._owner}}function I(B){return typeof B=="object"&&B!==null&&B.$$typeof===r}function M(B){var V={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(te){return V[te]})}var L=/\/+/g;function N(B,V){return typeof B=="object"&&B!==null&&B.key!=null?M(""+B.key):V.toString(36)}function z(B,V,te,$,j){var Y=typeof B;(Y==="undefined"||Y==="boolean")&&(B=null);var ee=!1;if(B===null)ee=!0;else switch(Y){case"string":case"number":ee=!0;break;case"object":switch(B.$$typeof){case r:case e:ee=!0}}if(ee)return ee=B,j=j(ee),B=$===""?"."+N(ee,0):$,T(j)?(te="",B!=null&&(te=B.replace(L,"$&/")+"/"),z(j,V,te,"",function(Q){return Q})):j!=null&&(I(j)&&(j=D(j,te+(!j.key||ee&&ee.key===j.key?"":(""+j.key).replace(L,"$&/")+"/")+B)),V.push(j)),1;if(ee=0,$=$===""?".":$+":",T(B))for(var le=0;le<B.length;le++){Y=B[le];var ie=$+N(Y,le);ee+=z(Y,V,te,ie,j)}else if(ie=p(B),typeof ie=="function")for(B=ie.call(B),le=0;!(Y=B.next()).done;)Y=Y.value,ie=$+N(Y,le++),ee+=z(Y,V,te,ie,j);else if(Y==="object")throw V=String(B),Error("Objects are not valid as a React child (found: "+(V==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":V)+"). If you meant to render a collection of children, use an array instead.");return ee}function G(B,V,te){if(B==null)return B;var $=[],j=0;return z(B,$,"","",function(Y){return V.call(te,Y,j++)}),$}function H(B){if(B._status===-1){var V=B._result;V=V(),V.then(function(te){(B._status===0||B._status===-1)&&(B._status=1,B._result=te)},function(te){(B._status===0||B._status===-1)&&(B._status=2,B._result=te)}),B._status===-1&&(B._status=0,B._result=V)}if(B._status===1)return B._result.default;throw B._result}var U={current:null},F={transition:null},X={ReactCurrentDispatcher:U,ReactCurrentBatchConfig:F,ReactCurrentOwner:A};function K(){throw Error("act(...) is not supported in production builds of React.")}return or.Children={map:G,forEach:function(B,V,te){G(B,function(){V.apply(this,arguments)},te)},count:function(B){var V=0;return G(B,function(){V++}),V},toArray:function(B){return G(B,function(V){return V})||[]},only:function(B){if(!I(B))throw Error("React.Children.only expected to receive a single React element child.");return B}},or.Component=w,or.Fragment=t,or.Profiler=a,or.PureComponent=E,or.StrictMode=n,or.Suspense=f,or.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=X,or.act=K,or.cloneElement=function(B,V,te){if(B==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+B+".");var $=y({},B.props),j=B.key,Y=B.ref,ee=B._owner;if(V!=null){if(V.ref!==void 0&&(Y=V.ref,ee=A.current),V.key!==void 0&&(j=""+V.key),B.type&&B.type.defaultProps)var le=B.type.defaultProps;for(ie in V)R.call(V,ie)&&!k.hasOwnProperty(ie)&&($[ie]=V[ie]===void 0&&le!==void 0?le[ie]:V[ie])}var ie=arguments.length-2;if(ie===1)$.children=te;else if(1<ie){le=Array(ie);for(var Q=0;Q<ie;Q++)le[Q]=arguments[Q+2];$.children=le}return{$$typeof:r,type:B.type,key:j,ref:Y,props:$,_owner:ee}},or.createContext=function(B){return B={$$typeof:s,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},B.Provider={$$typeof:i,_context:B},B.Consumer=B},or.createElement=P,or.createFactory=function(B){var V=P.bind(null,B);return V.type=B,V},or.createRef=function(){return{current:null}},or.forwardRef=function(B){return{$$typeof:u,render:B}},or.isValidElement=I,or.lazy=function(B){return{$$typeof:d,_payload:{_status:-1,_result:B},_init:H}},or.memo=function(B,V){return{$$typeof:c,type:B,compare:V===void 0?null:V}},or.startTransition=function(B){var V=F.transition;F.transition={};try{B()}finally{F.transition=V}},or.unstable_act=K,or.useCallback=function(B,V){return U.current.useCallback(B,V)},or.useContext=function(B){return U.current.useContext(B)},or.useDebugValue=function(){},or.useDeferredValue=function(B){return U.current.useDeferredValue(B)},or.useEffect=function(B,V){return U.current.useEffect(B,V)},or.useId=function(){return U.current.useId()},or.useImperativeHandle=function(B,V,te){return U.current.useImperativeHandle(B,V,te)},or.useInsertionEffect=function(B,V){return U.current.useInsertionEffect(B,V)},or.useLayoutEffect=function(B,V){return U.current.useLayoutEffect(B,V)},or.useMemo=function(B,V){return U.current.useMemo(B,V)},or.useReducer=function(B,V,te){return U.current.useReducer(B,V,te)},or.useRef=function(B){return U.current.useRef(B)},or.useState=function(B){return U.current.useState(B)},or.useSyncExternalStore=function(B,V,te){return U.current.useSyncExternalStore(B,V,te)},or.useTransition=function(){return U.current.useTransition()},or.version="18.3.1",or}var Ob;function b0(){return Ob||(Ob=1,td.exports=hI()),td.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nb;function pI(){if(Nb)return rs;Nb=1;var r=b0(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function s(u,f,c){var d,v={},p=null,g=null;c!==void 0&&(p=""+c),f.key!==void 0&&(p=""+f.key),f.ref!==void 0&&(g=f.ref);for(d in f)n.call(f,d)&&!i.hasOwnProperty(d)&&(v[d]=f[d]);if(u&&u.defaultProps)for(d in f=u.defaultProps,f)v[d]===void 0&&(v[d]=f[d]);return{$$typeof:e,type:u,key:p,ref:g,props:v,_owner:a.current}}return rs.Fragment=t,rs.jsx=s,rs.jsxs=s,rs}var Lb;function gI(){return Lb||(Lb=1,rd.exports=pI()),rd.exports}var fe=gI(),Je=b0();const yI=w0(Je);var Yu={},nd={exports:{}},Nt={},ad={exports:{}},id={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bb;function mI(){return Bb||(Bb=1,(function(r){function e(F,X){var K=F.length;F.push(X);e:for(;0<K;){var B=K-1>>>1,V=F[B];if(0<a(V,X))F[B]=X,F[K]=V,K=B;else break e}}function t(F){return F.length===0?null:F[0]}function n(F){if(F.length===0)return null;var X=F[0],K=F.pop();if(K!==X){F[0]=K;e:for(var B=0,V=F.length,te=V>>>1;B<te;){var $=2*(B+1)-1,j=F[$],Y=$+1,ee=F[Y];if(0>a(j,K))Y<V&&0>a(ee,j)?(F[B]=ee,F[Y]=K,B=Y):(F[B]=j,F[$]=K,B=$);else if(Y<V&&0>a(ee,K))F[B]=ee,F[Y]=K,B=Y;else break e}}return X}function a(F,X){var K=F.sortIndex-X.sortIndex;return K!==0?K:F.id-X.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;r.unstable_now=function(){return i.now()}}else{var s=Date,u=s.now();r.unstable_now=function(){return s.now()-u}}var f=[],c=[],d=1,v=null,p=3,g=!1,y=!1,x=!1,w=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(F){for(var X=t(c);X!==null;){if(X.callback===null)n(c);else if(X.startTime<=F)n(c),X.sortIndex=X.expirationTime,e(f,X);else break;X=t(c)}}function T(F){if(x=!1,S(F),!y)if(t(f)!==null)y=!0,H(R);else{var X=t(c);X!==null&&U(T,X.startTime-F)}}function R(F,X){y=!1,x&&(x=!1,b(P),P=-1),g=!0;var K=p;try{for(S(X),v=t(f);v!==null&&(!(v.expirationTime>X)||F&&!M());){var B=v.callback;if(typeof B=="function"){v.callback=null,p=v.priorityLevel;var V=B(v.expirationTime<=X);X=r.unstable_now(),typeof V=="function"?v.callback=V:v===t(f)&&n(f),S(X)}else n(f);v=t(f)}if(v!==null)var te=!0;else{var $=t(c);$!==null&&U(T,$.startTime-X),te=!1}return te}finally{v=null,p=K,g=!1}}var A=!1,k=null,P=-1,D=5,I=-1;function M(){return!(r.unstable_now()-I<D)}function L(){if(k!==null){var F=r.unstable_now();I=F;var X=!0;try{X=k(!0,F)}finally{X?N():(A=!1,k=null)}}else A=!1}var N;if(typeof E=="function")N=function(){E(L)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,G=z.port2;z.port1.onmessage=L,N=function(){G.postMessage(null)}}else N=function(){w(L,0)};function H(F){k=F,A||(A=!0,N())}function U(F,X){P=w(function(){F(r.unstable_now())},X)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(F){F.callback=null},r.unstable_continueExecution=function(){y||g||(y=!0,H(R))},r.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<F?Math.floor(1e3/F):5},r.unstable_getCurrentPriorityLevel=function(){return p},r.unstable_getFirstCallbackNode=function(){return t(f)},r.unstable_next=function(F){switch(p){case 1:case 2:case 3:var X=3;break;default:X=p}var K=p;p=X;try{return F()}finally{p=K}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(F,X){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var K=p;p=F;try{return X()}finally{p=K}},r.unstable_scheduleCallback=function(F,X,K){var B=r.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?B+K:B):K=B,F){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=K+V,F={id:d++,callback:X,priorityLevel:F,startTime:K,expirationTime:V,sortIndex:-1},K>B?(F.sortIndex=K,e(c,F),t(f)===null&&F===t(c)&&(x?(b(P),P=-1):x=!0,U(T,K-B))):(F.sortIndex=V,e(f,F),y||g||(y=!0,H(R))),F},r.unstable_shouldYield=M,r.unstable_wrapCallback=function(F){var X=p;return function(){var K=p;p=X;try{return F.apply(this,arguments)}finally{p=K}}}})(id)),id}var qb;function wI(){return qb||(qb=1,ad.exports=mI()),ad.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fb;function bI(){if(Fb)return Nt;Fb=1;var r=b0(),e=wI();function t(o){for(var l="https://reactjs.org/docs/error-decoder.html?invariant="+o,h=1;h<arguments.length;h++)l+="&args[]="+encodeURIComponent(arguments[h]);return"Minified React error #"+o+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,a={};function i(o,l){s(o,l),s(o+"Capture",l)}function s(o,l){for(a[o]=l,o=0;o<l.length;o++)n.add(l[o])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,c=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},v={};function p(o){return f.call(v,o)?!0:f.call(d,o)?!1:c.test(o)?v[o]=!0:(d[o]=!0,!1)}function g(o,l,h,m){if(h!==null&&h.type===0)return!1;switch(typeof l){case"function":case"symbol":return!0;case"boolean":return m?!1:h!==null?!h.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function y(o,l,h,m){if(l===null||typeof l>"u"||g(o,l,h,m))return!0;if(m)return!1;if(h!==null)switch(h.type){case 3:return!l;case 4:return l===!1;case 5:return isNaN(l);case 6:return isNaN(l)||1>l}return!1}function x(o,l,h,m,C,_,O){this.acceptsBooleans=l===2||l===3||l===4,this.attributeName=m,this.attributeNamespace=C,this.mustUseProperty=h,this.propertyName=o,this.type=l,this.sanitizeURL=_,this.removeEmptyString=O}var w={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){w[o]=new x(o,0,!1,o,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var l=o[0];w[l]=new x(l,1,!1,o[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(o){w[o]=new x(o,2,!1,o.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){w[o]=new x(o,2,!1,o,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){w[o]=new x(o,3,!1,o.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(o){w[o]=new x(o,3,!0,o,null,!1,!1)}),["capture","download"].forEach(function(o){w[o]=new x(o,4,!1,o,null,!1,!1)}),["cols","rows","size","span"].forEach(function(o){w[o]=new x(o,6,!1,o,null,!1,!1)}),["rowSpan","start"].forEach(function(o){w[o]=new x(o,5,!1,o.toLowerCase(),null,!1,!1)});var b=/[\-:]([a-z])/g;function E(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var l=o.replace(b,E);w[l]=new x(l,1,!1,o,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var l=o.replace(b,E);w[l]=new x(l,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(o){var l=o.replace(b,E);w[l]=new x(l,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(o){w[o]=new x(o,1,!1,o.toLowerCase(),null,!1,!1)}),w.xlinkHref=new x("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(o){w[o]=new x(o,1,!1,o.toLowerCase(),null,!0,!0)});function S(o,l,h,m){var C=w.hasOwnProperty(l)?w[l]:null;(C!==null?C.type!==0:m||!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(y(l,h,C,m)&&(h=null),m||C===null?p(l)&&(h===null?o.removeAttribute(l):o.setAttribute(l,""+h)):C.mustUseProperty?o[C.propertyName]=h===null?C.type===3?!1:"":h:(l=C.attributeName,m=C.attributeNamespace,h===null?o.removeAttribute(l):(C=C.type,h=C===3||C===4&&h===!0?"":""+h,m?o.setAttributeNS(m,l,h):o.setAttribute(l,h))))}var T=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,R=Symbol.for("react.element"),A=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),I=Symbol.for("react.provider"),M=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),z=Symbol.for("react.suspense_list"),G=Symbol.for("react.memo"),H=Symbol.for("react.lazy"),U=Symbol.for("react.offscreen"),F=Symbol.iterator;function X(o){return o===null||typeof o!="object"?null:(o=F&&o[F]||o["@@iterator"],typeof o=="function"?o:null)}var K=Object.assign,B;function V(o){if(B===void 0)try{throw Error()}catch(h){var l=h.stack.trim().match(/\n( *(at )?)/);B=l&&l[1]||""}return`
`+B+o}var te=!1;function $(o,l){if(!o||te)return"";te=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(l)if(l=function(){throw Error()},Object.defineProperty(l.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(l,[])}catch(ue){var m=ue}Reflect.construct(o,[],l)}else{try{l.call()}catch(ue){m=ue}o.call(l.prototype)}else{try{throw Error()}catch(ue){m=ue}o()}}catch(ue){if(ue&&m&&typeof ue.stack=="string"){for(var C=ue.stack.split(`
`),_=m.stack.split(`
`),O=C.length-1,W=_.length-1;1<=O&&0<=W&&C[O]!==_[W];)W--;for(;1<=O&&0<=W;O--,W--)if(C[O]!==_[W]){if(O!==1||W!==1)do if(O--,W--,0>W||C[O]!==_[W]){var Z=`
`+C[O].replace(" at new "," at ");return o.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",o.displayName)),Z}while(1<=O&&0<=W);break}}}finally{te=!1,Error.prepareStackTrace=h}return(o=o?o.displayName||o.name:"")?V(o):""}function j(o){switch(o.tag){case 5:return V(o.type);case 16:return V("Lazy");case 13:return V("Suspense");case 19:return V("SuspenseList");case 0:case 2:case 15:return o=$(o.type,!1),o;case 11:return o=$(o.type.render,!1),o;case 1:return o=$(o.type,!0),o;default:return""}}function Y(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case k:return"Fragment";case A:return"Portal";case D:return"Profiler";case P:return"StrictMode";case N:return"Suspense";case z:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case M:return(o.displayName||"Context")+".Consumer";case I:return(o._context.displayName||"Context")+".Provider";case L:var l=o.render;return o=o.displayName,o||(o=l.displayName||l.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case G:return l=o.displayName||null,l!==null?l:Y(o.type)||"Memo";case H:l=o._payload,o=o._init;try{return Y(o(l))}catch{}}return null}function ee(o){var l=o.type;switch(o.tag){case 24:return"Cache";case 9:return(l.displayName||"Context")+".Consumer";case 10:return(l._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=l.render,o=o.displayName||o.name||"",l.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return l;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Y(l);case 8:return l===P?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l}return null}function le(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function ie(o){var l=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function Q(o){var l=ie(o)?"checked":"value",h=Object.getOwnPropertyDescriptor(o.constructor.prototype,l),m=""+o[l];if(!o.hasOwnProperty(l)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var C=h.get,_=h.set;return Object.defineProperty(o,l,{configurable:!0,get:function(){return C.call(this)},set:function(O){m=""+O,_.call(this,O)}}),Object.defineProperty(o,l,{enumerable:h.enumerable}),{getValue:function(){return m},setValue:function(O){m=""+O},stopTracking:function(){o._valueTracker=null,delete o[l]}}}}function re(o){o._valueTracker||(o._valueTracker=Q(o))}function se(o){if(!o)return!1;var l=o._valueTracker;if(!l)return!0;var h=l.getValue(),m="";return o&&(m=ie(o)?o.checked?"true":"false":o.value),o=m,o!==h?(l.setValue(o),!0):!1}function ce(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}function me(o,l){var h=l.checked;return K({},l,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:h??o._wrapperState.initialChecked})}function xe(o,l){var h=l.defaultValue==null?"":l.defaultValue,m=l.checked!=null?l.checked:l.defaultChecked;h=le(l.value!=null?l.value:h),o._wrapperState={initialChecked:m,initialValue:h,controlled:l.type==="checkbox"||l.type==="radio"?l.checked!=null:l.value!=null}}function Ze(o,l){l=l.checked,l!=null&&S(o,"checked",l,!1)}function Se(o,l){Ze(o,l);var h=le(l.value),m=l.type;if(h!=null)m==="number"?(h===0&&o.value===""||o.value!=h)&&(o.value=""+h):o.value!==""+h&&(o.value=""+h);else if(m==="submit"||m==="reset"){o.removeAttribute("value");return}l.hasOwnProperty("value")?Oe(o,l.type,h):l.hasOwnProperty("defaultValue")&&Oe(o,l.type,le(l.defaultValue)),l.checked==null&&l.defaultChecked!=null&&(o.defaultChecked=!!l.defaultChecked)}function Ve(o,l,h){if(l.hasOwnProperty("value")||l.hasOwnProperty("defaultValue")){var m=l.type;if(!(m!=="submit"&&m!=="reset"||l.value!==void 0&&l.value!==null))return;l=""+o._wrapperState.initialValue,h||l===o.value||(o.value=l),o.defaultValue=l}h=o.name,h!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,h!==""&&(o.name=h)}function Oe(o,l,h){(l!=="number"||ce(o.ownerDocument)!==o)&&(h==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+h&&(o.defaultValue=""+h))}var Ce=Array.isArray;function Ae(o,l,h,m){if(o=o.options,l){l={};for(var C=0;C<h.length;C++)l["$"+h[C]]=!0;for(h=0;h<o.length;h++)C=l.hasOwnProperty("$"+o[h].value),o[h].selected!==C&&(o[h].selected=C),C&&m&&(o[h].defaultSelected=!0)}else{for(h=""+le(h),l=null,C=0;C<o.length;C++){if(o[C].value===h){o[C].selected=!0,m&&(o[C].defaultSelected=!0);return}l!==null||o[C].disabled||(l=o[C])}l!==null&&(l.selected=!0)}}function Pe(o,l){if(l.dangerouslySetInnerHTML!=null)throw Error(t(91));return K({},l,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function Ne(o,l){var h=l.value;if(h==null){if(h=l.children,l=l.defaultValue,h!=null){if(l!=null)throw Error(t(92));if(Ce(h)){if(1<h.length)throw Error(t(93));h=h[0]}l=h}l==null&&(l=""),h=l}o._wrapperState={initialValue:le(h)}}function Be(o,l){var h=le(l.value),m=le(l.defaultValue);h!=null&&(h=""+h,h!==o.value&&(o.value=h),l.defaultValue==null&&o.defaultValue!==h&&(o.defaultValue=h)),m!=null&&(o.defaultValue=""+m)}function Ye(o){var l=o.textContent;l===o._wrapperState.initialValue&&l!==""&&l!==null&&(o.value=l)}function ar(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function sr(o,l){return o==null||o==="http://www.w3.org/1999/xhtml"?ar(l):o==="http://www.w3.org/2000/svg"&&l==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var er,ur=(function(o){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(l,h,m,C){MSApp.execUnsafeLocalFunction(function(){return o(l,h,m,C)})}:o})(function(o,l){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=l;else{for(er=er||document.createElement("div"),er.innerHTML="<svg>"+l.valueOf().toString()+"</svg>",l=er.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;l.firstChild;)o.appendChild(l.firstChild)}});function Ge(o,l){if(l){var h=o.firstChild;if(h&&h===o.lastChild&&h.nodeType===3){h.nodeValue=l;return}}o.textContent=l}var _e={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},he=["Webkit","ms","Moz","O"];Object.keys(_e).forEach(function(o){he.forEach(function(l){l=l+o.charAt(0).toUpperCase()+o.substring(1),_e[l]=_e[o]})});function q(o,l,h){return l==null||typeof l=="boolean"||l===""?"":h||typeof l!="number"||l===0||_e.hasOwnProperty(o)&&_e[o]?(""+l).trim():l+"px"}function ne(o,l){o=o.style;for(var h in l)if(l.hasOwnProperty(h)){var m=h.indexOf("--")===0,C=q(h,l[h],m);h==="float"&&(h="cssFloat"),m?o.setProperty(h,C):o[h]=C}}var de=K({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ve(o,l){if(l){if(de[o]&&(l.children!=null||l.dangerouslySetInnerHTML!=null))throw Error(t(137,o));if(l.dangerouslySetInnerHTML!=null){if(l.children!=null)throw Error(t(60));if(typeof l.dangerouslySetInnerHTML!="object"||!("__html"in l.dangerouslySetInnerHTML))throw Error(t(61))}if(l.style!=null&&typeof l.style!="object")throw Error(t(62))}}function pe(o,l){if(o.indexOf("-")===-1)return typeof l.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var De=null;function ge(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var qe=null,ke=null,Ue=null;function rr(o){if(o=zo(o)){if(typeof qe!="function")throw Error(t(280));var l=o.stateNode;l&&(l=lu(l),qe(o.stateNode,o.type,l))}}function Qe(o){ke?Ue?Ue.push(o):Ue=[o]:ke=o}function Fe(){if(ke){var o=ke,l=Ue;if(Ue=ke=null,rr(o),l)for(o=0;o<l.length;o++)rr(l[o])}}function nr(o,l){return o(l)}function tr(){}var Ir=!1;function Er(o,l,h){if(Ir)return o(l,h);Ir=!0;try{return nr(o,l,h)}finally{Ir=!1,(ke!==null||Ue!==null)&&(tr(),Fe())}}function Vr(o,l){var h=o.stateNode;if(h===null)return null;var m=lu(h);if(m===null)return null;h=m[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(o=o.type,m=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!m;break e;default:o=!1}if(o)return null;if(h&&typeof h!="function")throw Error(t(231,l,typeof h));return h}var kr=!1;if(u)try{var Rr={};Object.defineProperty(Rr,"passive",{get:function(){kr=!0}}),window.addEventListener("test",Rr,Rr),window.removeEventListener("test",Rr,Rr)}catch{kr=!1}function $r(o,l,h,m,C,_,O,W,Z){var ue=Array.prototype.slice.call(arguments,3);try{l.apply(h,ue)}catch(we){this.onError(we)}}var Mr=!1,zt=null,Sr=!1,Vt=null,on={onError:function(o){Mr=!0,zt=o}};function Yn(o,l,h,m,C,_,O,W,Z){Mr=!1,zt=null,$r.apply(on,arguments)}function gi(o,l,h,m,C,_,O,W,Z){if(Yn.apply(this,arguments),Mr){if(Mr){var ue=zt;Mr=!1,zt=null}else throw Error(t(198));Sr||(Sr=!0,Vt=ue)}}function St(o){var l=o,h=o;if(o.alternate)for(;l.return;)l=l.return;else{o=l;do l=o,(l.flags&4098)!==0&&(h=l.return),o=l.return;while(o)}return l.tag===3?h:null}function st(o){if(o.tag===13){var l=o.memoizedState;if(l===null&&(o=o.alternate,o!==null&&(l=o.memoizedState)),l!==null)return l.dehydrated}return null}function Kr(o){if(St(o)!==o)throw Error(t(188))}function ht(o){var l=o.alternate;if(!l){if(l=St(o),l===null)throw Error(t(188));return l!==o?null:o}for(var h=o,m=l;;){var C=h.return;if(C===null)break;var _=C.alternate;if(_===null){if(m=C.return,m!==null){h=m;continue}break}if(C.child===_.child){for(_=C.child;_;){if(_===h)return Kr(C),o;if(_===m)return Kr(C),l;_=_.sibling}throw Error(t(188))}if(h.return!==m.return)h=C,m=_;else{for(var O=!1,W=C.child;W;){if(W===h){O=!0,h=C,m=_;break}if(W===m){O=!0,m=C,h=_;break}W=W.sibling}if(!O){for(W=_.child;W;){if(W===h){O=!0,h=_,m=C;break}if(W===m){O=!0,m=_,h=C;break}W=W.sibling}if(!O)throw Error(t(189))}}if(h.alternate!==m)throw Error(t(190))}if(h.tag!==3)throw Error(t(188));return h.stateNode.current===h?o:l}function Xn(o){return o=ht(o),o!==null?Ct(o):null}function Ct(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var l=Ct(o);if(l!==null)return l;o=o.sibling}return null}var wo=e.unstable_scheduleCallback,js=e.unstable_cancelCallback,mf=e.unstable_shouldYield,wf=e.unstable_requestPaint,Or=e.unstable_now,bf=e.unstable_getCurrentPriorityLevel,bo=e.unstable_ImmediatePriority,Hs=e.unstable_UserBlockingPriority,mn=e.unstable_NormalPriority,xo=e.unstable_LowPriority,Ba=e.unstable_IdlePriority,qa=null,$t=null;function xf(o){if($t&&typeof $t.onCommitFiberRoot=="function")try{$t.onCommitFiberRoot(qa,o,void 0,(o.current.flags&128)===128)}catch{}}var Nr=Math.clz32?Math.clz32:Fa,Eo=Math.log,Ws=Math.LN2;function Fa(o){return o>>>=0,o===0?32:31-(Eo(o)/Ws|0)|0}var pt=64,yi=4194304;function mi(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function wi(o,l){var h=o.pendingLanes;if(h===0)return 0;var m=0,C=o.suspendedLanes,_=o.pingedLanes,O=h&268435455;if(O!==0){var W=O&~C;W!==0?m=mi(W):(_&=O,_!==0&&(m=mi(_)))}else O=h&~C,O!==0?m=mi(O):_!==0&&(m=mi(_));if(m===0)return 0;if(l!==0&&l!==m&&(l&C)===0&&(C=m&-m,_=l&-l,C>=_||C===16&&(_&4194240)!==0))return l;if((m&4)!==0&&(m|=h&16),l=o.entangledLanes,l!==0)for(o=o.entanglements,l&=m;0<l;)h=31-Nr(l),C=1<<h,m|=o[h],l&=~C;return m}function MP(o,l){switch(o){case 1:case 2:case 4:return l+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function OP(o,l){for(var h=o.suspendedLanes,m=o.pingedLanes,C=o.expirationTimes,_=o.pendingLanes;0<_;){var O=31-Nr(_),W=1<<O,Z=C[O];Z===-1?((W&h)===0||(W&m)!==0)&&(C[O]=MP(W,l)):Z<=l&&(o.expiredLanes|=W),_&=~W}}function Ef(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function f1(){var o=pt;return pt<<=1,(pt&4194240)===0&&(pt=64),o}function Sf(o){for(var l=[],h=0;31>h;h++)l.push(o);return l}function So(o,l,h){o.pendingLanes|=l,l!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,l=31-Nr(l),o[l]=h}function NP(o,l){var h=o.pendingLanes&~l;o.pendingLanes=l,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=l,o.mutableReadLanes&=l,o.entangledLanes&=l,l=o.entanglements;var m=o.eventTimes;for(o=o.expirationTimes;0<h;){var C=31-Nr(h),_=1<<C;l[C]=0,m[C]=-1,o[C]=-1,h&=~_}}function Cf(o,l){var h=o.entangledLanes|=l;for(o=o.entanglements;h;){var m=31-Nr(h),C=1<<m;C&l|o[m]&l&&(o[m]|=l),h&=~C}}var gr=0;function c1(o){return o&=-o,1<o?4<o?(o&268435455)!==0?16:536870912:4:1}var d1,Tf,v1,h1,p1,_f=!1,Ks=[],Zn=null,Qn=null,Jn=null,Co=new Map,To=new Map,ea=[],LP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function g1(o,l){switch(o){case"focusin":case"focusout":Zn=null;break;case"dragenter":case"dragleave":Qn=null;break;case"mouseover":case"mouseout":Jn=null;break;case"pointerover":case"pointerout":Co.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":To.delete(l.pointerId)}}function _o(o,l,h,m,C,_){return o===null||o.nativeEvent!==_?(o={blockedOn:l,domEventName:h,eventSystemFlags:m,nativeEvent:_,targetContainers:[C]},l!==null&&(l=zo(l),l!==null&&Tf(l)),o):(o.eventSystemFlags|=m,l=o.targetContainers,C!==null&&l.indexOf(C)===-1&&l.push(C),o)}function BP(o,l,h,m,C){switch(l){case"focusin":return Zn=_o(Zn,o,l,h,m,C),!0;case"dragenter":return Qn=_o(Qn,o,l,h,m,C),!0;case"mouseover":return Jn=_o(Jn,o,l,h,m,C),!0;case"pointerover":var _=C.pointerId;return Co.set(_,_o(Co.get(_)||null,o,l,h,m,C)),!0;case"gotpointercapture":return _=C.pointerId,To.set(_,_o(To.get(_)||null,o,l,h,m,C)),!0}return!1}function y1(o){var l=za(o.target);if(l!==null){var h=St(l);if(h!==null){if(l=h.tag,l===13){if(l=st(h),l!==null){o.blockedOn=l,p1(o.priority,function(){v1(h)});return}}else if(l===3&&h.stateNode.current.memoizedState.isDehydrated){o.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}o.blockedOn=null}function Ys(o){if(o.blockedOn!==null)return!1;for(var l=o.targetContainers;0<l.length;){var h=Rf(o.domEventName,o.eventSystemFlags,l[0],o.nativeEvent);if(h===null){h=o.nativeEvent;var m=new h.constructor(h.type,h);De=m,h.target.dispatchEvent(m),De=null}else return l=zo(h),l!==null&&Tf(l),o.blockedOn=h,!1;l.shift()}return!0}function m1(o,l,h){Ys(o)&&h.delete(l)}function qP(){_f=!1,Zn!==null&&Ys(Zn)&&(Zn=null),Qn!==null&&Ys(Qn)&&(Qn=null),Jn!==null&&Ys(Jn)&&(Jn=null),Co.forEach(m1),To.forEach(m1)}function ko(o,l){o.blockedOn===l&&(o.blockedOn=null,_f||(_f=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,qP)))}function Ro(o){function l(C){return ko(C,o)}if(0<Ks.length){ko(Ks[0],o);for(var h=1;h<Ks.length;h++){var m=Ks[h];m.blockedOn===o&&(m.blockedOn=null)}}for(Zn!==null&&ko(Zn,o),Qn!==null&&ko(Qn,o),Jn!==null&&ko(Jn,o),Co.forEach(l),To.forEach(l),h=0;h<ea.length;h++)m=ea[h],m.blockedOn===o&&(m.blockedOn=null);for(;0<ea.length&&(h=ea[0],h.blockedOn===null);)y1(h),h.blockedOn===null&&ea.shift()}var bi=T.ReactCurrentBatchConfig,Xs=!0;function FP(o,l,h,m){var C=gr,_=bi.transition;bi.transition=null;try{gr=1,kf(o,l,h,m)}finally{gr=C,bi.transition=_}}function zP(o,l,h,m){var C=gr,_=bi.transition;bi.transition=null;try{gr=4,kf(o,l,h,m)}finally{gr=C,bi.transition=_}}function kf(o,l,h,m){if(Xs){var C=Rf(o,l,h,m);if(C===null)jf(o,l,m,Zs,h),g1(o,m);else if(BP(C,o,l,h,m))m.stopPropagation();else if(g1(o,m),l&4&&-1<LP.indexOf(o)){for(;C!==null;){var _=zo(C);if(_!==null&&d1(_),_=Rf(o,l,h,m),_===null&&jf(o,l,m,Zs,h),_===C)break;C=_}C!==null&&m.stopPropagation()}else jf(o,l,m,null,h)}}var Zs=null;function Rf(o,l,h,m){if(Zs=null,o=ge(m),o=za(o),o!==null)if(l=St(o),l===null)o=null;else if(h=l.tag,h===13){if(o=st(l),o!==null)return o;o=null}else if(h===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;o=null}else l!==o&&(o=null);return Zs=o,null}function w1(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(bf()){case bo:return 1;case Hs:return 4;case mn:case xo:return 16;case Ba:return 536870912;default:return 16}default:return 16}}var ra=null,Af=null,Qs=null;function b1(){if(Qs)return Qs;var o,l=Af,h=l.length,m,C="value"in ra?ra.value:ra.textContent,_=C.length;for(o=0;o<h&&l[o]===C[o];o++);var O=h-o;for(m=1;m<=O&&l[h-m]===C[_-m];m++);return Qs=C.slice(o,1<m?1-m:void 0)}function Js(o){var l=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&l===13&&(o=13)):o=l,o===10&&(o=13),32<=o||o===13?o:0}function eu(){return!0}function x1(){return!1}function Ut(o){function l(h,m,C,_,O){this._reactName=h,this._targetInst=C,this.type=m,this.nativeEvent=_,this.target=O,this.currentTarget=null;for(var W in o)o.hasOwnProperty(W)&&(h=o[W],this[W]=h?h(_):_[W]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?eu:x1,this.isPropagationStopped=x1,this}return K(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=eu)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=eu)},persist:function(){},isPersistent:eu}),l}var xi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Pf=Ut(xi),Ao=K({},xi,{view:0,detail:0}),VP=Ut(Ao),Df,If,Po,ru=K({},Ao,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Of,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==Po&&(Po&&o.type==="mousemove"?(Df=o.screenX-Po.screenX,If=o.screenY-Po.screenY):If=Df=0,Po=o),Df)},movementY:function(o){return"movementY"in o?o.movementY:If}}),E1=Ut(ru),$P=K({},ru,{dataTransfer:0}),UP=Ut($P),GP=K({},Ao,{relatedTarget:0}),Mf=Ut(GP),jP=K({},xi,{animationName:0,elapsedTime:0,pseudoElement:0}),HP=Ut(jP),WP=K({},xi,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),KP=Ut(WP),YP=K({},xi,{data:0}),S1=Ut(YP),XP={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ZP={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},QP={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function JP(o){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(o):(o=QP[o])?!!l[o]:!1}function Of(){return JP}var eD=K({},Ao,{key:function(o){if(o.key){var l=XP[o.key]||o.key;if(l!=="Unidentified")return l}return o.type==="keypress"?(o=Js(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?ZP[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Of,charCode:function(o){return o.type==="keypress"?Js(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?Js(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),rD=Ut(eD),tD=K({},ru,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),C1=Ut(tD),nD=K({},Ao,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Of}),aD=Ut(nD),iD=K({},xi,{propertyName:0,elapsedTime:0,pseudoElement:0}),oD=Ut(iD),sD=K({},ru,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),uD=Ut(sD),lD=[9,13,27,32],Nf=u&&"CompositionEvent"in window,Do=null;u&&"documentMode"in document&&(Do=document.documentMode);var fD=u&&"TextEvent"in window&&!Do,T1=u&&(!Nf||Do&&8<Do&&11>=Do),_1=" ",k1=!1;function R1(o,l){switch(o){case"keyup":return lD.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function A1(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var Ei=!1;function cD(o,l){switch(o){case"compositionend":return A1(l);case"keypress":return l.which!==32?null:(k1=!0,_1);case"textInput":return o=l.data,o===_1&&k1?null:o;default:return null}}function dD(o,l){if(Ei)return o==="compositionend"||!Nf&&R1(o,l)?(o=b1(),Qs=Af=ra=null,Ei=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return T1&&l.locale!=="ko"?null:l.data;default:return null}}var vD={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function P1(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l==="input"?!!vD[o.type]:l==="textarea"}function D1(o,l,h,m){Qe(m),l=ou(l,"onChange"),0<l.length&&(h=new Pf("onChange","change",null,h,m),o.push({event:h,listeners:l}))}var Io=null,Mo=null;function hD(o){Y1(o,0)}function tu(o){var l=ki(o);if(se(l))return o}function pD(o,l){if(o==="change")return l}var I1=!1;if(u){var Lf;if(u){var Bf="oninput"in document;if(!Bf){var M1=document.createElement("div");M1.setAttribute("oninput","return;"),Bf=typeof M1.oninput=="function"}Lf=Bf}else Lf=!1;I1=Lf&&(!document.documentMode||9<document.documentMode)}function O1(){Io&&(Io.detachEvent("onpropertychange",N1),Mo=Io=null)}function N1(o){if(o.propertyName==="value"&&tu(Mo)){var l=[];D1(l,Mo,o,ge(o)),Er(hD,l)}}function gD(o,l,h){o==="focusin"?(O1(),Io=l,Mo=h,Io.attachEvent("onpropertychange",N1)):o==="focusout"&&O1()}function yD(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return tu(Mo)}function mD(o,l){if(o==="click")return tu(l)}function wD(o,l){if(o==="input"||o==="change")return tu(l)}function bD(o,l){return o===l&&(o!==0||1/o===1/l)||o!==o&&l!==l}var sn=typeof Object.is=="function"?Object.is:bD;function Oo(o,l){if(sn(o,l))return!0;if(typeof o!="object"||o===null||typeof l!="object"||l===null)return!1;var h=Object.keys(o),m=Object.keys(l);if(h.length!==m.length)return!1;for(m=0;m<h.length;m++){var C=h[m];if(!f.call(l,C)||!sn(o[C],l[C]))return!1}return!0}function L1(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function B1(o,l){var h=L1(o);o=0;for(var m;h;){if(h.nodeType===3){if(m=o+h.textContent.length,o<=l&&m>=l)return{node:h,offset:l-o};o=m}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=L1(h)}}function q1(o,l){return o&&l?o===l?!0:o&&o.nodeType===3?!1:l&&l.nodeType===3?q1(o,l.parentNode):"contains"in o?o.contains(l):o.compareDocumentPosition?!!(o.compareDocumentPosition(l)&16):!1:!1}function F1(){for(var o=window,l=ce();l instanceof o.HTMLIFrameElement;){try{var h=typeof l.contentWindow.location.href=="string"}catch{h=!1}if(h)o=l.contentWindow;else break;l=ce(o.document)}return l}function qf(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l&&(l==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||l==="textarea"||o.contentEditable==="true")}function xD(o){var l=F1(),h=o.focusedElem,m=o.selectionRange;if(l!==h&&h&&h.ownerDocument&&q1(h.ownerDocument.documentElement,h)){if(m!==null&&qf(h)){if(l=m.start,o=m.end,o===void 0&&(o=l),"selectionStart"in h)h.selectionStart=l,h.selectionEnd=Math.min(o,h.value.length);else if(o=(l=h.ownerDocument||document)&&l.defaultView||window,o.getSelection){o=o.getSelection();var C=h.textContent.length,_=Math.min(m.start,C);m=m.end===void 0?_:Math.min(m.end,C),!o.extend&&_>m&&(C=m,m=_,_=C),C=B1(h,_);var O=B1(h,m);C&&O&&(o.rangeCount!==1||o.anchorNode!==C.node||o.anchorOffset!==C.offset||o.focusNode!==O.node||o.focusOffset!==O.offset)&&(l=l.createRange(),l.setStart(C.node,C.offset),o.removeAllRanges(),_>m?(o.addRange(l),o.extend(O.node,O.offset)):(l.setEnd(O.node,O.offset),o.addRange(l)))}}for(l=[],o=h;o=o.parentNode;)o.nodeType===1&&l.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof h.focus=="function"&&h.focus(),h=0;h<l.length;h++)o=l[h],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var ED=u&&"documentMode"in document&&11>=document.documentMode,Si=null,Ff=null,No=null,zf=!1;function z1(o,l,h){var m=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;zf||Si==null||Si!==ce(m)||(m=Si,"selectionStart"in m&&qf(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),No&&Oo(No,m)||(No=m,m=ou(Ff,"onSelect"),0<m.length&&(l=new Pf("onSelect","select",null,l,h),o.push({event:l,listeners:m}),l.target=Si)))}function nu(o,l){var h={};return h[o.toLowerCase()]=l.toLowerCase(),h["Webkit"+o]="webkit"+l,h["Moz"+o]="moz"+l,h}var Ci={animationend:nu("Animation","AnimationEnd"),animationiteration:nu("Animation","AnimationIteration"),animationstart:nu("Animation","AnimationStart"),transitionend:nu("Transition","TransitionEnd")},Vf={},V1={};u&&(V1=document.createElement("div").style,"AnimationEvent"in window||(delete Ci.animationend.animation,delete Ci.animationiteration.animation,delete Ci.animationstart.animation),"TransitionEvent"in window||delete Ci.transitionend.transition);function au(o){if(Vf[o])return Vf[o];if(!Ci[o])return o;var l=Ci[o],h;for(h in l)if(l.hasOwnProperty(h)&&h in V1)return Vf[o]=l[h];return o}var $1=au("animationend"),U1=au("animationiteration"),G1=au("animationstart"),j1=au("transitionend"),H1=new Map,W1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ta(o,l){H1.set(o,l),i(l,[o])}for(var $f=0;$f<W1.length;$f++){var Uf=W1[$f],SD=Uf.toLowerCase(),CD=Uf[0].toUpperCase()+Uf.slice(1);ta(SD,"on"+CD)}ta($1,"onAnimationEnd"),ta(U1,"onAnimationIteration"),ta(G1,"onAnimationStart"),ta("dblclick","onDoubleClick"),ta("focusin","onFocus"),ta("focusout","onBlur"),ta(j1,"onTransitionEnd"),s("onMouseEnter",["mouseout","mouseover"]),s("onMouseLeave",["mouseout","mouseover"]),s("onPointerEnter",["pointerout","pointerover"]),s("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),TD=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lo));function K1(o,l,h){var m=o.type||"unknown-event";o.currentTarget=h,gi(m,l,void 0,o),o.currentTarget=null}function Y1(o,l){l=(l&4)!==0;for(var h=0;h<o.length;h++){var m=o[h],C=m.event;m=m.listeners;e:{var _=void 0;if(l)for(var O=m.length-1;0<=O;O--){var W=m[O],Z=W.instance,ue=W.currentTarget;if(W=W.listener,Z!==_&&C.isPropagationStopped())break e;K1(C,W,ue),_=Z}else for(O=0;O<m.length;O++){if(W=m[O],Z=W.instance,ue=W.currentTarget,W=W.listener,Z!==_&&C.isPropagationStopped())break e;K1(C,W,ue),_=Z}}}if(Sr)throw o=Vt,Sr=!1,Vt=null,o}function Cr(o,l){var h=l[Zf];h===void 0&&(h=l[Zf]=new Set);var m=o+"__bubble";h.has(m)||(X1(l,o,2,!1),h.add(m))}function Gf(o,l,h){var m=0;l&&(m|=4),X1(h,o,m,l)}var iu="_reactListening"+Math.random().toString(36).slice(2);function Bo(o){if(!o[iu]){o[iu]=!0,n.forEach(function(h){h!=="selectionchange"&&(TD.has(h)||Gf(h,!1,o),Gf(h,!0,o))});var l=o.nodeType===9?o:o.ownerDocument;l===null||l[iu]||(l[iu]=!0,Gf("selectionchange",!1,l))}}function X1(o,l,h,m){switch(w1(l)){case 1:var C=FP;break;case 4:C=zP;break;default:C=kf}h=C.bind(null,l,h,o),C=void 0,!kr||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(C=!0),m?C!==void 0?o.addEventListener(l,h,{capture:!0,passive:C}):o.addEventListener(l,h,!0):C!==void 0?o.addEventListener(l,h,{passive:C}):o.addEventListener(l,h,!1)}function jf(o,l,h,m,C){var _=m;if((l&1)===0&&(l&2)===0&&m!==null)e:for(;;){if(m===null)return;var O=m.tag;if(O===3||O===4){var W=m.stateNode.containerInfo;if(W===C||W.nodeType===8&&W.parentNode===C)break;if(O===4)for(O=m.return;O!==null;){var Z=O.tag;if((Z===3||Z===4)&&(Z=O.stateNode.containerInfo,Z===C||Z.nodeType===8&&Z.parentNode===C))return;O=O.return}for(;W!==null;){if(O=za(W),O===null)return;if(Z=O.tag,Z===5||Z===6){m=_=O;continue e}W=W.parentNode}}m=m.return}Er(function(){var ue=_,we=ge(h),be=[];e:{var ye=H1.get(o);if(ye!==void 0){var Re=Pf,Le=o;switch(o){case"keypress":if(Js(h)===0)break e;case"keydown":case"keyup":Re=rD;break;case"focusin":Le="focus",Re=Mf;break;case"focusout":Le="blur",Re=Mf;break;case"beforeblur":case"afterblur":Re=Mf;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Re=E1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Re=UP;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Re=aD;break;case $1:case U1:case G1:Re=HP;break;case j1:Re=oD;break;case"scroll":Re=VP;break;case"wheel":Re=uD;break;case"copy":case"cut":case"paste":Re=KP;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Re=C1}var ze=(l&4)!==0,Ur=!ze&&o==="scroll",ae=ze?ye!==null?ye+"Capture":null:ye;ze=[];for(var J=ue,oe;J!==null;){oe=J;var Ee=oe.stateNode;if(oe.tag===5&&Ee!==null&&(oe=Ee,ae!==null&&(Ee=Vr(J,ae),Ee!=null&&ze.push(qo(J,Ee,oe)))),Ur)break;J=J.return}0<ze.length&&(ye=new Re(ye,Le,null,h,we),be.push({event:ye,listeners:ze}))}}if((l&7)===0){e:{if(ye=o==="mouseover"||o==="pointerover",Re=o==="mouseout"||o==="pointerout",ye&&h!==De&&(Le=h.relatedTarget||h.fromElement)&&(za(Le)||Le[Dn]))break e;if((Re||ye)&&(ye=we.window===we?we:(ye=we.ownerDocument)?ye.defaultView||ye.parentWindow:window,Re?(Le=h.relatedTarget||h.toElement,Re=ue,Le=Le?za(Le):null,Le!==null&&(Ur=St(Le),Le!==Ur||Le.tag!==5&&Le.tag!==6)&&(Le=null)):(Re=null,Le=ue),Re!==Le)){if(ze=E1,Ee="onMouseLeave",ae="onMouseEnter",J="mouse",(o==="pointerout"||o==="pointerover")&&(ze=C1,Ee="onPointerLeave",ae="onPointerEnter",J="pointer"),Ur=Re==null?ye:ki(Re),oe=Le==null?ye:ki(Le),ye=new ze(Ee,J+"leave",Re,h,we),ye.target=Ur,ye.relatedTarget=oe,Ee=null,za(we)===ue&&(ze=new ze(ae,J+"enter",Le,h,we),ze.target=oe,ze.relatedTarget=Ur,Ee=ze),Ur=Ee,Re&&Le)r:{for(ze=Re,ae=Le,J=0,oe=ze;oe;oe=Ti(oe))J++;for(oe=0,Ee=ae;Ee;Ee=Ti(Ee))oe++;for(;0<J-oe;)ze=Ti(ze),J--;for(;0<oe-J;)ae=Ti(ae),oe--;for(;J--;){if(ze===ae||ae!==null&&ze===ae.alternate)break r;ze=Ti(ze),ae=Ti(ae)}ze=null}else ze=null;Re!==null&&Z1(be,ye,Re,ze,!1),Le!==null&&Ur!==null&&Z1(be,Ur,Le,ze,!0)}}e:{if(ye=ue?ki(ue):window,Re=ye.nodeName&&ye.nodeName.toLowerCase(),Re==="select"||Re==="input"&&ye.type==="file")var $e=pD;else if(P1(ye))if(I1)$e=wD;else{$e=yD;var He=gD}else(Re=ye.nodeName)&&Re.toLowerCase()==="input"&&(ye.type==="checkbox"||ye.type==="radio")&&($e=mD);if($e&&($e=$e(o,ue))){D1(be,$e,h,we);break e}He&&He(o,ye,ue),o==="focusout"&&(He=ye._wrapperState)&&He.controlled&&ye.type==="number"&&Oe(ye,"number",ye.value)}switch(He=ue?ki(ue):window,o){case"focusin":(P1(He)||He.contentEditable==="true")&&(Si=He,Ff=ue,No=null);break;case"focusout":No=Ff=Si=null;break;case"mousedown":zf=!0;break;case"contextmenu":case"mouseup":case"dragend":zf=!1,z1(be,h,we);break;case"selectionchange":if(ED)break;case"keydown":case"keyup":z1(be,h,we)}var We;if(Nf)e:{switch(o){case"compositionstart":var Xe="onCompositionStart";break e;case"compositionend":Xe="onCompositionEnd";break e;case"compositionupdate":Xe="onCompositionUpdate";break e}Xe=void 0}else Ei?R1(o,h)&&(Xe="onCompositionEnd"):o==="keydown"&&h.keyCode===229&&(Xe="onCompositionStart");Xe&&(T1&&h.locale!=="ko"&&(Ei||Xe!=="onCompositionStart"?Xe==="onCompositionEnd"&&Ei&&(We=b1()):(ra=we,Af="value"in ra?ra.value:ra.textContent,Ei=!0)),He=ou(ue,Xe),0<He.length&&(Xe=new S1(Xe,o,null,h,we),be.push({event:Xe,listeners:He}),We?Xe.data=We:(We=A1(h),We!==null&&(Xe.data=We)))),(We=fD?cD(o,h):dD(o,h))&&(ue=ou(ue,"onBeforeInput"),0<ue.length&&(we=new S1("onBeforeInput","beforeinput",null,h,we),be.push({event:we,listeners:ue}),we.data=We))}Y1(be,l)})}function qo(o,l,h){return{instance:o,listener:l,currentTarget:h}}function ou(o,l){for(var h=l+"Capture",m=[];o!==null;){var C=o,_=C.stateNode;C.tag===5&&_!==null&&(C=_,_=Vr(o,h),_!=null&&m.unshift(qo(o,_,C)),_=Vr(o,l),_!=null&&m.push(qo(o,_,C))),o=o.return}return m}function Ti(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function Z1(o,l,h,m,C){for(var _=l._reactName,O=[];h!==null&&h!==m;){var W=h,Z=W.alternate,ue=W.stateNode;if(Z!==null&&Z===m)break;W.tag===5&&ue!==null&&(W=ue,C?(Z=Vr(h,_),Z!=null&&O.unshift(qo(h,Z,W))):C||(Z=Vr(h,_),Z!=null&&O.push(qo(h,Z,W)))),h=h.return}O.length!==0&&o.push({event:l,listeners:O})}var _D=/\r\n?/g,kD=/\u0000|\uFFFD/g;function Q1(o){return(typeof o=="string"?o:""+o).replace(_D,`
`).replace(kD,"")}function su(o,l,h){if(l=Q1(l),Q1(o)!==l&&h)throw Error(t(425))}function uu(){}var Hf=null,Wf=null;function Kf(o,l){return o==="textarea"||o==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var Yf=typeof setTimeout=="function"?setTimeout:void 0,RD=typeof clearTimeout=="function"?clearTimeout:void 0,J1=typeof Promise=="function"?Promise:void 0,AD=typeof queueMicrotask=="function"?queueMicrotask:typeof J1<"u"?function(o){return J1.resolve(null).then(o).catch(PD)}:Yf;function PD(o){setTimeout(function(){throw o})}function Xf(o,l){var h=l,m=0;do{var C=h.nextSibling;if(o.removeChild(h),C&&C.nodeType===8)if(h=C.data,h==="/$"){if(m===0){o.removeChild(C),Ro(l);return}m--}else h!=="$"&&h!=="$?"&&h!=="$!"||m++;h=C}while(h);Ro(l)}function na(o){for(;o!=null;o=o.nextSibling){var l=o.nodeType;if(l===1||l===3)break;if(l===8){if(l=o.data,l==="$"||l==="$!"||l==="$?")break;if(l==="/$")return null}}return o}function ew(o){o=o.previousSibling;for(var l=0;o;){if(o.nodeType===8){var h=o.data;if(h==="$"||h==="$!"||h==="$?"){if(l===0)return o;l--}else h==="/$"&&l++}o=o.previousSibling}return null}var _i=Math.random().toString(36).slice(2),wn="__reactFiber$"+_i,Fo="__reactProps$"+_i,Dn="__reactContainer$"+_i,Zf="__reactEvents$"+_i,DD="__reactListeners$"+_i,ID="__reactHandles$"+_i;function za(o){var l=o[wn];if(l)return l;for(var h=o.parentNode;h;){if(l=h[Dn]||h[wn]){if(h=l.alternate,l.child!==null||h!==null&&h.child!==null)for(o=ew(o);o!==null;){if(h=o[wn])return h;o=ew(o)}return l}o=h,h=o.parentNode}return null}function zo(o){return o=o[wn]||o[Dn],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function ki(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(t(33))}function lu(o){return o[Fo]||null}var Qf=[],Ri=-1;function aa(o){return{current:o}}function Tr(o){0>Ri||(o.current=Qf[Ri],Qf[Ri]=null,Ri--)}function wr(o,l){Ri++,Qf[Ri]=o.current,o.current=l}var ia={},gt=aa(ia),Pt=aa(!1),Va=ia;function Ai(o,l){var h=o.type.contextTypes;if(!h)return ia;var m=o.stateNode;if(m&&m.__reactInternalMemoizedUnmaskedChildContext===l)return m.__reactInternalMemoizedMaskedChildContext;var C={},_;for(_ in h)C[_]=l[_];return m&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=l,o.__reactInternalMemoizedMaskedChildContext=C),C}function Dt(o){return o=o.childContextTypes,o!=null}function fu(){Tr(Pt),Tr(gt)}function rw(o,l,h){if(gt.current!==ia)throw Error(t(168));wr(gt,l),wr(Pt,h)}function tw(o,l,h){var m=o.stateNode;if(l=l.childContextTypes,typeof m.getChildContext!="function")return h;m=m.getChildContext();for(var C in m)if(!(C in l))throw Error(t(108,ee(o)||"Unknown",C));return K({},h,m)}function cu(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||ia,Va=gt.current,wr(gt,o),wr(Pt,Pt.current),!0}function nw(o,l,h){var m=o.stateNode;if(!m)throw Error(t(169));h?(o=tw(o,l,Va),m.__reactInternalMemoizedMergedChildContext=o,Tr(Pt),Tr(gt),wr(gt,o)):Tr(Pt),wr(Pt,h)}var In=null,du=!1,Jf=!1;function aw(o){In===null?In=[o]:In.push(o)}function MD(o){du=!0,aw(o)}function oa(){if(!Jf&&In!==null){Jf=!0;var o=0,l=gr;try{var h=In;for(gr=1;o<h.length;o++){var m=h[o];do m=m(!0);while(m!==null)}In=null,du=!1}catch(C){throw In!==null&&(In=In.slice(o+1)),wo(bo,oa),C}finally{gr=l,Jf=!1}}return null}var Pi=[],Di=0,vu=null,hu=0,Kt=[],Yt=0,$a=null,Mn=1,On="";function Ua(o,l){Pi[Di++]=hu,Pi[Di++]=vu,vu=o,hu=l}function iw(o,l,h){Kt[Yt++]=Mn,Kt[Yt++]=On,Kt[Yt++]=$a,$a=o;var m=Mn;o=On;var C=32-Nr(m)-1;m&=~(1<<C),h+=1;var _=32-Nr(l)+C;if(30<_){var O=C-C%5;_=(m&(1<<O)-1).toString(32),m>>=O,C-=O,Mn=1<<32-Nr(l)+C|h<<C|m,On=_+o}else Mn=1<<_|h<<C|m,On=o}function ec(o){o.return!==null&&(Ua(o,1),iw(o,1,0))}function rc(o){for(;o===vu;)vu=Pi[--Di],Pi[Di]=null,hu=Pi[--Di],Pi[Di]=null;for(;o===$a;)$a=Kt[--Yt],Kt[Yt]=null,On=Kt[--Yt],Kt[Yt]=null,Mn=Kt[--Yt],Kt[Yt]=null}var Gt=null,jt=null,Ar=!1,un=null;function ow(o,l){var h=Jt(5,null,null,0);h.elementType="DELETED",h.stateNode=l,h.return=o,l=o.deletions,l===null?(o.deletions=[h],o.flags|=16):l.push(h)}function sw(o,l){switch(o.tag){case 5:var h=o.type;return l=l.nodeType!==1||h.toLowerCase()!==l.nodeName.toLowerCase()?null:l,l!==null?(o.stateNode=l,Gt=o,jt=na(l.firstChild),!0):!1;case 6:return l=o.pendingProps===""||l.nodeType!==3?null:l,l!==null?(o.stateNode=l,Gt=o,jt=null,!0):!1;case 13:return l=l.nodeType!==8?null:l,l!==null?(h=$a!==null?{id:Mn,overflow:On}:null,o.memoizedState={dehydrated:l,treeContext:h,retryLane:1073741824},h=Jt(18,null,null,0),h.stateNode=l,h.return=o,o.child=h,Gt=o,jt=null,!0):!1;default:return!1}}function tc(o){return(o.mode&1)!==0&&(o.flags&128)===0}function nc(o){if(Ar){var l=jt;if(l){var h=l;if(!sw(o,l)){if(tc(o))throw Error(t(418));l=na(h.nextSibling);var m=Gt;l&&sw(o,l)?ow(m,h):(o.flags=o.flags&-4097|2,Ar=!1,Gt=o)}}else{if(tc(o))throw Error(t(418));o.flags=o.flags&-4097|2,Ar=!1,Gt=o}}}function uw(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;Gt=o}function pu(o){if(o!==Gt)return!1;if(!Ar)return uw(o),Ar=!0,!1;var l;if((l=o.tag!==3)&&!(l=o.tag!==5)&&(l=o.type,l=l!=="head"&&l!=="body"&&!Kf(o.type,o.memoizedProps)),l&&(l=jt)){if(tc(o))throw lw(),Error(t(418));for(;l;)ow(o,l),l=na(l.nextSibling)}if(uw(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(t(317));e:{for(o=o.nextSibling,l=0;o;){if(o.nodeType===8){var h=o.data;if(h==="/$"){if(l===0){jt=na(o.nextSibling);break e}l--}else h!=="$"&&h!=="$!"&&h!=="$?"||l++}o=o.nextSibling}jt=null}}else jt=Gt?na(o.stateNode.nextSibling):null;return!0}function lw(){for(var o=jt;o;)o=na(o.nextSibling)}function Ii(){jt=Gt=null,Ar=!1}function ac(o){un===null?un=[o]:un.push(o)}var OD=T.ReactCurrentBatchConfig;function Vo(o,l,h){if(o=h.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(h._owner){if(h=h._owner,h){if(h.tag!==1)throw Error(t(309));var m=h.stateNode}if(!m)throw Error(t(147,o));var C=m,_=""+o;return l!==null&&l.ref!==null&&typeof l.ref=="function"&&l.ref._stringRef===_?l.ref:(l=function(O){var W=C.refs;O===null?delete W[_]:W[_]=O},l._stringRef=_,l)}if(typeof o!="string")throw Error(t(284));if(!h._owner)throw Error(t(290,o))}return o}function gu(o,l){throw o=Object.prototype.toString.call(l),Error(t(31,o==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":o))}function fw(o){var l=o._init;return l(o._payload)}function cw(o){function l(ae,J){if(o){var oe=ae.deletions;oe===null?(ae.deletions=[J],ae.flags|=16):oe.push(J)}}function h(ae,J){if(!o)return null;for(;J!==null;)l(ae,J),J=J.sibling;return null}function m(ae,J){for(ae=new Map;J!==null;)J.key!==null?ae.set(J.key,J):ae.set(J.index,J),J=J.sibling;return ae}function C(ae,J){return ae=ha(ae,J),ae.index=0,ae.sibling=null,ae}function _(ae,J,oe){return ae.index=oe,o?(oe=ae.alternate,oe!==null?(oe=oe.index,oe<J?(ae.flags|=2,J):oe):(ae.flags|=2,J)):(ae.flags|=1048576,J)}function O(ae){return o&&ae.alternate===null&&(ae.flags|=2),ae}function W(ae,J,oe,Ee){return J===null||J.tag!==6?(J=Yc(oe,ae.mode,Ee),J.return=ae,J):(J=C(J,oe),J.return=ae,J)}function Z(ae,J,oe,Ee){var $e=oe.type;return $e===k?we(ae,J,oe.props.children,Ee,oe.key):J!==null&&(J.elementType===$e||typeof $e=="object"&&$e!==null&&$e.$$typeof===H&&fw($e)===J.type)?(Ee=C(J,oe.props),Ee.ref=Vo(ae,J,oe),Ee.return=ae,Ee):(Ee=zu(oe.type,oe.key,oe.props,null,ae.mode,Ee),Ee.ref=Vo(ae,J,oe),Ee.return=ae,Ee)}function ue(ae,J,oe,Ee){return J===null||J.tag!==4||J.stateNode.containerInfo!==oe.containerInfo||J.stateNode.implementation!==oe.implementation?(J=Xc(oe,ae.mode,Ee),J.return=ae,J):(J=C(J,oe.children||[]),J.return=ae,J)}function we(ae,J,oe,Ee,$e){return J===null||J.tag!==7?(J=Za(oe,ae.mode,Ee,$e),J.return=ae,J):(J=C(J,oe),J.return=ae,J)}function be(ae,J,oe){if(typeof J=="string"&&J!==""||typeof J=="number")return J=Yc(""+J,ae.mode,oe),J.return=ae,J;if(typeof J=="object"&&J!==null){switch(J.$$typeof){case R:return oe=zu(J.type,J.key,J.props,null,ae.mode,oe),oe.ref=Vo(ae,null,J),oe.return=ae,oe;case A:return J=Xc(J,ae.mode,oe),J.return=ae,J;case H:var Ee=J._init;return be(ae,Ee(J._payload),oe)}if(Ce(J)||X(J))return J=Za(J,ae.mode,oe,null),J.return=ae,J;gu(ae,J)}return null}function ye(ae,J,oe,Ee){var $e=J!==null?J.key:null;if(typeof oe=="string"&&oe!==""||typeof oe=="number")return $e!==null?null:W(ae,J,""+oe,Ee);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case R:return oe.key===$e?Z(ae,J,oe,Ee):null;case A:return oe.key===$e?ue(ae,J,oe,Ee):null;case H:return $e=oe._init,ye(ae,J,$e(oe._payload),Ee)}if(Ce(oe)||X(oe))return $e!==null?null:we(ae,J,oe,Ee,null);gu(ae,oe)}return null}function Re(ae,J,oe,Ee,$e){if(typeof Ee=="string"&&Ee!==""||typeof Ee=="number")return ae=ae.get(oe)||null,W(J,ae,""+Ee,$e);if(typeof Ee=="object"&&Ee!==null){switch(Ee.$$typeof){case R:return ae=ae.get(Ee.key===null?oe:Ee.key)||null,Z(J,ae,Ee,$e);case A:return ae=ae.get(Ee.key===null?oe:Ee.key)||null,ue(J,ae,Ee,$e);case H:var He=Ee._init;return Re(ae,J,oe,He(Ee._payload),$e)}if(Ce(Ee)||X(Ee))return ae=ae.get(oe)||null,we(J,ae,Ee,$e,null);gu(J,Ee)}return null}function Le(ae,J,oe,Ee){for(var $e=null,He=null,We=J,Xe=J=0,nt=null;We!==null&&Xe<oe.length;Xe++){We.index>Xe?(nt=We,We=null):nt=We.sibling;var dr=ye(ae,We,oe[Xe],Ee);if(dr===null){We===null&&(We=nt);break}o&&We&&dr.alternate===null&&l(ae,We),J=_(dr,J,Xe),He===null?$e=dr:He.sibling=dr,He=dr,We=nt}if(Xe===oe.length)return h(ae,We),Ar&&Ua(ae,Xe),$e;if(We===null){for(;Xe<oe.length;Xe++)We=be(ae,oe[Xe],Ee),We!==null&&(J=_(We,J,Xe),He===null?$e=We:He.sibling=We,He=We);return Ar&&Ua(ae,Xe),$e}for(We=m(ae,We);Xe<oe.length;Xe++)nt=Re(We,ae,Xe,oe[Xe],Ee),nt!==null&&(o&&nt.alternate!==null&&We.delete(nt.key===null?Xe:nt.key),J=_(nt,J,Xe),He===null?$e=nt:He.sibling=nt,He=nt);return o&&We.forEach(function(pa){return l(ae,pa)}),Ar&&Ua(ae,Xe),$e}function ze(ae,J,oe,Ee){var $e=X(oe);if(typeof $e!="function")throw Error(t(150));if(oe=$e.call(oe),oe==null)throw Error(t(151));for(var He=$e=null,We=J,Xe=J=0,nt=null,dr=oe.next();We!==null&&!dr.done;Xe++,dr=oe.next()){We.index>Xe?(nt=We,We=null):nt=We.sibling;var pa=ye(ae,We,dr.value,Ee);if(pa===null){We===null&&(We=nt);break}o&&We&&pa.alternate===null&&l(ae,We),J=_(pa,J,Xe),He===null?$e=pa:He.sibling=pa,He=pa,We=nt}if(dr.done)return h(ae,We),Ar&&Ua(ae,Xe),$e;if(We===null){for(;!dr.done;Xe++,dr=oe.next())dr=be(ae,dr.value,Ee),dr!==null&&(J=_(dr,J,Xe),He===null?$e=dr:He.sibling=dr,He=dr);return Ar&&Ua(ae,Xe),$e}for(We=m(ae,We);!dr.done;Xe++,dr=oe.next())dr=Re(We,ae,Xe,dr.value,Ee),dr!==null&&(o&&dr.alternate!==null&&We.delete(dr.key===null?Xe:dr.key),J=_(dr,J,Xe),He===null?$e=dr:He.sibling=dr,He=dr);return o&&We.forEach(function(vI){return l(ae,vI)}),Ar&&Ua(ae,Xe),$e}function Ur(ae,J,oe,Ee){if(typeof oe=="object"&&oe!==null&&oe.type===k&&oe.key===null&&(oe=oe.props.children),typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case R:e:{for(var $e=oe.key,He=J;He!==null;){if(He.key===$e){if($e=oe.type,$e===k){if(He.tag===7){h(ae,He.sibling),J=C(He,oe.props.children),J.return=ae,ae=J;break e}}else if(He.elementType===$e||typeof $e=="object"&&$e!==null&&$e.$$typeof===H&&fw($e)===He.type){h(ae,He.sibling),J=C(He,oe.props),J.ref=Vo(ae,He,oe),J.return=ae,ae=J;break e}h(ae,He);break}else l(ae,He);He=He.sibling}oe.type===k?(J=Za(oe.props.children,ae.mode,Ee,oe.key),J.return=ae,ae=J):(Ee=zu(oe.type,oe.key,oe.props,null,ae.mode,Ee),Ee.ref=Vo(ae,J,oe),Ee.return=ae,ae=Ee)}return O(ae);case A:e:{for(He=oe.key;J!==null;){if(J.key===He)if(J.tag===4&&J.stateNode.containerInfo===oe.containerInfo&&J.stateNode.implementation===oe.implementation){h(ae,J.sibling),J=C(J,oe.children||[]),J.return=ae,ae=J;break e}else{h(ae,J);break}else l(ae,J);J=J.sibling}J=Xc(oe,ae.mode,Ee),J.return=ae,ae=J}return O(ae);case H:return He=oe._init,Ur(ae,J,He(oe._payload),Ee)}if(Ce(oe))return Le(ae,J,oe,Ee);if(X(oe))return ze(ae,J,oe,Ee);gu(ae,oe)}return typeof oe=="string"&&oe!==""||typeof oe=="number"?(oe=""+oe,J!==null&&J.tag===6?(h(ae,J.sibling),J=C(J,oe),J.return=ae,ae=J):(h(ae,J),J=Yc(oe,ae.mode,Ee),J.return=ae,ae=J),O(ae)):h(ae,J)}return Ur}var Mi=cw(!0),dw=cw(!1),yu=aa(null),mu=null,Oi=null,ic=null;function oc(){ic=Oi=mu=null}function sc(o){var l=yu.current;Tr(yu),o._currentValue=l}function uc(o,l,h){for(;o!==null;){var m=o.alternate;if((o.childLanes&l)!==l?(o.childLanes|=l,m!==null&&(m.childLanes|=l)):m!==null&&(m.childLanes&l)!==l&&(m.childLanes|=l),o===h)break;o=o.return}}function Ni(o,l){mu=o,ic=Oi=null,o=o.dependencies,o!==null&&o.firstContext!==null&&((o.lanes&l)!==0&&(It=!0),o.firstContext=null)}function Xt(o){var l=o._currentValue;if(ic!==o)if(o={context:o,memoizedValue:l,next:null},Oi===null){if(mu===null)throw Error(t(308));Oi=o,mu.dependencies={lanes:0,firstContext:o}}else Oi=Oi.next=o;return l}var Ga=null;function lc(o){Ga===null?Ga=[o]:Ga.push(o)}function vw(o,l,h,m){var C=l.interleaved;return C===null?(h.next=h,lc(l)):(h.next=C.next,C.next=h),l.interleaved=h,Nn(o,m)}function Nn(o,l){o.lanes|=l;var h=o.alternate;for(h!==null&&(h.lanes|=l),h=o,o=o.return;o!==null;)o.childLanes|=l,h=o.alternate,h!==null&&(h.childLanes|=l),h=o,o=o.return;return h.tag===3?h.stateNode:null}var sa=!1;function fc(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function hw(o,l){o=o.updateQueue,l.updateQueue===o&&(l.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function Ln(o,l){return{eventTime:o,lane:l,tag:0,payload:null,callback:null,next:null}}function ua(o,l,h){var m=o.updateQueue;if(m===null)return null;if(m=m.shared,(lr&2)!==0){var C=m.pending;return C===null?l.next=l:(l.next=C.next,C.next=l),m.pending=l,Nn(o,h)}return C=m.interleaved,C===null?(l.next=l,lc(m)):(l.next=C.next,C.next=l),m.interleaved=l,Nn(o,h)}function wu(o,l,h){if(l=l.updateQueue,l!==null&&(l=l.shared,(h&4194240)!==0)){var m=l.lanes;m&=o.pendingLanes,h|=m,l.lanes=h,Cf(o,h)}}function pw(o,l){var h=o.updateQueue,m=o.alternate;if(m!==null&&(m=m.updateQueue,h===m)){var C=null,_=null;if(h=h.firstBaseUpdate,h!==null){do{var O={eventTime:h.eventTime,lane:h.lane,tag:h.tag,payload:h.payload,callback:h.callback,next:null};_===null?C=_=O:_=_.next=O,h=h.next}while(h!==null);_===null?C=_=l:_=_.next=l}else C=_=l;h={baseState:m.baseState,firstBaseUpdate:C,lastBaseUpdate:_,shared:m.shared,effects:m.effects},o.updateQueue=h;return}o=h.lastBaseUpdate,o===null?h.firstBaseUpdate=l:o.next=l,h.lastBaseUpdate=l}function bu(o,l,h,m){var C=o.updateQueue;sa=!1;var _=C.firstBaseUpdate,O=C.lastBaseUpdate,W=C.shared.pending;if(W!==null){C.shared.pending=null;var Z=W,ue=Z.next;Z.next=null,O===null?_=ue:O.next=ue,O=Z;var we=o.alternate;we!==null&&(we=we.updateQueue,W=we.lastBaseUpdate,W!==O&&(W===null?we.firstBaseUpdate=ue:W.next=ue,we.lastBaseUpdate=Z))}if(_!==null){var be=C.baseState;O=0,we=ue=Z=null,W=_;do{var ye=W.lane,Re=W.eventTime;if((m&ye)===ye){we!==null&&(we=we.next={eventTime:Re,lane:0,tag:W.tag,payload:W.payload,callback:W.callback,next:null});e:{var Le=o,ze=W;switch(ye=l,Re=h,ze.tag){case 1:if(Le=ze.payload,typeof Le=="function"){be=Le.call(Re,be,ye);break e}be=Le;break e;case 3:Le.flags=Le.flags&-65537|128;case 0:if(Le=ze.payload,ye=typeof Le=="function"?Le.call(Re,be,ye):Le,ye==null)break e;be=K({},be,ye);break e;case 2:sa=!0}}W.callback!==null&&W.lane!==0&&(o.flags|=64,ye=C.effects,ye===null?C.effects=[W]:ye.push(W))}else Re={eventTime:Re,lane:ye,tag:W.tag,payload:W.payload,callback:W.callback,next:null},we===null?(ue=we=Re,Z=be):we=we.next=Re,O|=ye;if(W=W.next,W===null){if(W=C.shared.pending,W===null)break;ye=W,W=ye.next,ye.next=null,C.lastBaseUpdate=ye,C.shared.pending=null}}while(!0);if(we===null&&(Z=be),C.baseState=Z,C.firstBaseUpdate=ue,C.lastBaseUpdate=we,l=C.shared.interleaved,l!==null){C=l;do O|=C.lane,C=C.next;while(C!==l)}else _===null&&(C.shared.lanes=0);Wa|=O,o.lanes=O,o.memoizedState=be}}function gw(o,l,h){if(o=l.effects,l.effects=null,o!==null)for(l=0;l<o.length;l++){var m=o[l],C=m.callback;if(C!==null){if(m.callback=null,m=h,typeof C!="function")throw Error(t(191,C));C.call(m)}}}var $o={},bn=aa($o),Uo=aa($o),Go=aa($o);function ja(o){if(o===$o)throw Error(t(174));return o}function cc(o,l){switch(wr(Go,l),wr(Uo,o),wr(bn,$o),o=l.nodeType,o){case 9:case 11:l=(l=l.documentElement)?l.namespaceURI:sr(null,"");break;default:o=o===8?l.parentNode:l,l=o.namespaceURI||null,o=o.tagName,l=sr(l,o)}Tr(bn),wr(bn,l)}function Li(){Tr(bn),Tr(Uo),Tr(Go)}function yw(o){ja(Go.current);var l=ja(bn.current),h=sr(l,o.type);l!==h&&(wr(Uo,o),wr(bn,h))}function dc(o){Uo.current===o&&(Tr(bn),Tr(Uo))}var Lr=aa(0);function xu(o){for(var l=o;l!==null;){if(l.tag===13){var h=l.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||h.data==="$?"||h.data==="$!"))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var vc=[];function hc(){for(var o=0;o<vc.length;o++)vc[o]._workInProgressVersionPrimary=null;vc.length=0}var Eu=T.ReactCurrentDispatcher,pc=T.ReactCurrentBatchConfig,Ha=0,Br=null,Yr=null,rt=null,Su=!1,jo=!1,Ho=0,ND=0;function yt(){throw Error(t(321))}function gc(o,l){if(l===null)return!1;for(var h=0;h<l.length&&h<o.length;h++)if(!sn(o[h],l[h]))return!1;return!0}function yc(o,l,h,m,C,_){if(Ha=_,Br=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,Eu.current=o===null||o.memoizedState===null?FD:zD,o=h(m,C),jo){_=0;do{if(jo=!1,Ho=0,25<=_)throw Error(t(301));_+=1,rt=Yr=null,l.updateQueue=null,Eu.current=VD,o=h(m,C)}while(jo)}if(Eu.current=_u,l=Yr!==null&&Yr.next!==null,Ha=0,rt=Yr=Br=null,Su=!1,l)throw Error(t(300));return o}function mc(){var o=Ho!==0;return Ho=0,o}function xn(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return rt===null?Br.memoizedState=rt=o:rt=rt.next=o,rt}function Zt(){if(Yr===null){var o=Br.alternate;o=o!==null?o.memoizedState:null}else o=Yr.next;var l=rt===null?Br.memoizedState:rt.next;if(l!==null)rt=l,Yr=o;else{if(o===null)throw Error(t(310));Yr=o,o={memoizedState:Yr.memoizedState,baseState:Yr.baseState,baseQueue:Yr.baseQueue,queue:Yr.queue,next:null},rt===null?Br.memoizedState=rt=o:rt=rt.next=o}return rt}function Wo(o,l){return typeof l=="function"?l(o):l}function wc(o){var l=Zt(),h=l.queue;if(h===null)throw Error(t(311));h.lastRenderedReducer=o;var m=Yr,C=m.baseQueue,_=h.pending;if(_!==null){if(C!==null){var O=C.next;C.next=_.next,_.next=O}m.baseQueue=C=_,h.pending=null}if(C!==null){_=C.next,m=m.baseState;var W=O=null,Z=null,ue=_;do{var we=ue.lane;if((Ha&we)===we)Z!==null&&(Z=Z.next={lane:0,action:ue.action,hasEagerState:ue.hasEagerState,eagerState:ue.eagerState,next:null}),m=ue.hasEagerState?ue.eagerState:o(m,ue.action);else{var be={lane:we,action:ue.action,hasEagerState:ue.hasEagerState,eagerState:ue.eagerState,next:null};Z===null?(W=Z=be,O=m):Z=Z.next=be,Br.lanes|=we,Wa|=we}ue=ue.next}while(ue!==null&&ue!==_);Z===null?O=m:Z.next=W,sn(m,l.memoizedState)||(It=!0),l.memoizedState=m,l.baseState=O,l.baseQueue=Z,h.lastRenderedState=m}if(o=h.interleaved,o!==null){C=o;do _=C.lane,Br.lanes|=_,Wa|=_,C=C.next;while(C!==o)}else C===null&&(h.lanes=0);return[l.memoizedState,h.dispatch]}function bc(o){var l=Zt(),h=l.queue;if(h===null)throw Error(t(311));h.lastRenderedReducer=o;var m=h.dispatch,C=h.pending,_=l.memoizedState;if(C!==null){h.pending=null;var O=C=C.next;do _=o(_,O.action),O=O.next;while(O!==C);sn(_,l.memoizedState)||(It=!0),l.memoizedState=_,l.baseQueue===null&&(l.baseState=_),h.lastRenderedState=_}return[_,m]}function mw(){}function ww(o,l){var h=Br,m=Zt(),C=l(),_=!sn(m.memoizedState,C);if(_&&(m.memoizedState=C,It=!0),m=m.queue,xc(Ew.bind(null,h,m,o),[o]),m.getSnapshot!==l||_||rt!==null&&rt.memoizedState.tag&1){if(h.flags|=2048,Ko(9,xw.bind(null,h,m,C,l),void 0,null),tt===null)throw Error(t(349));(Ha&30)!==0||bw(h,l,C)}return C}function bw(o,l,h){o.flags|=16384,o={getSnapshot:l,value:h},l=Br.updateQueue,l===null?(l={lastEffect:null,stores:null},Br.updateQueue=l,l.stores=[o]):(h=l.stores,h===null?l.stores=[o]:h.push(o))}function xw(o,l,h,m){l.value=h,l.getSnapshot=m,Sw(l)&&Cw(o)}function Ew(o,l,h){return h(function(){Sw(l)&&Cw(o)})}function Sw(o){var l=o.getSnapshot;o=o.value;try{var h=l();return!sn(o,h)}catch{return!0}}function Cw(o){var l=Nn(o,1);l!==null&&dn(l,o,1,-1)}function Tw(o){var l=xn();return typeof o=="function"&&(o=o()),l.memoizedState=l.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Wo,lastRenderedState:o},l.queue=o,o=o.dispatch=qD.bind(null,Br,o),[l.memoizedState,o]}function Ko(o,l,h,m){return o={tag:o,create:l,destroy:h,deps:m,next:null},l=Br.updateQueue,l===null?(l={lastEffect:null,stores:null},Br.updateQueue=l,l.lastEffect=o.next=o):(h=l.lastEffect,h===null?l.lastEffect=o.next=o:(m=h.next,h.next=o,o.next=m,l.lastEffect=o)),o}function _w(){return Zt().memoizedState}function Cu(o,l,h,m){var C=xn();Br.flags|=o,C.memoizedState=Ko(1|l,h,void 0,m===void 0?null:m)}function Tu(o,l,h,m){var C=Zt();m=m===void 0?null:m;var _=void 0;if(Yr!==null){var O=Yr.memoizedState;if(_=O.destroy,m!==null&&gc(m,O.deps)){C.memoizedState=Ko(l,h,_,m);return}}Br.flags|=o,C.memoizedState=Ko(1|l,h,_,m)}function kw(o,l){return Cu(8390656,8,o,l)}function xc(o,l){return Tu(2048,8,o,l)}function Rw(o,l){return Tu(4,2,o,l)}function Aw(o,l){return Tu(4,4,o,l)}function Pw(o,l){if(typeof l=="function")return o=o(),l(o),function(){l(null)};if(l!=null)return o=o(),l.current=o,function(){l.current=null}}function Dw(o,l,h){return h=h!=null?h.concat([o]):null,Tu(4,4,Pw.bind(null,l,o),h)}function Ec(){}function Iw(o,l){var h=Zt();l=l===void 0?null:l;var m=h.memoizedState;return m!==null&&l!==null&&gc(l,m[1])?m[0]:(h.memoizedState=[o,l],o)}function Mw(o,l){var h=Zt();l=l===void 0?null:l;var m=h.memoizedState;return m!==null&&l!==null&&gc(l,m[1])?m[0]:(o=o(),h.memoizedState=[o,l],o)}function Ow(o,l,h){return(Ha&21)===0?(o.baseState&&(o.baseState=!1,It=!0),o.memoizedState=h):(sn(h,l)||(h=f1(),Br.lanes|=h,Wa|=h,o.baseState=!0),l)}function LD(o,l){var h=gr;gr=h!==0&&4>h?h:4,o(!0);var m=pc.transition;pc.transition={};try{o(!1),l()}finally{gr=h,pc.transition=m}}function Nw(){return Zt().memoizedState}function BD(o,l,h){var m=da(o);if(h={lane:m,action:h,hasEagerState:!1,eagerState:null,next:null},Lw(o))Bw(l,h);else if(h=vw(o,l,h,m),h!==null){var C=_t();dn(h,o,m,C),qw(h,l,m)}}function qD(o,l,h){var m=da(o),C={lane:m,action:h,hasEagerState:!1,eagerState:null,next:null};if(Lw(o))Bw(l,C);else{var _=o.alternate;if(o.lanes===0&&(_===null||_.lanes===0)&&(_=l.lastRenderedReducer,_!==null))try{var O=l.lastRenderedState,W=_(O,h);if(C.hasEagerState=!0,C.eagerState=W,sn(W,O)){var Z=l.interleaved;Z===null?(C.next=C,lc(l)):(C.next=Z.next,Z.next=C),l.interleaved=C;return}}catch{}finally{}h=vw(o,l,C,m),h!==null&&(C=_t(),dn(h,o,m,C),qw(h,l,m))}}function Lw(o){var l=o.alternate;return o===Br||l!==null&&l===Br}function Bw(o,l){jo=Su=!0;var h=o.pending;h===null?l.next=l:(l.next=h.next,h.next=l),o.pending=l}function qw(o,l,h){if((h&4194240)!==0){var m=l.lanes;m&=o.pendingLanes,h|=m,l.lanes=h,Cf(o,h)}}var _u={readContext:Xt,useCallback:yt,useContext:yt,useEffect:yt,useImperativeHandle:yt,useInsertionEffect:yt,useLayoutEffect:yt,useMemo:yt,useReducer:yt,useRef:yt,useState:yt,useDebugValue:yt,useDeferredValue:yt,useTransition:yt,useMutableSource:yt,useSyncExternalStore:yt,useId:yt,unstable_isNewReconciler:!1},FD={readContext:Xt,useCallback:function(o,l){return xn().memoizedState=[o,l===void 0?null:l],o},useContext:Xt,useEffect:kw,useImperativeHandle:function(o,l,h){return h=h!=null?h.concat([o]):null,Cu(4194308,4,Pw.bind(null,l,o),h)},useLayoutEffect:function(o,l){return Cu(4194308,4,o,l)},useInsertionEffect:function(o,l){return Cu(4,2,o,l)},useMemo:function(o,l){var h=xn();return l=l===void 0?null:l,o=o(),h.memoizedState=[o,l],o},useReducer:function(o,l,h){var m=xn();return l=h!==void 0?h(l):l,m.memoizedState=m.baseState=l,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:l},m.queue=o,o=o.dispatch=BD.bind(null,Br,o),[m.memoizedState,o]},useRef:function(o){var l=xn();return o={current:o},l.memoizedState=o},useState:Tw,useDebugValue:Ec,useDeferredValue:function(o){return xn().memoizedState=o},useTransition:function(){var o=Tw(!1),l=o[0];return o=LD.bind(null,o[1]),xn().memoizedState=o,[l,o]},useMutableSource:function(){},useSyncExternalStore:function(o,l,h){var m=Br,C=xn();if(Ar){if(h===void 0)throw Error(t(407));h=h()}else{if(h=l(),tt===null)throw Error(t(349));(Ha&30)!==0||bw(m,l,h)}C.memoizedState=h;var _={value:h,getSnapshot:l};return C.queue=_,kw(Ew.bind(null,m,_,o),[o]),m.flags|=2048,Ko(9,xw.bind(null,m,_,h,l),void 0,null),h},useId:function(){var o=xn(),l=tt.identifierPrefix;if(Ar){var h=On,m=Mn;h=(m&~(1<<32-Nr(m)-1)).toString(32)+h,l=":"+l+"R"+h,h=Ho++,0<h&&(l+="H"+h.toString(32)),l+=":"}else h=ND++,l=":"+l+"r"+h.toString(32)+":";return o.memoizedState=l},unstable_isNewReconciler:!1},zD={readContext:Xt,useCallback:Iw,useContext:Xt,useEffect:xc,useImperativeHandle:Dw,useInsertionEffect:Rw,useLayoutEffect:Aw,useMemo:Mw,useReducer:wc,useRef:_w,useState:function(){return wc(Wo)},useDebugValue:Ec,useDeferredValue:function(o){var l=Zt();return Ow(l,Yr.memoizedState,o)},useTransition:function(){var o=wc(Wo)[0],l=Zt().memoizedState;return[o,l]},useMutableSource:mw,useSyncExternalStore:ww,useId:Nw,unstable_isNewReconciler:!1},VD={readContext:Xt,useCallback:Iw,useContext:Xt,useEffect:xc,useImperativeHandle:Dw,useInsertionEffect:Rw,useLayoutEffect:Aw,useMemo:Mw,useReducer:bc,useRef:_w,useState:function(){return bc(Wo)},useDebugValue:Ec,useDeferredValue:function(o){var l=Zt();return Yr===null?l.memoizedState=o:Ow(l,Yr.memoizedState,o)},useTransition:function(){var o=bc(Wo)[0],l=Zt().memoizedState;return[o,l]},useMutableSource:mw,useSyncExternalStore:ww,useId:Nw,unstable_isNewReconciler:!1};function ln(o,l){if(o&&o.defaultProps){l=K({},l),o=o.defaultProps;for(var h in o)l[h]===void 0&&(l[h]=o[h]);return l}return l}function Sc(o,l,h,m){l=o.memoizedState,h=h(m,l),h=h==null?l:K({},l,h),o.memoizedState=h,o.lanes===0&&(o.updateQueue.baseState=h)}var ku={isMounted:function(o){return(o=o._reactInternals)?St(o)===o:!1},enqueueSetState:function(o,l,h){o=o._reactInternals;var m=_t(),C=da(o),_=Ln(m,C);_.payload=l,h!=null&&(_.callback=h),l=ua(o,_,C),l!==null&&(dn(l,o,C,m),wu(l,o,C))},enqueueReplaceState:function(o,l,h){o=o._reactInternals;var m=_t(),C=da(o),_=Ln(m,C);_.tag=1,_.payload=l,h!=null&&(_.callback=h),l=ua(o,_,C),l!==null&&(dn(l,o,C,m),wu(l,o,C))},enqueueForceUpdate:function(o,l){o=o._reactInternals;var h=_t(),m=da(o),C=Ln(h,m);C.tag=2,l!=null&&(C.callback=l),l=ua(o,C,m),l!==null&&(dn(l,o,m,h),wu(l,o,m))}};function Fw(o,l,h,m,C,_,O){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(m,_,O):l.prototype&&l.prototype.isPureReactComponent?!Oo(h,m)||!Oo(C,_):!0}function zw(o,l,h){var m=!1,C=ia,_=l.contextType;return typeof _=="object"&&_!==null?_=Xt(_):(C=Dt(l)?Va:gt.current,m=l.contextTypes,_=(m=m!=null)?Ai(o,C):ia),l=new l(h,_),o.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=ku,o.stateNode=l,l._reactInternals=o,m&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=C,o.__reactInternalMemoizedMaskedChildContext=_),l}function Vw(o,l,h,m){o=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(h,m),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(h,m),l.state!==o&&ku.enqueueReplaceState(l,l.state,null)}function Cc(o,l,h,m){var C=o.stateNode;C.props=h,C.state=o.memoizedState,C.refs={},fc(o);var _=l.contextType;typeof _=="object"&&_!==null?C.context=Xt(_):(_=Dt(l)?Va:gt.current,C.context=Ai(o,_)),C.state=o.memoizedState,_=l.getDerivedStateFromProps,typeof _=="function"&&(Sc(o,l,_,h),C.state=o.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof C.getSnapshotBeforeUpdate=="function"||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(l=C.state,typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount(),l!==C.state&&ku.enqueueReplaceState(C,C.state,null),bu(o,h,C,m),C.state=o.memoizedState),typeof C.componentDidMount=="function"&&(o.flags|=4194308)}function Bi(o,l){try{var h="",m=l;do h+=j(m),m=m.return;while(m);var C=h}catch(_){C=`
Error generating stack: `+_.message+`
`+_.stack}return{value:o,source:l,stack:C,digest:null}}function Tc(o,l,h){return{value:o,source:null,stack:h??null,digest:l??null}}function _c(o,l){try{console.error(l.value)}catch(h){setTimeout(function(){throw h})}}var $D=typeof WeakMap=="function"?WeakMap:Map;function $w(o,l,h){h=Ln(-1,h),h.tag=3,h.payload={element:null};var m=l.value;return h.callback=function(){Ou||(Ou=!0,Vc=m),_c(o,l)},h}function Uw(o,l,h){h=Ln(-1,h),h.tag=3;var m=o.type.getDerivedStateFromError;if(typeof m=="function"){var C=l.value;h.payload=function(){return m(C)},h.callback=function(){_c(o,l)}}var _=o.stateNode;return _!==null&&typeof _.componentDidCatch=="function"&&(h.callback=function(){_c(o,l),typeof m!="function"&&(fa===null?fa=new Set([this]):fa.add(this));var O=l.stack;this.componentDidCatch(l.value,{componentStack:O!==null?O:""})}),h}function Gw(o,l,h){var m=o.pingCache;if(m===null){m=o.pingCache=new $D;var C=new Set;m.set(l,C)}else C=m.get(l),C===void 0&&(C=new Set,m.set(l,C));C.has(h)||(C.add(h),o=tI.bind(null,o,l,h),l.then(o,o))}function jw(o){do{var l;if((l=o.tag===13)&&(l=o.memoizedState,l=l!==null?l.dehydrated!==null:!0),l)return o;o=o.return}while(o!==null);return null}function Hw(o,l,h,m,C){return(o.mode&1)===0?(o===l?o.flags|=65536:(o.flags|=128,h.flags|=131072,h.flags&=-52805,h.tag===1&&(h.alternate===null?h.tag=17:(l=Ln(-1,1),l.tag=2,ua(h,l,1))),h.lanes|=1),o):(o.flags|=65536,o.lanes=C,o)}var UD=T.ReactCurrentOwner,It=!1;function Tt(o,l,h,m){l.child=o===null?dw(l,null,h,m):Mi(l,o.child,h,m)}function Ww(o,l,h,m,C){h=h.render;var _=l.ref;return Ni(l,C),m=yc(o,l,h,m,_,C),h=mc(),o!==null&&!It?(l.updateQueue=o.updateQueue,l.flags&=-2053,o.lanes&=~C,Bn(o,l,C)):(Ar&&h&&ec(l),l.flags|=1,Tt(o,l,m,C),l.child)}function Kw(o,l,h,m,C){if(o===null){var _=h.type;return typeof _=="function"&&!Kc(_)&&_.defaultProps===void 0&&h.compare===null&&h.defaultProps===void 0?(l.tag=15,l.type=_,Yw(o,l,_,m,C)):(o=zu(h.type,null,m,l,l.mode,C),o.ref=l.ref,o.return=l,l.child=o)}if(_=o.child,(o.lanes&C)===0){var O=_.memoizedProps;if(h=h.compare,h=h!==null?h:Oo,h(O,m)&&o.ref===l.ref)return Bn(o,l,C)}return l.flags|=1,o=ha(_,m),o.ref=l.ref,o.return=l,l.child=o}function Yw(o,l,h,m,C){if(o!==null){var _=o.memoizedProps;if(Oo(_,m)&&o.ref===l.ref)if(It=!1,l.pendingProps=m=_,(o.lanes&C)!==0)(o.flags&131072)!==0&&(It=!0);else return l.lanes=o.lanes,Bn(o,l,C)}return kc(o,l,h,m,C)}function Xw(o,l,h){var m=l.pendingProps,C=m.children,_=o!==null?o.memoizedState:null;if(m.mode==="hidden")if((l.mode&1)===0)l.memoizedState={baseLanes:0,cachePool:null,transitions:null},wr(Fi,Ht),Ht|=h;else{if((h&1073741824)===0)return o=_!==null?_.baseLanes|h:h,l.lanes=l.childLanes=1073741824,l.memoizedState={baseLanes:o,cachePool:null,transitions:null},l.updateQueue=null,wr(Fi,Ht),Ht|=o,null;l.memoizedState={baseLanes:0,cachePool:null,transitions:null},m=_!==null?_.baseLanes:h,wr(Fi,Ht),Ht|=m}else _!==null?(m=_.baseLanes|h,l.memoizedState=null):m=h,wr(Fi,Ht),Ht|=m;return Tt(o,l,C,h),l.child}function Zw(o,l){var h=l.ref;(o===null&&h!==null||o!==null&&o.ref!==h)&&(l.flags|=512,l.flags|=2097152)}function kc(o,l,h,m,C){var _=Dt(h)?Va:gt.current;return _=Ai(l,_),Ni(l,C),h=yc(o,l,h,m,_,C),m=mc(),o!==null&&!It?(l.updateQueue=o.updateQueue,l.flags&=-2053,o.lanes&=~C,Bn(o,l,C)):(Ar&&m&&ec(l),l.flags|=1,Tt(o,l,h,C),l.child)}function Qw(o,l,h,m,C){if(Dt(h)){var _=!0;cu(l)}else _=!1;if(Ni(l,C),l.stateNode===null)Au(o,l),zw(l,h,m),Cc(l,h,m,C),m=!0;else if(o===null){var O=l.stateNode,W=l.memoizedProps;O.props=W;var Z=O.context,ue=h.contextType;typeof ue=="object"&&ue!==null?ue=Xt(ue):(ue=Dt(h)?Va:gt.current,ue=Ai(l,ue));var we=h.getDerivedStateFromProps,be=typeof we=="function"||typeof O.getSnapshotBeforeUpdate=="function";be||typeof O.UNSAFE_componentWillReceiveProps!="function"&&typeof O.componentWillReceiveProps!="function"||(W!==m||Z!==ue)&&Vw(l,O,m,ue),sa=!1;var ye=l.memoizedState;O.state=ye,bu(l,m,O,C),Z=l.memoizedState,W!==m||ye!==Z||Pt.current||sa?(typeof we=="function"&&(Sc(l,h,we,m),Z=l.memoizedState),(W=sa||Fw(l,h,W,m,ye,Z,ue))?(be||typeof O.UNSAFE_componentWillMount!="function"&&typeof O.componentWillMount!="function"||(typeof O.componentWillMount=="function"&&O.componentWillMount(),typeof O.UNSAFE_componentWillMount=="function"&&O.UNSAFE_componentWillMount()),typeof O.componentDidMount=="function"&&(l.flags|=4194308)):(typeof O.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=m,l.memoizedState=Z),O.props=m,O.state=Z,O.context=ue,m=W):(typeof O.componentDidMount=="function"&&(l.flags|=4194308),m=!1)}else{O=l.stateNode,hw(o,l),W=l.memoizedProps,ue=l.type===l.elementType?W:ln(l.type,W),O.props=ue,be=l.pendingProps,ye=O.context,Z=h.contextType,typeof Z=="object"&&Z!==null?Z=Xt(Z):(Z=Dt(h)?Va:gt.current,Z=Ai(l,Z));var Re=h.getDerivedStateFromProps;(we=typeof Re=="function"||typeof O.getSnapshotBeforeUpdate=="function")||typeof O.UNSAFE_componentWillReceiveProps!="function"&&typeof O.componentWillReceiveProps!="function"||(W!==be||ye!==Z)&&Vw(l,O,m,Z),sa=!1,ye=l.memoizedState,O.state=ye,bu(l,m,O,C);var Le=l.memoizedState;W!==be||ye!==Le||Pt.current||sa?(typeof Re=="function"&&(Sc(l,h,Re,m),Le=l.memoizedState),(ue=sa||Fw(l,h,ue,m,ye,Le,Z)||!1)?(we||typeof O.UNSAFE_componentWillUpdate!="function"&&typeof O.componentWillUpdate!="function"||(typeof O.componentWillUpdate=="function"&&O.componentWillUpdate(m,Le,Z),typeof O.UNSAFE_componentWillUpdate=="function"&&O.UNSAFE_componentWillUpdate(m,Le,Z)),typeof O.componentDidUpdate=="function"&&(l.flags|=4),typeof O.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof O.componentDidUpdate!="function"||W===o.memoizedProps&&ye===o.memoizedState||(l.flags|=4),typeof O.getSnapshotBeforeUpdate!="function"||W===o.memoizedProps&&ye===o.memoizedState||(l.flags|=1024),l.memoizedProps=m,l.memoizedState=Le),O.props=m,O.state=Le,O.context=Z,m=ue):(typeof O.componentDidUpdate!="function"||W===o.memoizedProps&&ye===o.memoizedState||(l.flags|=4),typeof O.getSnapshotBeforeUpdate!="function"||W===o.memoizedProps&&ye===o.memoizedState||(l.flags|=1024),m=!1)}return Rc(o,l,h,m,_,C)}function Rc(o,l,h,m,C,_){Zw(o,l);var O=(l.flags&128)!==0;if(!m&&!O)return C&&nw(l,h,!1),Bn(o,l,_);m=l.stateNode,UD.current=l;var W=O&&typeof h.getDerivedStateFromError!="function"?null:m.render();return l.flags|=1,o!==null&&O?(l.child=Mi(l,o.child,null,_),l.child=Mi(l,null,W,_)):Tt(o,l,W,_),l.memoizedState=m.state,C&&nw(l,h,!0),l.child}function Jw(o){var l=o.stateNode;l.pendingContext?rw(o,l.pendingContext,l.pendingContext!==l.context):l.context&&rw(o,l.context,!1),cc(o,l.containerInfo)}function eb(o,l,h,m,C){return Ii(),ac(C),l.flags|=256,Tt(o,l,h,m),l.child}var Ac={dehydrated:null,treeContext:null,retryLane:0};function Pc(o){return{baseLanes:o,cachePool:null,transitions:null}}function rb(o,l,h){var m=l.pendingProps,C=Lr.current,_=!1,O=(l.flags&128)!==0,W;if((W=O)||(W=o!==null&&o.memoizedState===null?!1:(C&2)!==0),W?(_=!0,l.flags&=-129):(o===null||o.memoizedState!==null)&&(C|=1),wr(Lr,C&1),o===null)return nc(l),o=l.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?((l.mode&1)===0?l.lanes=1:o.data==="$!"?l.lanes=8:l.lanes=1073741824,null):(O=m.children,o=m.fallback,_?(m=l.mode,_=l.child,O={mode:"hidden",children:O},(m&1)===0&&_!==null?(_.childLanes=0,_.pendingProps=O):_=Vu(O,m,0,null),o=Za(o,m,h,null),_.return=l,o.return=l,_.sibling=o,l.child=_,l.child.memoizedState=Pc(h),l.memoizedState=Ac,o):Dc(l,O));if(C=o.memoizedState,C!==null&&(W=C.dehydrated,W!==null))return GD(o,l,O,m,W,C,h);if(_){_=m.fallback,O=l.mode,C=o.child,W=C.sibling;var Z={mode:"hidden",children:m.children};return(O&1)===0&&l.child!==C?(m=l.child,m.childLanes=0,m.pendingProps=Z,l.deletions=null):(m=ha(C,Z),m.subtreeFlags=C.subtreeFlags&14680064),W!==null?_=ha(W,_):(_=Za(_,O,h,null),_.flags|=2),_.return=l,m.return=l,m.sibling=_,l.child=m,m=_,_=l.child,O=o.child.memoizedState,O=O===null?Pc(h):{baseLanes:O.baseLanes|h,cachePool:null,transitions:O.transitions},_.memoizedState=O,_.childLanes=o.childLanes&~h,l.memoizedState=Ac,m}return _=o.child,o=_.sibling,m=ha(_,{mode:"visible",children:m.children}),(l.mode&1)===0&&(m.lanes=h),m.return=l,m.sibling=null,o!==null&&(h=l.deletions,h===null?(l.deletions=[o],l.flags|=16):h.push(o)),l.child=m,l.memoizedState=null,m}function Dc(o,l){return l=Vu({mode:"visible",children:l},o.mode,0,null),l.return=o,o.child=l}function Ru(o,l,h,m){return m!==null&&ac(m),Mi(l,o.child,null,h),o=Dc(l,l.pendingProps.children),o.flags|=2,l.memoizedState=null,o}function GD(o,l,h,m,C,_,O){if(h)return l.flags&256?(l.flags&=-257,m=Tc(Error(t(422))),Ru(o,l,O,m)):l.memoizedState!==null?(l.child=o.child,l.flags|=128,null):(_=m.fallback,C=l.mode,m=Vu({mode:"visible",children:m.children},C,0,null),_=Za(_,C,O,null),_.flags|=2,m.return=l,_.return=l,m.sibling=_,l.child=m,(l.mode&1)!==0&&Mi(l,o.child,null,O),l.child.memoizedState=Pc(O),l.memoizedState=Ac,_);if((l.mode&1)===0)return Ru(o,l,O,null);if(C.data==="$!"){if(m=C.nextSibling&&C.nextSibling.dataset,m)var W=m.dgst;return m=W,_=Error(t(419)),m=Tc(_,m,void 0),Ru(o,l,O,m)}if(W=(O&o.childLanes)!==0,It||W){if(m=tt,m!==null){switch(O&-O){case 4:C=2;break;case 16:C=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:C=32;break;case 536870912:C=268435456;break;default:C=0}C=(C&(m.suspendedLanes|O))!==0?0:C,C!==0&&C!==_.retryLane&&(_.retryLane=C,Nn(o,C),dn(m,o,C,-1))}return Wc(),m=Tc(Error(t(421))),Ru(o,l,O,m)}return C.data==="$?"?(l.flags|=128,l.child=o.child,l=nI.bind(null,o),C._reactRetry=l,null):(o=_.treeContext,jt=na(C.nextSibling),Gt=l,Ar=!0,un=null,o!==null&&(Kt[Yt++]=Mn,Kt[Yt++]=On,Kt[Yt++]=$a,Mn=o.id,On=o.overflow,$a=l),l=Dc(l,m.children),l.flags|=4096,l)}function tb(o,l,h){o.lanes|=l;var m=o.alternate;m!==null&&(m.lanes|=l),uc(o.return,l,h)}function Ic(o,l,h,m,C){var _=o.memoizedState;_===null?o.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:m,tail:h,tailMode:C}:(_.isBackwards=l,_.rendering=null,_.renderingStartTime=0,_.last=m,_.tail=h,_.tailMode=C)}function nb(o,l,h){var m=l.pendingProps,C=m.revealOrder,_=m.tail;if(Tt(o,l,m.children,h),m=Lr.current,(m&2)!==0)m=m&1|2,l.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=l.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&tb(o,h,l);else if(o.tag===19)tb(o,h,l);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===l)break e;for(;o.sibling===null;){if(o.return===null||o.return===l)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}m&=1}if(wr(Lr,m),(l.mode&1)===0)l.memoizedState=null;else switch(C){case"forwards":for(h=l.child,C=null;h!==null;)o=h.alternate,o!==null&&xu(o)===null&&(C=h),h=h.sibling;h=C,h===null?(C=l.child,l.child=null):(C=h.sibling,h.sibling=null),Ic(l,!1,C,h,_);break;case"backwards":for(h=null,C=l.child,l.child=null;C!==null;){if(o=C.alternate,o!==null&&xu(o)===null){l.child=C;break}o=C.sibling,C.sibling=h,h=C,C=o}Ic(l,!0,h,null,_);break;case"together":Ic(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function Au(o,l){(l.mode&1)===0&&o!==null&&(o.alternate=null,l.alternate=null,l.flags|=2)}function Bn(o,l,h){if(o!==null&&(l.dependencies=o.dependencies),Wa|=l.lanes,(h&l.childLanes)===0)return null;if(o!==null&&l.child!==o.child)throw Error(t(153));if(l.child!==null){for(o=l.child,h=ha(o,o.pendingProps),l.child=h,h.return=l;o.sibling!==null;)o=o.sibling,h=h.sibling=ha(o,o.pendingProps),h.return=l;h.sibling=null}return l.child}function jD(o,l,h){switch(l.tag){case 3:Jw(l),Ii();break;case 5:yw(l);break;case 1:Dt(l.type)&&cu(l);break;case 4:cc(l,l.stateNode.containerInfo);break;case 10:var m=l.type._context,C=l.memoizedProps.value;wr(yu,m._currentValue),m._currentValue=C;break;case 13:if(m=l.memoizedState,m!==null)return m.dehydrated!==null?(wr(Lr,Lr.current&1),l.flags|=128,null):(h&l.child.childLanes)!==0?rb(o,l,h):(wr(Lr,Lr.current&1),o=Bn(o,l,h),o!==null?o.sibling:null);wr(Lr,Lr.current&1);break;case 19:if(m=(h&l.childLanes)!==0,(o.flags&128)!==0){if(m)return nb(o,l,h);l.flags|=128}if(C=l.memoizedState,C!==null&&(C.rendering=null,C.tail=null,C.lastEffect=null),wr(Lr,Lr.current),m)break;return null;case 22:case 23:return l.lanes=0,Xw(o,l,h)}return Bn(o,l,h)}var ab,Mc,ib,ob;ab=function(o,l){for(var h=l.child;h!==null;){if(h.tag===5||h.tag===6)o.appendChild(h.stateNode);else if(h.tag!==4&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===l)break;for(;h.sibling===null;){if(h.return===null||h.return===l)return;h=h.return}h.sibling.return=h.return,h=h.sibling}},Mc=function(){},ib=function(o,l,h,m){var C=o.memoizedProps;if(C!==m){o=l.stateNode,ja(bn.current);var _=null;switch(h){case"input":C=me(o,C),m=me(o,m),_=[];break;case"select":C=K({},C,{value:void 0}),m=K({},m,{value:void 0}),_=[];break;case"textarea":C=Pe(o,C),m=Pe(o,m),_=[];break;default:typeof C.onClick!="function"&&typeof m.onClick=="function"&&(o.onclick=uu)}ve(h,m);var O;h=null;for(ue in C)if(!m.hasOwnProperty(ue)&&C.hasOwnProperty(ue)&&C[ue]!=null)if(ue==="style"){var W=C[ue];for(O in W)W.hasOwnProperty(O)&&(h||(h={}),h[O]="")}else ue!=="dangerouslySetInnerHTML"&&ue!=="children"&&ue!=="suppressContentEditableWarning"&&ue!=="suppressHydrationWarning"&&ue!=="autoFocus"&&(a.hasOwnProperty(ue)?_||(_=[]):(_=_||[]).push(ue,null));for(ue in m){var Z=m[ue];if(W=C!=null?C[ue]:void 0,m.hasOwnProperty(ue)&&Z!==W&&(Z!=null||W!=null))if(ue==="style")if(W){for(O in W)!W.hasOwnProperty(O)||Z&&Z.hasOwnProperty(O)||(h||(h={}),h[O]="");for(O in Z)Z.hasOwnProperty(O)&&W[O]!==Z[O]&&(h||(h={}),h[O]=Z[O])}else h||(_||(_=[]),_.push(ue,h)),h=Z;else ue==="dangerouslySetInnerHTML"?(Z=Z?Z.__html:void 0,W=W?W.__html:void 0,Z!=null&&W!==Z&&(_=_||[]).push(ue,Z)):ue==="children"?typeof Z!="string"&&typeof Z!="number"||(_=_||[]).push(ue,""+Z):ue!=="suppressContentEditableWarning"&&ue!=="suppressHydrationWarning"&&(a.hasOwnProperty(ue)?(Z!=null&&ue==="onScroll"&&Cr("scroll",o),_||W===Z||(_=[])):(_=_||[]).push(ue,Z))}h&&(_=_||[]).push("style",h);var ue=_;(l.updateQueue=ue)&&(l.flags|=4)}},ob=function(o,l,h,m){h!==m&&(l.flags|=4)};function Yo(o,l){if(!Ar)switch(o.tailMode){case"hidden":l=o.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?o.tail=null:h.sibling=null;break;case"collapsed":h=o.tail;for(var m=null;h!==null;)h.alternate!==null&&(m=h),h=h.sibling;m===null?l||o.tail===null?o.tail=null:o.tail.sibling=null:m.sibling=null}}function mt(o){var l=o.alternate!==null&&o.alternate.child===o.child,h=0,m=0;if(l)for(var C=o.child;C!==null;)h|=C.lanes|C.childLanes,m|=C.subtreeFlags&14680064,m|=C.flags&14680064,C.return=o,C=C.sibling;else for(C=o.child;C!==null;)h|=C.lanes|C.childLanes,m|=C.subtreeFlags,m|=C.flags,C.return=o,C=C.sibling;return o.subtreeFlags|=m,o.childLanes=h,l}function HD(o,l,h){var m=l.pendingProps;switch(rc(l),l.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return mt(l),null;case 1:return Dt(l.type)&&fu(),mt(l),null;case 3:return m=l.stateNode,Li(),Tr(Pt),Tr(gt),hc(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(o===null||o.child===null)&&(pu(l)?l.flags|=4:o===null||o.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,un!==null&&(Gc(un),un=null))),Mc(o,l),mt(l),null;case 5:dc(l);var C=ja(Go.current);if(h=l.type,o!==null&&l.stateNode!=null)ib(o,l,h,m,C),o.ref!==l.ref&&(l.flags|=512,l.flags|=2097152);else{if(!m){if(l.stateNode===null)throw Error(t(166));return mt(l),null}if(o=ja(bn.current),pu(l)){m=l.stateNode,h=l.type;var _=l.memoizedProps;switch(m[wn]=l,m[Fo]=_,o=(l.mode&1)!==0,h){case"dialog":Cr("cancel",m),Cr("close",m);break;case"iframe":case"object":case"embed":Cr("load",m);break;case"video":case"audio":for(C=0;C<Lo.length;C++)Cr(Lo[C],m);break;case"source":Cr("error",m);break;case"img":case"image":case"link":Cr("error",m),Cr("load",m);break;case"details":Cr("toggle",m);break;case"input":xe(m,_),Cr("invalid",m);break;case"select":m._wrapperState={wasMultiple:!!_.multiple},Cr("invalid",m);break;case"textarea":Ne(m,_),Cr("invalid",m)}ve(h,_),C=null;for(var O in _)if(_.hasOwnProperty(O)){var W=_[O];O==="children"?typeof W=="string"?m.textContent!==W&&(_.suppressHydrationWarning!==!0&&su(m.textContent,W,o),C=["children",W]):typeof W=="number"&&m.textContent!==""+W&&(_.suppressHydrationWarning!==!0&&su(m.textContent,W,o),C=["children",""+W]):a.hasOwnProperty(O)&&W!=null&&O==="onScroll"&&Cr("scroll",m)}switch(h){case"input":re(m),Ve(m,_,!0);break;case"textarea":re(m),Ye(m);break;case"select":case"option":break;default:typeof _.onClick=="function"&&(m.onclick=uu)}m=C,l.updateQueue=m,m!==null&&(l.flags|=4)}else{O=C.nodeType===9?C:C.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=ar(h)),o==="http://www.w3.org/1999/xhtml"?h==="script"?(o=O.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof m.is=="string"?o=O.createElement(h,{is:m.is}):(o=O.createElement(h),h==="select"&&(O=o,m.multiple?O.multiple=!0:m.size&&(O.size=m.size))):o=O.createElementNS(o,h),o[wn]=l,o[Fo]=m,ab(o,l,!1,!1),l.stateNode=o;e:{switch(O=pe(h,m),h){case"dialog":Cr("cancel",o),Cr("close",o),C=m;break;case"iframe":case"object":case"embed":Cr("load",o),C=m;break;case"video":case"audio":for(C=0;C<Lo.length;C++)Cr(Lo[C],o);C=m;break;case"source":Cr("error",o),C=m;break;case"img":case"image":case"link":Cr("error",o),Cr("load",o),C=m;break;case"details":Cr("toggle",o),C=m;break;case"input":xe(o,m),C=me(o,m),Cr("invalid",o);break;case"option":C=m;break;case"select":o._wrapperState={wasMultiple:!!m.multiple},C=K({},m,{value:void 0}),Cr("invalid",o);break;case"textarea":Ne(o,m),C=Pe(o,m),Cr("invalid",o);break;default:C=m}ve(h,C),W=C;for(_ in W)if(W.hasOwnProperty(_)){var Z=W[_];_==="style"?ne(o,Z):_==="dangerouslySetInnerHTML"?(Z=Z?Z.__html:void 0,Z!=null&&ur(o,Z)):_==="children"?typeof Z=="string"?(h!=="textarea"||Z!=="")&&Ge(o,Z):typeof Z=="number"&&Ge(o,""+Z):_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&_!=="autoFocus"&&(a.hasOwnProperty(_)?Z!=null&&_==="onScroll"&&Cr("scroll",o):Z!=null&&S(o,_,Z,O))}switch(h){case"input":re(o),Ve(o,m,!1);break;case"textarea":re(o),Ye(o);break;case"option":m.value!=null&&o.setAttribute("value",""+le(m.value));break;case"select":o.multiple=!!m.multiple,_=m.value,_!=null?Ae(o,!!m.multiple,_,!1):m.defaultValue!=null&&Ae(o,!!m.multiple,m.defaultValue,!0);break;default:typeof C.onClick=="function"&&(o.onclick=uu)}switch(h){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}}m&&(l.flags|=4)}l.ref!==null&&(l.flags|=512,l.flags|=2097152)}return mt(l),null;case 6:if(o&&l.stateNode!=null)ob(o,l,o.memoizedProps,m);else{if(typeof m!="string"&&l.stateNode===null)throw Error(t(166));if(h=ja(Go.current),ja(bn.current),pu(l)){if(m=l.stateNode,h=l.memoizedProps,m[wn]=l,(_=m.nodeValue!==h)&&(o=Gt,o!==null))switch(o.tag){case 3:su(m.nodeValue,h,(o.mode&1)!==0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&su(m.nodeValue,h,(o.mode&1)!==0)}_&&(l.flags|=4)}else m=(h.nodeType===9?h:h.ownerDocument).createTextNode(m),m[wn]=l,l.stateNode=m}return mt(l),null;case 13:if(Tr(Lr),m=l.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(Ar&&jt!==null&&(l.mode&1)!==0&&(l.flags&128)===0)lw(),Ii(),l.flags|=98560,_=!1;else if(_=pu(l),m!==null&&m.dehydrated!==null){if(o===null){if(!_)throw Error(t(318));if(_=l.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(t(317));_[wn]=l}else Ii(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;mt(l),_=!1}else un!==null&&(Gc(un),un=null),_=!0;if(!_)return l.flags&65536?l:null}return(l.flags&128)!==0?(l.lanes=h,l):(m=m!==null,m!==(o!==null&&o.memoizedState!==null)&&m&&(l.child.flags|=8192,(l.mode&1)!==0&&(o===null||(Lr.current&1)!==0?Xr===0&&(Xr=3):Wc())),l.updateQueue!==null&&(l.flags|=4),mt(l),null);case 4:return Li(),Mc(o,l),o===null&&Bo(l.stateNode.containerInfo),mt(l),null;case 10:return sc(l.type._context),mt(l),null;case 17:return Dt(l.type)&&fu(),mt(l),null;case 19:if(Tr(Lr),_=l.memoizedState,_===null)return mt(l),null;if(m=(l.flags&128)!==0,O=_.rendering,O===null)if(m)Yo(_,!1);else{if(Xr!==0||o!==null&&(o.flags&128)!==0)for(o=l.child;o!==null;){if(O=xu(o),O!==null){for(l.flags|=128,Yo(_,!1),m=O.updateQueue,m!==null&&(l.updateQueue=m,l.flags|=4),l.subtreeFlags=0,m=h,h=l.child;h!==null;)_=h,o=m,_.flags&=14680066,O=_.alternate,O===null?(_.childLanes=0,_.lanes=o,_.child=null,_.subtreeFlags=0,_.memoizedProps=null,_.memoizedState=null,_.updateQueue=null,_.dependencies=null,_.stateNode=null):(_.childLanes=O.childLanes,_.lanes=O.lanes,_.child=O.child,_.subtreeFlags=0,_.deletions=null,_.memoizedProps=O.memoizedProps,_.memoizedState=O.memoizedState,_.updateQueue=O.updateQueue,_.type=O.type,o=O.dependencies,_.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),h=h.sibling;return wr(Lr,Lr.current&1|2),l.child}o=o.sibling}_.tail!==null&&Or()>zi&&(l.flags|=128,m=!0,Yo(_,!1),l.lanes=4194304)}else{if(!m)if(o=xu(O),o!==null){if(l.flags|=128,m=!0,h=o.updateQueue,h!==null&&(l.updateQueue=h,l.flags|=4),Yo(_,!0),_.tail===null&&_.tailMode==="hidden"&&!O.alternate&&!Ar)return mt(l),null}else 2*Or()-_.renderingStartTime>zi&&h!==1073741824&&(l.flags|=128,m=!0,Yo(_,!1),l.lanes=4194304);_.isBackwards?(O.sibling=l.child,l.child=O):(h=_.last,h!==null?h.sibling=O:l.child=O,_.last=O)}return _.tail!==null?(l=_.tail,_.rendering=l,_.tail=l.sibling,_.renderingStartTime=Or(),l.sibling=null,h=Lr.current,wr(Lr,m?h&1|2:h&1),l):(mt(l),null);case 22:case 23:return Hc(),m=l.memoizedState!==null,o!==null&&o.memoizedState!==null!==m&&(l.flags|=8192),m&&(l.mode&1)!==0?(Ht&1073741824)!==0&&(mt(l),l.subtreeFlags&6&&(l.flags|=8192)):mt(l),null;case 24:return null;case 25:return null}throw Error(t(156,l.tag))}function WD(o,l){switch(rc(l),l.tag){case 1:return Dt(l.type)&&fu(),o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 3:return Li(),Tr(Pt),Tr(gt),hc(),o=l.flags,(o&65536)!==0&&(o&128)===0?(l.flags=o&-65537|128,l):null;case 5:return dc(l),null;case 13:if(Tr(Lr),o=l.memoizedState,o!==null&&o.dehydrated!==null){if(l.alternate===null)throw Error(t(340));Ii()}return o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 19:return Tr(Lr),null;case 4:return Li(),null;case 10:return sc(l.type._context),null;case 22:case 23:return Hc(),null;case 24:return null;default:return null}}var Pu=!1,wt=!1,KD=typeof WeakSet=="function"?WeakSet:Set,Ie=null;function qi(o,l){var h=o.ref;if(h!==null)if(typeof h=="function")try{h(null)}catch(m){Fr(o,l,m)}else h.current=null}function Oc(o,l,h){try{h()}catch(m){Fr(o,l,m)}}var sb=!1;function YD(o,l){if(Hf=Xs,o=F1(),qf(o)){if("selectionStart"in o)var h={start:o.selectionStart,end:o.selectionEnd};else e:{h=(h=o.ownerDocument)&&h.defaultView||window;var m=h.getSelection&&h.getSelection();if(m&&m.rangeCount!==0){h=m.anchorNode;var C=m.anchorOffset,_=m.focusNode;m=m.focusOffset;try{h.nodeType,_.nodeType}catch{h=null;break e}var O=0,W=-1,Z=-1,ue=0,we=0,be=o,ye=null;r:for(;;){for(var Re;be!==h||C!==0&&be.nodeType!==3||(W=O+C),be!==_||m!==0&&be.nodeType!==3||(Z=O+m),be.nodeType===3&&(O+=be.nodeValue.length),(Re=be.firstChild)!==null;)ye=be,be=Re;for(;;){if(be===o)break r;if(ye===h&&++ue===C&&(W=O),ye===_&&++we===m&&(Z=O),(Re=be.nextSibling)!==null)break;be=ye,ye=be.parentNode}be=Re}h=W===-1||Z===-1?null:{start:W,end:Z}}else h=null}h=h||{start:0,end:0}}else h=null;for(Wf={focusedElem:o,selectionRange:h},Xs=!1,Ie=l;Ie!==null;)if(l=Ie,o=l.child,(l.subtreeFlags&1028)!==0&&o!==null)o.return=l,Ie=o;else for(;Ie!==null;){l=Ie;try{var Le=l.alternate;if((l.flags&1024)!==0)switch(l.tag){case 0:case 11:case 15:break;case 1:if(Le!==null){var ze=Le.memoizedProps,Ur=Le.memoizedState,ae=l.stateNode,J=ae.getSnapshotBeforeUpdate(l.elementType===l.type?ze:ln(l.type,ze),Ur);ae.__reactInternalSnapshotBeforeUpdate=J}break;case 3:var oe=l.stateNode.containerInfo;oe.nodeType===1?oe.textContent="":oe.nodeType===9&&oe.documentElement&&oe.removeChild(oe.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(Ee){Fr(l,l.return,Ee)}if(o=l.sibling,o!==null){o.return=l.return,Ie=o;break}Ie=l.return}return Le=sb,sb=!1,Le}function Xo(o,l,h){var m=l.updateQueue;if(m=m!==null?m.lastEffect:null,m!==null){var C=m=m.next;do{if((C.tag&o)===o){var _=C.destroy;C.destroy=void 0,_!==void 0&&Oc(l,h,_)}C=C.next}while(C!==m)}}function Du(o,l){if(l=l.updateQueue,l=l!==null?l.lastEffect:null,l!==null){var h=l=l.next;do{if((h.tag&o)===o){var m=h.create;h.destroy=m()}h=h.next}while(h!==l)}}function Nc(o){var l=o.ref;if(l!==null){var h=o.stateNode;switch(o.tag){case 5:o=h;break;default:o=h}typeof l=="function"?l(o):l.current=o}}function ub(o){var l=o.alternate;l!==null&&(o.alternate=null,ub(l)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(l=o.stateNode,l!==null&&(delete l[wn],delete l[Fo],delete l[Zf],delete l[DD],delete l[ID])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function lb(o){return o.tag===5||o.tag===3||o.tag===4}function fb(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||lb(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function Lc(o,l,h){var m=o.tag;if(m===5||m===6)o=o.stateNode,l?h.nodeType===8?h.parentNode.insertBefore(o,l):h.insertBefore(o,l):(h.nodeType===8?(l=h.parentNode,l.insertBefore(o,h)):(l=h,l.appendChild(o)),h=h._reactRootContainer,h!=null||l.onclick!==null||(l.onclick=uu));else if(m!==4&&(o=o.child,o!==null))for(Lc(o,l,h),o=o.sibling;o!==null;)Lc(o,l,h),o=o.sibling}function Bc(o,l,h){var m=o.tag;if(m===5||m===6)o=o.stateNode,l?h.insertBefore(o,l):h.appendChild(o);else if(m!==4&&(o=o.child,o!==null))for(Bc(o,l,h),o=o.sibling;o!==null;)Bc(o,l,h),o=o.sibling}var ut=null,fn=!1;function la(o,l,h){for(h=h.child;h!==null;)cb(o,l,h),h=h.sibling}function cb(o,l,h){if($t&&typeof $t.onCommitFiberUnmount=="function")try{$t.onCommitFiberUnmount(qa,h)}catch{}switch(h.tag){case 5:wt||qi(h,l);case 6:var m=ut,C=fn;ut=null,la(o,l,h),ut=m,fn=C,ut!==null&&(fn?(o=ut,h=h.stateNode,o.nodeType===8?o.parentNode.removeChild(h):o.removeChild(h)):ut.removeChild(h.stateNode));break;case 18:ut!==null&&(fn?(o=ut,h=h.stateNode,o.nodeType===8?Xf(o.parentNode,h):o.nodeType===1&&Xf(o,h),Ro(o)):Xf(ut,h.stateNode));break;case 4:m=ut,C=fn,ut=h.stateNode.containerInfo,fn=!0,la(o,l,h),ut=m,fn=C;break;case 0:case 11:case 14:case 15:if(!wt&&(m=h.updateQueue,m!==null&&(m=m.lastEffect,m!==null))){C=m=m.next;do{var _=C,O=_.destroy;_=_.tag,O!==void 0&&((_&2)!==0||(_&4)!==0)&&Oc(h,l,O),C=C.next}while(C!==m)}la(o,l,h);break;case 1:if(!wt&&(qi(h,l),m=h.stateNode,typeof m.componentWillUnmount=="function"))try{m.props=h.memoizedProps,m.state=h.memoizedState,m.componentWillUnmount()}catch(W){Fr(h,l,W)}la(o,l,h);break;case 21:la(o,l,h);break;case 22:h.mode&1?(wt=(m=wt)||h.memoizedState!==null,la(o,l,h),wt=m):la(o,l,h);break;default:la(o,l,h)}}function db(o){var l=o.updateQueue;if(l!==null){o.updateQueue=null;var h=o.stateNode;h===null&&(h=o.stateNode=new KD),l.forEach(function(m){var C=aI.bind(null,o,m);h.has(m)||(h.add(m),m.then(C,C))})}}function cn(o,l){var h=l.deletions;if(h!==null)for(var m=0;m<h.length;m++){var C=h[m];try{var _=o,O=l,W=O;e:for(;W!==null;){switch(W.tag){case 5:ut=W.stateNode,fn=!1;break e;case 3:ut=W.stateNode.containerInfo,fn=!0;break e;case 4:ut=W.stateNode.containerInfo,fn=!0;break e}W=W.return}if(ut===null)throw Error(t(160));cb(_,O,C),ut=null,fn=!1;var Z=C.alternate;Z!==null&&(Z.return=null),C.return=null}catch(ue){Fr(C,l,ue)}}if(l.subtreeFlags&12854)for(l=l.child;l!==null;)vb(l,o),l=l.sibling}function vb(o,l){var h=o.alternate,m=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(cn(l,o),En(o),m&4){try{Xo(3,o,o.return),Du(3,o)}catch(ze){Fr(o,o.return,ze)}try{Xo(5,o,o.return)}catch(ze){Fr(o,o.return,ze)}}break;case 1:cn(l,o),En(o),m&512&&h!==null&&qi(h,h.return);break;case 5:if(cn(l,o),En(o),m&512&&h!==null&&qi(h,h.return),o.flags&32){var C=o.stateNode;try{Ge(C,"")}catch(ze){Fr(o,o.return,ze)}}if(m&4&&(C=o.stateNode,C!=null)){var _=o.memoizedProps,O=h!==null?h.memoizedProps:_,W=o.type,Z=o.updateQueue;if(o.updateQueue=null,Z!==null)try{W==="input"&&_.type==="radio"&&_.name!=null&&Ze(C,_),pe(W,O);var ue=pe(W,_);for(O=0;O<Z.length;O+=2){var we=Z[O],be=Z[O+1];we==="style"?ne(C,be):we==="dangerouslySetInnerHTML"?ur(C,be):we==="children"?Ge(C,be):S(C,we,be,ue)}switch(W){case"input":Se(C,_);break;case"textarea":Be(C,_);break;case"select":var ye=C._wrapperState.wasMultiple;C._wrapperState.wasMultiple=!!_.multiple;var Re=_.value;Re!=null?Ae(C,!!_.multiple,Re,!1):ye!==!!_.multiple&&(_.defaultValue!=null?Ae(C,!!_.multiple,_.defaultValue,!0):Ae(C,!!_.multiple,_.multiple?[]:"",!1))}C[Fo]=_}catch(ze){Fr(o,o.return,ze)}}break;case 6:if(cn(l,o),En(o),m&4){if(o.stateNode===null)throw Error(t(162));C=o.stateNode,_=o.memoizedProps;try{C.nodeValue=_}catch(ze){Fr(o,o.return,ze)}}break;case 3:if(cn(l,o),En(o),m&4&&h!==null&&h.memoizedState.isDehydrated)try{Ro(l.containerInfo)}catch(ze){Fr(o,o.return,ze)}break;case 4:cn(l,o),En(o);break;case 13:cn(l,o),En(o),C=o.child,C.flags&8192&&(_=C.memoizedState!==null,C.stateNode.isHidden=_,!_||C.alternate!==null&&C.alternate.memoizedState!==null||(zc=Or())),m&4&&db(o);break;case 22:if(we=h!==null&&h.memoizedState!==null,o.mode&1?(wt=(ue=wt)||we,cn(l,o),wt=ue):cn(l,o),En(o),m&8192){if(ue=o.memoizedState!==null,(o.stateNode.isHidden=ue)&&!we&&(o.mode&1)!==0)for(Ie=o,we=o.child;we!==null;){for(be=Ie=we;Ie!==null;){switch(ye=Ie,Re=ye.child,ye.tag){case 0:case 11:case 14:case 15:Xo(4,ye,ye.return);break;case 1:qi(ye,ye.return);var Le=ye.stateNode;if(typeof Le.componentWillUnmount=="function"){m=ye,h=ye.return;try{l=m,Le.props=l.memoizedProps,Le.state=l.memoizedState,Le.componentWillUnmount()}catch(ze){Fr(m,h,ze)}}break;case 5:qi(ye,ye.return);break;case 22:if(ye.memoizedState!==null){gb(be);continue}}Re!==null?(Re.return=ye,Ie=Re):gb(be)}we=we.sibling}e:for(we=null,be=o;;){if(be.tag===5){if(we===null){we=be;try{C=be.stateNode,ue?(_=C.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none"):(W=be.stateNode,Z=be.memoizedProps.style,O=Z!=null&&Z.hasOwnProperty("display")?Z.display:null,W.style.display=q("display",O))}catch(ze){Fr(o,o.return,ze)}}}else if(be.tag===6){if(we===null)try{be.stateNode.nodeValue=ue?"":be.memoizedProps}catch(ze){Fr(o,o.return,ze)}}else if((be.tag!==22&&be.tag!==23||be.memoizedState===null||be===o)&&be.child!==null){be.child.return=be,be=be.child;continue}if(be===o)break e;for(;be.sibling===null;){if(be.return===null||be.return===o)break e;we===be&&(we=null),be=be.return}we===be&&(we=null),be.sibling.return=be.return,be=be.sibling}}break;case 19:cn(l,o),En(o),m&4&&db(o);break;case 21:break;default:cn(l,o),En(o)}}function En(o){var l=o.flags;if(l&2){try{e:{for(var h=o.return;h!==null;){if(lb(h)){var m=h;break e}h=h.return}throw Error(t(160))}switch(m.tag){case 5:var C=m.stateNode;m.flags&32&&(Ge(C,""),m.flags&=-33);var _=fb(o);Bc(o,_,C);break;case 3:case 4:var O=m.stateNode.containerInfo,W=fb(o);Lc(o,W,O);break;default:throw Error(t(161))}}catch(Z){Fr(o,o.return,Z)}o.flags&=-3}l&4096&&(o.flags&=-4097)}function XD(o,l,h){Ie=o,hb(o)}function hb(o,l,h){for(var m=(o.mode&1)!==0;Ie!==null;){var C=Ie,_=C.child;if(C.tag===22&&m){var O=C.memoizedState!==null||Pu;if(!O){var W=C.alternate,Z=W!==null&&W.memoizedState!==null||wt;W=Pu;var ue=wt;if(Pu=O,(wt=Z)&&!ue)for(Ie=C;Ie!==null;)O=Ie,Z=O.child,O.tag===22&&O.memoizedState!==null?yb(C):Z!==null?(Z.return=O,Ie=Z):yb(C);for(;_!==null;)Ie=_,hb(_),_=_.sibling;Ie=C,Pu=W,wt=ue}pb(o)}else(C.subtreeFlags&8772)!==0&&_!==null?(_.return=C,Ie=_):pb(o)}}function pb(o){for(;Ie!==null;){var l=Ie;if((l.flags&8772)!==0){var h=l.alternate;try{if((l.flags&8772)!==0)switch(l.tag){case 0:case 11:case 15:wt||Du(5,l);break;case 1:var m=l.stateNode;if(l.flags&4&&!wt)if(h===null)m.componentDidMount();else{var C=l.elementType===l.type?h.memoizedProps:ln(l.type,h.memoizedProps);m.componentDidUpdate(C,h.memoizedState,m.__reactInternalSnapshotBeforeUpdate)}var _=l.updateQueue;_!==null&&gw(l,_,m);break;case 3:var O=l.updateQueue;if(O!==null){if(h=null,l.child!==null)switch(l.child.tag){case 5:h=l.child.stateNode;break;case 1:h=l.child.stateNode}gw(l,O,h)}break;case 5:var W=l.stateNode;if(h===null&&l.flags&4){h=W;var Z=l.memoizedProps;switch(l.type){case"button":case"input":case"select":case"textarea":Z.autoFocus&&h.focus();break;case"img":Z.src&&(h.src=Z.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(l.memoizedState===null){var ue=l.alternate;if(ue!==null){var we=ue.memoizedState;if(we!==null){var be=we.dehydrated;be!==null&&Ro(be)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}wt||l.flags&512&&Nc(l)}catch(ye){Fr(l,l.return,ye)}}if(l===o){Ie=null;break}if(h=l.sibling,h!==null){h.return=l.return,Ie=h;break}Ie=l.return}}function gb(o){for(;Ie!==null;){var l=Ie;if(l===o){Ie=null;break}var h=l.sibling;if(h!==null){h.return=l.return,Ie=h;break}Ie=l.return}}function yb(o){for(;Ie!==null;){var l=Ie;try{switch(l.tag){case 0:case 11:case 15:var h=l.return;try{Du(4,l)}catch(Z){Fr(l,h,Z)}break;case 1:var m=l.stateNode;if(typeof m.componentDidMount=="function"){var C=l.return;try{m.componentDidMount()}catch(Z){Fr(l,C,Z)}}var _=l.return;try{Nc(l)}catch(Z){Fr(l,_,Z)}break;case 5:var O=l.return;try{Nc(l)}catch(Z){Fr(l,O,Z)}}}catch(Z){Fr(l,l.return,Z)}if(l===o){Ie=null;break}var W=l.sibling;if(W!==null){W.return=l.return,Ie=W;break}Ie=l.return}}var ZD=Math.ceil,Iu=T.ReactCurrentDispatcher,qc=T.ReactCurrentOwner,Qt=T.ReactCurrentBatchConfig,lr=0,tt=null,Gr=null,lt=0,Ht=0,Fi=aa(0),Xr=0,Zo=null,Wa=0,Mu=0,Fc=0,Qo=null,Mt=null,zc=0,zi=1/0,qn=null,Ou=!1,Vc=null,fa=null,Nu=!1,ca=null,Lu=0,Jo=0,$c=null,Bu=-1,qu=0;function _t(){return(lr&6)!==0?Or():Bu!==-1?Bu:Bu=Or()}function da(o){return(o.mode&1)===0?1:(lr&2)!==0&&lt!==0?lt&-lt:OD.transition!==null?(qu===0&&(qu=f1()),qu):(o=gr,o!==0||(o=window.event,o=o===void 0?16:w1(o.type)),o)}function dn(o,l,h,m){if(50<Jo)throw Jo=0,$c=null,Error(t(185));So(o,h,m),((lr&2)===0||o!==tt)&&(o===tt&&((lr&2)===0&&(Mu|=h),Xr===4&&va(o,lt)),Ot(o,m),h===1&&lr===0&&(l.mode&1)===0&&(zi=Or()+500,du&&oa()))}function Ot(o,l){var h=o.callbackNode;OP(o,l);var m=wi(o,o===tt?lt:0);if(m===0)h!==null&&js(h),o.callbackNode=null,o.callbackPriority=0;else if(l=m&-m,o.callbackPriority!==l){if(h!=null&&js(h),l===1)o.tag===0?MD(wb.bind(null,o)):aw(wb.bind(null,o)),AD(function(){(lr&6)===0&&oa()}),h=null;else{switch(c1(m)){case 1:h=bo;break;case 4:h=Hs;break;case 16:h=mn;break;case 536870912:h=Ba;break;default:h=mn}h=kb(h,mb.bind(null,o))}o.callbackPriority=l,o.callbackNode=h}}function mb(o,l){if(Bu=-1,qu=0,(lr&6)!==0)throw Error(t(327));var h=o.callbackNode;if(Vi()&&o.callbackNode!==h)return null;var m=wi(o,o===tt?lt:0);if(m===0)return null;if((m&30)!==0||(m&o.expiredLanes)!==0||l)l=Fu(o,m);else{l=m;var C=lr;lr|=2;var _=xb();(tt!==o||lt!==l)&&(qn=null,zi=Or()+500,Ya(o,l));do try{eI();break}catch(W){bb(o,W)}while(!0);oc(),Iu.current=_,lr=C,Gr!==null?l=0:(tt=null,lt=0,l=Xr)}if(l!==0){if(l===2&&(C=Ef(o),C!==0&&(m=C,l=Uc(o,C))),l===1)throw h=Zo,Ya(o,0),va(o,m),Ot(o,Or()),h;if(l===6)va(o,m);else{if(C=o.current.alternate,(m&30)===0&&!QD(C)&&(l=Fu(o,m),l===2&&(_=Ef(o),_!==0&&(m=_,l=Uc(o,_))),l===1))throw h=Zo,Ya(o,0),va(o,m),Ot(o,Or()),h;switch(o.finishedWork=C,o.finishedLanes=m,l){case 0:case 1:throw Error(t(345));case 2:Xa(o,Mt,qn);break;case 3:if(va(o,m),(m&130023424)===m&&(l=zc+500-Or(),10<l)){if(wi(o,0)!==0)break;if(C=o.suspendedLanes,(C&m)!==m){_t(),o.pingedLanes|=o.suspendedLanes&C;break}o.timeoutHandle=Yf(Xa.bind(null,o,Mt,qn),l);break}Xa(o,Mt,qn);break;case 4:if(va(o,m),(m&4194240)===m)break;for(l=o.eventTimes,C=-1;0<m;){var O=31-Nr(m);_=1<<O,O=l[O],O>C&&(C=O),m&=~_}if(m=C,m=Or()-m,m=(120>m?120:480>m?480:1080>m?1080:1920>m?1920:3e3>m?3e3:4320>m?4320:1960*ZD(m/1960))-m,10<m){o.timeoutHandle=Yf(Xa.bind(null,o,Mt,qn),m);break}Xa(o,Mt,qn);break;case 5:Xa(o,Mt,qn);break;default:throw Error(t(329))}}}return Ot(o,Or()),o.callbackNode===h?mb.bind(null,o):null}function Uc(o,l){var h=Qo;return o.current.memoizedState.isDehydrated&&(Ya(o,l).flags|=256),o=Fu(o,l),o!==2&&(l=Mt,Mt=h,l!==null&&Gc(l)),o}function Gc(o){Mt===null?Mt=o:Mt.push.apply(Mt,o)}function QD(o){for(var l=o;;){if(l.flags&16384){var h=l.updateQueue;if(h!==null&&(h=h.stores,h!==null))for(var m=0;m<h.length;m++){var C=h[m],_=C.getSnapshot;C=C.value;try{if(!sn(_(),C))return!1}catch{return!1}}}if(h=l.child,l.subtreeFlags&16384&&h!==null)h.return=l,l=h;else{if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function va(o,l){for(l&=~Fc,l&=~Mu,o.suspendedLanes|=l,o.pingedLanes&=~l,o=o.expirationTimes;0<l;){var h=31-Nr(l),m=1<<h;o[h]=-1,l&=~m}}function wb(o){if((lr&6)!==0)throw Error(t(327));Vi();var l=wi(o,0);if((l&1)===0)return Ot(o,Or()),null;var h=Fu(o,l);if(o.tag!==0&&h===2){var m=Ef(o);m!==0&&(l=m,h=Uc(o,m))}if(h===1)throw h=Zo,Ya(o,0),va(o,l),Ot(o,Or()),h;if(h===6)throw Error(t(345));return o.finishedWork=o.current.alternate,o.finishedLanes=l,Xa(o,Mt,qn),Ot(o,Or()),null}function jc(o,l){var h=lr;lr|=1;try{return o(l)}finally{lr=h,lr===0&&(zi=Or()+500,du&&oa())}}function Ka(o){ca!==null&&ca.tag===0&&(lr&6)===0&&Vi();var l=lr;lr|=1;var h=Qt.transition,m=gr;try{if(Qt.transition=null,gr=1,o)return o()}finally{gr=m,Qt.transition=h,lr=l,(lr&6)===0&&oa()}}function Hc(){Ht=Fi.current,Tr(Fi)}function Ya(o,l){o.finishedWork=null,o.finishedLanes=0;var h=o.timeoutHandle;if(h!==-1&&(o.timeoutHandle=-1,RD(h)),Gr!==null)for(h=Gr.return;h!==null;){var m=h;switch(rc(m),m.tag){case 1:m=m.type.childContextTypes,m!=null&&fu();break;case 3:Li(),Tr(Pt),Tr(gt),hc();break;case 5:dc(m);break;case 4:Li();break;case 13:Tr(Lr);break;case 19:Tr(Lr);break;case 10:sc(m.type._context);break;case 22:case 23:Hc()}h=h.return}if(tt=o,Gr=o=ha(o.current,null),lt=Ht=l,Xr=0,Zo=null,Fc=Mu=Wa=0,Mt=Qo=null,Ga!==null){for(l=0;l<Ga.length;l++)if(h=Ga[l],m=h.interleaved,m!==null){h.interleaved=null;var C=m.next,_=h.pending;if(_!==null){var O=_.next;_.next=C,m.next=O}h.pending=m}Ga=null}return o}function bb(o,l){do{var h=Gr;try{if(oc(),Eu.current=_u,Su){for(var m=Br.memoizedState;m!==null;){var C=m.queue;C!==null&&(C.pending=null),m=m.next}Su=!1}if(Ha=0,rt=Yr=Br=null,jo=!1,Ho=0,qc.current=null,h===null||h.return===null){Xr=1,Zo=l,Gr=null;break}e:{var _=o,O=h.return,W=h,Z=l;if(l=lt,W.flags|=32768,Z!==null&&typeof Z=="object"&&typeof Z.then=="function"){var ue=Z,we=W,be=we.tag;if((we.mode&1)===0&&(be===0||be===11||be===15)){var ye=we.alternate;ye?(we.updateQueue=ye.updateQueue,we.memoizedState=ye.memoizedState,we.lanes=ye.lanes):(we.updateQueue=null,we.memoizedState=null)}var Re=jw(O);if(Re!==null){Re.flags&=-257,Hw(Re,O,W,_,l),Re.mode&1&&Gw(_,ue,l),l=Re,Z=ue;var Le=l.updateQueue;if(Le===null){var ze=new Set;ze.add(Z),l.updateQueue=ze}else Le.add(Z);break e}else{if((l&1)===0){Gw(_,ue,l),Wc();break e}Z=Error(t(426))}}else if(Ar&&W.mode&1){var Ur=jw(O);if(Ur!==null){(Ur.flags&65536)===0&&(Ur.flags|=256),Hw(Ur,O,W,_,l),ac(Bi(Z,W));break e}}_=Z=Bi(Z,W),Xr!==4&&(Xr=2),Qo===null?Qo=[_]:Qo.push(_),_=O;do{switch(_.tag){case 3:_.flags|=65536,l&=-l,_.lanes|=l;var ae=$w(_,Z,l);pw(_,ae);break e;case 1:W=Z;var J=_.type,oe=_.stateNode;if((_.flags&128)===0&&(typeof J.getDerivedStateFromError=="function"||oe!==null&&typeof oe.componentDidCatch=="function"&&(fa===null||!fa.has(oe)))){_.flags|=65536,l&=-l,_.lanes|=l;var Ee=Uw(_,W,l);pw(_,Ee);break e}}_=_.return}while(_!==null)}Sb(h)}catch($e){l=$e,Gr===h&&h!==null&&(Gr=h=h.return);continue}break}while(!0)}function xb(){var o=Iu.current;return Iu.current=_u,o===null?_u:o}function Wc(){(Xr===0||Xr===3||Xr===2)&&(Xr=4),tt===null||(Wa&268435455)===0&&(Mu&268435455)===0||va(tt,lt)}function Fu(o,l){var h=lr;lr|=2;var m=xb();(tt!==o||lt!==l)&&(qn=null,Ya(o,l));do try{JD();break}catch(C){bb(o,C)}while(!0);if(oc(),lr=h,Iu.current=m,Gr!==null)throw Error(t(261));return tt=null,lt=0,Xr}function JD(){for(;Gr!==null;)Eb(Gr)}function eI(){for(;Gr!==null&&!mf();)Eb(Gr)}function Eb(o){var l=_b(o.alternate,o,Ht);o.memoizedProps=o.pendingProps,l===null?Sb(o):Gr=l,qc.current=null}function Sb(o){var l=o;do{var h=l.alternate;if(o=l.return,(l.flags&32768)===0){if(h=HD(h,l,Ht),h!==null){Gr=h;return}}else{if(h=WD(h,l),h!==null){h.flags&=32767,Gr=h;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{Xr=6,Gr=null;return}}if(l=l.sibling,l!==null){Gr=l;return}Gr=l=o}while(l!==null);Xr===0&&(Xr=5)}function Xa(o,l,h){var m=gr,C=Qt.transition;try{Qt.transition=null,gr=1,rI(o,l,h,m)}finally{Qt.transition=C,gr=m}return null}function rI(o,l,h,m){do Vi();while(ca!==null);if((lr&6)!==0)throw Error(t(327));h=o.finishedWork;var C=o.finishedLanes;if(h===null)return null;if(o.finishedWork=null,o.finishedLanes=0,h===o.current)throw Error(t(177));o.callbackNode=null,o.callbackPriority=0;var _=h.lanes|h.childLanes;if(NP(o,_),o===tt&&(Gr=tt=null,lt=0),(h.subtreeFlags&2064)===0&&(h.flags&2064)===0||Nu||(Nu=!0,kb(mn,function(){return Vi(),null})),_=(h.flags&15990)!==0,(h.subtreeFlags&15990)!==0||_){_=Qt.transition,Qt.transition=null;var O=gr;gr=1;var W=lr;lr|=4,qc.current=null,YD(o,h),vb(h,o),xD(Wf),Xs=!!Hf,Wf=Hf=null,o.current=h,XD(h),wf(),lr=W,gr=O,Qt.transition=_}else o.current=h;if(Nu&&(Nu=!1,ca=o,Lu=C),_=o.pendingLanes,_===0&&(fa=null),xf(h.stateNode),Ot(o,Or()),l!==null)for(m=o.onRecoverableError,h=0;h<l.length;h++)C=l[h],m(C.value,{componentStack:C.stack,digest:C.digest});if(Ou)throw Ou=!1,o=Vc,Vc=null,o;return(Lu&1)!==0&&o.tag!==0&&Vi(),_=o.pendingLanes,(_&1)!==0?o===$c?Jo++:(Jo=0,$c=o):Jo=0,oa(),null}function Vi(){if(ca!==null){var o=c1(Lu),l=Qt.transition,h=gr;try{if(Qt.transition=null,gr=16>o?16:o,ca===null)var m=!1;else{if(o=ca,ca=null,Lu=0,(lr&6)!==0)throw Error(t(331));var C=lr;for(lr|=4,Ie=o.current;Ie!==null;){var _=Ie,O=_.child;if((Ie.flags&16)!==0){var W=_.deletions;if(W!==null){for(var Z=0;Z<W.length;Z++){var ue=W[Z];for(Ie=ue;Ie!==null;){var we=Ie;switch(we.tag){case 0:case 11:case 15:Xo(8,we,_)}var be=we.child;if(be!==null)be.return=we,Ie=be;else for(;Ie!==null;){we=Ie;var ye=we.sibling,Re=we.return;if(ub(we),we===ue){Ie=null;break}if(ye!==null){ye.return=Re,Ie=ye;break}Ie=Re}}}var Le=_.alternate;if(Le!==null){var ze=Le.child;if(ze!==null){Le.child=null;do{var Ur=ze.sibling;ze.sibling=null,ze=Ur}while(ze!==null)}}Ie=_}}if((_.subtreeFlags&2064)!==0&&O!==null)O.return=_,Ie=O;else e:for(;Ie!==null;){if(_=Ie,(_.flags&2048)!==0)switch(_.tag){case 0:case 11:case 15:Xo(9,_,_.return)}var ae=_.sibling;if(ae!==null){ae.return=_.return,Ie=ae;break e}Ie=_.return}}var J=o.current;for(Ie=J;Ie!==null;){O=Ie;var oe=O.child;if((O.subtreeFlags&2064)!==0&&oe!==null)oe.return=O,Ie=oe;else e:for(O=J;Ie!==null;){if(W=Ie,(W.flags&2048)!==0)try{switch(W.tag){case 0:case 11:case 15:Du(9,W)}}catch($e){Fr(W,W.return,$e)}if(W===O){Ie=null;break e}var Ee=W.sibling;if(Ee!==null){Ee.return=W.return,Ie=Ee;break e}Ie=W.return}}if(lr=C,oa(),$t&&typeof $t.onPostCommitFiberRoot=="function")try{$t.onPostCommitFiberRoot(qa,o)}catch{}m=!0}return m}finally{gr=h,Qt.transition=l}}return!1}function Cb(o,l,h){l=Bi(h,l),l=$w(o,l,1),o=ua(o,l,1),l=_t(),o!==null&&(So(o,1,l),Ot(o,l))}function Fr(o,l,h){if(o.tag===3)Cb(o,o,h);else for(;l!==null;){if(l.tag===3){Cb(l,o,h);break}else if(l.tag===1){var m=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(fa===null||!fa.has(m))){o=Bi(h,o),o=Uw(l,o,1),l=ua(l,o,1),o=_t(),l!==null&&(So(l,1,o),Ot(l,o));break}}l=l.return}}function tI(o,l,h){var m=o.pingCache;m!==null&&m.delete(l),l=_t(),o.pingedLanes|=o.suspendedLanes&h,tt===o&&(lt&h)===h&&(Xr===4||Xr===3&&(lt&130023424)===lt&&500>Or()-zc?Ya(o,0):Fc|=h),Ot(o,l)}function Tb(o,l){l===0&&((o.mode&1)===0?l=1:(l=yi,yi<<=1,(yi&130023424)===0&&(yi=4194304)));var h=_t();o=Nn(o,l),o!==null&&(So(o,l,h),Ot(o,h))}function nI(o){var l=o.memoizedState,h=0;l!==null&&(h=l.retryLane),Tb(o,h)}function aI(o,l){var h=0;switch(o.tag){case 13:var m=o.stateNode,C=o.memoizedState;C!==null&&(h=C.retryLane);break;case 19:m=o.stateNode;break;default:throw Error(t(314))}m!==null&&m.delete(l),Tb(o,h)}var _b;_b=function(o,l,h){if(o!==null)if(o.memoizedProps!==l.pendingProps||Pt.current)It=!0;else{if((o.lanes&h)===0&&(l.flags&128)===0)return It=!1,jD(o,l,h);It=(o.flags&131072)!==0}else It=!1,Ar&&(l.flags&1048576)!==0&&iw(l,hu,l.index);switch(l.lanes=0,l.tag){case 2:var m=l.type;Au(o,l),o=l.pendingProps;var C=Ai(l,gt.current);Ni(l,h),C=yc(null,l,m,o,C,h);var _=mc();return l.flags|=1,typeof C=="object"&&C!==null&&typeof C.render=="function"&&C.$$typeof===void 0?(l.tag=1,l.memoizedState=null,l.updateQueue=null,Dt(m)?(_=!0,cu(l)):_=!1,l.memoizedState=C.state!==null&&C.state!==void 0?C.state:null,fc(l),C.updater=ku,l.stateNode=C,C._reactInternals=l,Cc(l,m,o,h),l=Rc(null,l,m,!0,_,h)):(l.tag=0,Ar&&_&&ec(l),Tt(null,l,C,h),l=l.child),l;case 16:m=l.elementType;e:{switch(Au(o,l),o=l.pendingProps,C=m._init,m=C(m._payload),l.type=m,C=l.tag=oI(m),o=ln(m,o),C){case 0:l=kc(null,l,m,o,h);break e;case 1:l=Qw(null,l,m,o,h);break e;case 11:l=Ww(null,l,m,o,h);break e;case 14:l=Kw(null,l,m,ln(m.type,o),h);break e}throw Error(t(306,m,""))}return l;case 0:return m=l.type,C=l.pendingProps,C=l.elementType===m?C:ln(m,C),kc(o,l,m,C,h);case 1:return m=l.type,C=l.pendingProps,C=l.elementType===m?C:ln(m,C),Qw(o,l,m,C,h);case 3:e:{if(Jw(l),o===null)throw Error(t(387));m=l.pendingProps,_=l.memoizedState,C=_.element,hw(o,l),bu(l,m,null,h);var O=l.memoizedState;if(m=O.element,_.isDehydrated)if(_={element:m,isDehydrated:!1,cache:O.cache,pendingSuspenseBoundaries:O.pendingSuspenseBoundaries,transitions:O.transitions},l.updateQueue.baseState=_,l.memoizedState=_,l.flags&256){C=Bi(Error(t(423)),l),l=eb(o,l,m,h,C);break e}else if(m!==C){C=Bi(Error(t(424)),l),l=eb(o,l,m,h,C);break e}else for(jt=na(l.stateNode.containerInfo.firstChild),Gt=l,Ar=!0,un=null,h=dw(l,null,m,h),l.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling;else{if(Ii(),m===C){l=Bn(o,l,h);break e}Tt(o,l,m,h)}l=l.child}return l;case 5:return yw(l),o===null&&nc(l),m=l.type,C=l.pendingProps,_=o!==null?o.memoizedProps:null,O=C.children,Kf(m,C)?O=null:_!==null&&Kf(m,_)&&(l.flags|=32),Zw(o,l),Tt(o,l,O,h),l.child;case 6:return o===null&&nc(l),null;case 13:return rb(o,l,h);case 4:return cc(l,l.stateNode.containerInfo),m=l.pendingProps,o===null?l.child=Mi(l,null,m,h):Tt(o,l,m,h),l.child;case 11:return m=l.type,C=l.pendingProps,C=l.elementType===m?C:ln(m,C),Ww(o,l,m,C,h);case 7:return Tt(o,l,l.pendingProps,h),l.child;case 8:return Tt(o,l,l.pendingProps.children,h),l.child;case 12:return Tt(o,l,l.pendingProps.children,h),l.child;case 10:e:{if(m=l.type._context,C=l.pendingProps,_=l.memoizedProps,O=C.value,wr(yu,m._currentValue),m._currentValue=O,_!==null)if(sn(_.value,O)){if(_.children===C.children&&!Pt.current){l=Bn(o,l,h);break e}}else for(_=l.child,_!==null&&(_.return=l);_!==null;){var W=_.dependencies;if(W!==null){O=_.child;for(var Z=W.firstContext;Z!==null;){if(Z.context===m){if(_.tag===1){Z=Ln(-1,h&-h),Z.tag=2;var ue=_.updateQueue;if(ue!==null){ue=ue.shared;var we=ue.pending;we===null?Z.next=Z:(Z.next=we.next,we.next=Z),ue.pending=Z}}_.lanes|=h,Z=_.alternate,Z!==null&&(Z.lanes|=h),uc(_.return,h,l),W.lanes|=h;break}Z=Z.next}}else if(_.tag===10)O=_.type===l.type?null:_.child;else if(_.tag===18){if(O=_.return,O===null)throw Error(t(341));O.lanes|=h,W=O.alternate,W!==null&&(W.lanes|=h),uc(O,h,l),O=_.sibling}else O=_.child;if(O!==null)O.return=_;else for(O=_;O!==null;){if(O===l){O=null;break}if(_=O.sibling,_!==null){_.return=O.return,O=_;break}O=O.return}_=O}Tt(o,l,C.children,h),l=l.child}return l;case 9:return C=l.type,m=l.pendingProps.children,Ni(l,h),C=Xt(C),m=m(C),l.flags|=1,Tt(o,l,m,h),l.child;case 14:return m=l.type,C=ln(m,l.pendingProps),C=ln(m.type,C),Kw(o,l,m,C,h);case 15:return Yw(o,l,l.type,l.pendingProps,h);case 17:return m=l.type,C=l.pendingProps,C=l.elementType===m?C:ln(m,C),Au(o,l),l.tag=1,Dt(m)?(o=!0,cu(l)):o=!1,Ni(l,h),zw(l,m,C),Cc(l,m,C,h),Rc(null,l,m,!0,o,h);case 19:return nb(o,l,h);case 22:return Xw(o,l,h)}throw Error(t(156,l.tag))};function kb(o,l){return wo(o,l)}function iI(o,l,h,m){this.tag=o,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Jt(o,l,h,m){return new iI(o,l,h,m)}function Kc(o){return o=o.prototype,!(!o||!o.isReactComponent)}function oI(o){if(typeof o=="function")return Kc(o)?1:0;if(o!=null){if(o=o.$$typeof,o===L)return 11;if(o===G)return 14}return 2}function ha(o,l){var h=o.alternate;return h===null?(h=Jt(o.tag,l,o.key,o.mode),h.elementType=o.elementType,h.type=o.type,h.stateNode=o.stateNode,h.alternate=o,o.alternate=h):(h.pendingProps=l,h.type=o.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=o.flags&14680064,h.childLanes=o.childLanes,h.lanes=o.lanes,h.child=o.child,h.memoizedProps=o.memoizedProps,h.memoizedState=o.memoizedState,h.updateQueue=o.updateQueue,l=o.dependencies,h.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},h.sibling=o.sibling,h.index=o.index,h.ref=o.ref,h}function zu(o,l,h,m,C,_){var O=2;if(m=o,typeof o=="function")Kc(o)&&(O=1);else if(typeof o=="string")O=5;else e:switch(o){case k:return Za(h.children,C,_,l);case P:O=8,C|=8;break;case D:return o=Jt(12,h,l,C|2),o.elementType=D,o.lanes=_,o;case N:return o=Jt(13,h,l,C),o.elementType=N,o.lanes=_,o;case z:return o=Jt(19,h,l,C),o.elementType=z,o.lanes=_,o;case U:return Vu(h,C,_,l);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case I:O=10;break e;case M:O=9;break e;case L:O=11;break e;case G:O=14;break e;case H:O=16,m=null;break e}throw Error(t(130,o==null?o:typeof o,""))}return l=Jt(O,h,l,C),l.elementType=o,l.type=m,l.lanes=_,l}function Za(o,l,h,m){return o=Jt(7,o,m,l),o.lanes=h,o}function Vu(o,l,h,m){return o=Jt(22,o,m,l),o.elementType=U,o.lanes=h,o.stateNode={isHidden:!1},o}function Yc(o,l,h){return o=Jt(6,o,null,l),o.lanes=h,o}function Xc(o,l,h){return l=Jt(4,o.children!==null?o.children:[],o.key,l),l.lanes=h,l.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},l}function sI(o,l,h,m,C){this.tag=l,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Sf(0),this.expirationTimes=Sf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Sf(0),this.identifierPrefix=m,this.onRecoverableError=C,this.mutableSourceEagerHydrationData=null}function Zc(o,l,h,m,C,_,O,W,Z){return o=new sI(o,l,h,W,Z),l===1?(l=1,_===!0&&(l|=8)):l=0,_=Jt(3,null,null,l),o.current=_,_.stateNode=o,_.memoizedState={element:m,isDehydrated:h,cache:null,transitions:null,pendingSuspenseBoundaries:null},fc(_),o}function uI(o,l,h){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:A,key:m==null?null:""+m,children:o,containerInfo:l,implementation:h}}function Rb(o){if(!o)return ia;o=o._reactInternals;e:{if(St(o)!==o||o.tag!==1)throw Error(t(170));var l=o;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(Dt(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(l!==null);throw Error(t(171))}if(o.tag===1){var h=o.type;if(Dt(h))return tw(o,h,l)}return l}function Ab(o,l,h,m,C,_,O,W,Z){return o=Zc(h,m,!0,o,C,_,O,W,Z),o.context=Rb(null),h=o.current,m=_t(),C=da(h),_=Ln(m,C),_.callback=l??null,ua(h,_,C),o.current.lanes=C,So(o,C,m),Ot(o,m),o}function $u(o,l,h,m){var C=l.current,_=_t(),O=da(C);return h=Rb(h),l.context===null?l.context=h:l.pendingContext=h,l=Ln(_,O),l.payload={element:o},m=m===void 0?null:m,m!==null&&(l.callback=m),o=ua(C,l,O),o!==null&&(dn(o,C,O,_),wu(o,C,O)),O}function Uu(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 5:return o.child.stateNode;default:return o.child.stateNode}}function Pb(o,l){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var h=o.retryLane;o.retryLane=h!==0&&h<l?h:l}}function Qc(o,l){Pb(o,l),(o=o.alternate)&&Pb(o,l)}function lI(){return null}var Db=typeof reportError=="function"?reportError:function(o){console.error(o)};function Jc(o){this._internalRoot=o}Gu.prototype.render=Jc.prototype.render=function(o){var l=this._internalRoot;if(l===null)throw Error(t(409));$u(o,l,null,null)},Gu.prototype.unmount=Jc.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var l=o.containerInfo;Ka(function(){$u(null,o,null,null)}),l[Dn]=null}};function Gu(o){this._internalRoot=o}Gu.prototype.unstable_scheduleHydration=function(o){if(o){var l=h1();o={blockedOn:null,target:o,priority:l};for(var h=0;h<ea.length&&l!==0&&l<ea[h].priority;h++);ea.splice(h,0,o),h===0&&y1(o)}};function ed(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function ju(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function Ib(){}function fI(o,l,h,m,C){if(C){if(typeof m=="function"){var _=m;m=function(){var ue=Uu(O);_.call(ue)}}var O=Ab(l,m,o,0,null,!1,!1,"",Ib);return o._reactRootContainer=O,o[Dn]=O.current,Bo(o.nodeType===8?o.parentNode:o),Ka(),O}for(;C=o.lastChild;)o.removeChild(C);if(typeof m=="function"){var W=m;m=function(){var ue=Uu(Z);W.call(ue)}}var Z=Zc(o,0,!1,null,null,!1,!1,"",Ib);return o._reactRootContainer=Z,o[Dn]=Z.current,Bo(o.nodeType===8?o.parentNode:o),Ka(function(){$u(l,Z,h,m)}),Z}function Hu(o,l,h,m,C){var _=h._reactRootContainer;if(_){var O=_;if(typeof C=="function"){var W=C;C=function(){var Z=Uu(O);W.call(Z)}}$u(l,O,o,C)}else O=fI(h,l,o,C,m);return Uu(O)}d1=function(o){switch(o.tag){case 3:var l=o.stateNode;if(l.current.memoizedState.isDehydrated){var h=mi(l.pendingLanes);h!==0&&(Cf(l,h|1),Ot(l,Or()),(lr&6)===0&&(zi=Or()+500,oa()))}break;case 13:Ka(function(){var m=Nn(o,1);if(m!==null){var C=_t();dn(m,o,1,C)}}),Qc(o,1)}},Tf=function(o){if(o.tag===13){var l=Nn(o,134217728);if(l!==null){var h=_t();dn(l,o,134217728,h)}Qc(o,134217728)}},v1=function(o){if(o.tag===13){var l=da(o),h=Nn(o,l);if(h!==null){var m=_t();dn(h,o,l,m)}Qc(o,l)}},h1=function(){return gr},p1=function(o,l){var h=gr;try{return gr=o,l()}finally{gr=h}},qe=function(o,l,h){switch(l){case"input":if(Se(o,h),l=h.name,h.type==="radio"&&l!=null){for(h=o;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll("input[name="+JSON.stringify(""+l)+'][type="radio"]'),l=0;l<h.length;l++){var m=h[l];if(m!==o&&m.form===o.form){var C=lu(m);if(!C)throw Error(t(90));se(m),Se(m,C)}}}break;case"textarea":Be(o,h);break;case"select":l=h.value,l!=null&&Ae(o,!!h.multiple,l,!1)}},nr=jc,tr=Ka;var cI={usingClientEntryPoint:!1,Events:[zo,ki,lu,Qe,Fe,jc]},es={findFiberByHostInstance:za,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},dI={bundleType:es.bundleType,version:es.version,rendererPackageName:es.rendererPackageName,rendererConfig:es.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:T.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=Xn(o),o===null?null:o.stateNode},findFiberByHostInstance:es.findFiberByHostInstance||lI,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wu.isDisabled&&Wu.supportsFiber)try{qa=Wu.inject(dI),$t=Wu}catch{}}return Nt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=cI,Nt.createPortal=function(o,l){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ed(l))throw Error(t(200));return uI(o,l,null,h)},Nt.createRoot=function(o,l){if(!ed(o))throw Error(t(299));var h=!1,m="",C=Db;return l!=null&&(l.unstable_strictMode===!0&&(h=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onRecoverableError!==void 0&&(C=l.onRecoverableError)),l=Zc(o,1,!1,null,null,h,!1,m,C),o[Dn]=l.current,Bo(o.nodeType===8?o.parentNode:o),new Jc(l)},Nt.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var l=o._reactInternals;if(l===void 0)throw typeof o.render=="function"?Error(t(188)):(o=Object.keys(o).join(","),Error(t(268,o)));return o=Xn(l),o=o===null?null:o.stateNode,o},Nt.flushSync=function(o){return Ka(o)},Nt.hydrate=function(o,l,h){if(!ju(l))throw Error(t(200));return Hu(null,o,l,!0,h)},Nt.hydrateRoot=function(o,l,h){if(!ed(o))throw Error(t(405));var m=h!=null&&h.hydratedSources||null,C=!1,_="",O=Db;if(h!=null&&(h.unstable_strictMode===!0&&(C=!0),h.identifierPrefix!==void 0&&(_=h.identifierPrefix),h.onRecoverableError!==void 0&&(O=h.onRecoverableError)),l=Ab(l,null,o,1,h??null,C,!1,_,O),o[Dn]=l.current,Bo(o),m)for(o=0;o<m.length;o++)h=m[o],C=h._getVersion,C=C(h._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[h,C]:l.mutableSourceEagerHydrationData.push(h,C);return new Gu(l)},Nt.render=function(o,l,h){if(!ju(l))throw Error(t(200));return Hu(null,o,l,!1,h)},Nt.unmountComponentAtNode=function(o){if(!ju(o))throw Error(t(40));return o._reactRootContainer?(Ka(function(){Hu(null,null,o,!1,function(){o._reactRootContainer=null,o[Dn]=null})}),!0):!1},Nt.unstable_batchedUpdates=jc,Nt.unstable_renderSubtreeIntoContainer=function(o,l,h,m){if(!ju(h))throw Error(t(200));if(o==null||o._reactInternals===void 0)throw Error(t(38));return Hu(o,l,h,!1,m)},Nt.version="18.3.1-next-f1338f8080-20240426",Nt}var zb;function xI(){if(zb)return nd.exports;zb=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),nd.exports=bI(),nd.exports}var Vb;function EI(){if(Vb)return Yu;Vb=1;var r=xI();return Yu.createRoot=r.createRoot,Yu.hydrateRoot=r.hydrateRoot,Yu}var SI=EI();const CI=w0(SI);function TI(r){const e=[];if(!r||typeof r!="object")return{valid:!1,errors:["Input must be a JSON object"],data:null};const t=r;if(!Array.isArray(t.jobs))return{valid:!1,errors:['Missing or invalid "jobs" array'],data:null};const n=[],a=new Set;for(let s=0;s<t.jobs.length;s++){const u=t.jobs[s];if(!u.id||typeof u.id!="string"){e.push(`Job at index ${s}: missing or invalid "id"`);continue}if(a.has(u.id)){e.push(`Duplicate job ID: "${u.id}"`);continue}if(!u.name||typeof u.name!="string"){e.push(`Job "${u.id}": missing or invalid "name"`);continue}if(!Array.isArray(u.dependencies)){e.push(`Job "${u.id}": "dependencies" must be an array`);continue}a.add(u.id),n.push(u)}if(n.length===0&&e.length>0)return{valid:!1,errors:e,data:null};const i=t.metadata??null;return{valid:e.length===0,errors:e,data:{metadata:i,jobs:n}}}const _I={exportDate:"2025-01-30T10:00:00Z",source:"autosys-prod",version:"1.0"},kI=[{id:"TRIG_DAILY_BATCH",name:"TRIG_DAILY_BATCH",description:"Trigger for daily batch processing",type:"condition",machine:"scheduler-01",owner:"batch_ops",dependencies:[],schedule:"0 1 * * *",avgDurationMinutes:1,tags:["trigger","daily"]},{id:"FW_CUSTOMER_FILE",name:"FW_CUSTOMER_FILE",description:"Watch for customer data file arrival",type:"file_watcher",machine:"ftpserver-01",owner:"batch_ops",dependencies:["TRIG_DAILY_BATCH"],avgDurationMinutes:5,tags:["file_watcher","customer"]},{id:"FW_ACCOUNT_FILE",name:"FW_ACCOUNT_FILE",description:"Watch for account data file arrival",type:"file_watcher",machine:"ftpserver-01",owner:"batch_ops",dependencies:["TRIG_DAILY_BATCH"],avgDurationMinutes:5,tags:["file_watcher","account"]},{id:"FW_TRANSACTION_FILE",name:"FW_TRANSACTION_FILE",description:"Watch for transaction data file arrival",type:"file_watcher",machine:"ftpserver-01",owner:"batch_ops",dependencies:["TRIG_DAILY_BATCH"],avgDurationMinutes:10,tags:["file_watcher","transaction"]},{id:"EXT_CUSTOMER_DATA",name:"EXT_CUSTOMER_DATA",description:"Extract customer data from source file",type:"command",machine:"etl-server-01",owner:"etl_team",command:"/scripts/extract_customers.sh",dependencies:["FW_CUSTOMER_FILE"],avgDurationMinutes:15,tablesRead:["CUSTOMER_RAW"],tablesWritten:["CUSTOMER_STAGE"],tags:["extract","customer"]},{id:"EXT_ACCOUNT_DATA",name:"EXT_ACCOUNT_DATA",description:"Extract account data from source file",type:"command",machine:"etl-server-01",owner:"etl_team",command:"/scripts/extract_accounts.sh",dependencies:["FW_ACCOUNT_FILE"],avgDurationMinutes:20,tablesRead:["ACCOUNT_RAW"],tablesWritten:["ACCOUNT_STAGE"],tags:["extract","account"]},{id:"EXT_TRANSACTION_DATA",name:"EXT_TRANSACTION_DATA",description:"Extract transaction data from source file",type:"command",machine:"etl-server-02",owner:"etl_team",command:"/scripts/extract_transactions.sh",dependencies:["FW_TRANSACTION_FILE"],avgDurationMinutes:45,tablesRead:["TRANSACTION_RAW"],tablesWritten:["TRANSACTION_STAGE"],tags:["extract","transaction","critical"]},{id:"VAL_CUSTOMER_DATA",name:"VAL_CUSTOMER_DATA",description:"Validate customer data quality",type:"command",machine:"etl-server-01",owner:"dq_team",command:"/scripts/validate_customers.sh",dependencies:["EXT_CUSTOMER_DATA"],avgDurationMinutes:10,tags:["validation","customer"]},{id:"VAL_ACCOUNT_DATA",name:"VAL_ACCOUNT_DATA",description:"Validate account data quality",type:"command",machine:"etl-server-01",owner:"dq_team",command:"/scripts/validate_accounts.sh",dependencies:["EXT_ACCOUNT_DATA"],avgDurationMinutes:8,tags:["validation","account"]},{id:"VAL_TRANSACTION_DATA",name:"VAL_TRANSACTION_DATA",description:"Validate transaction data quality",type:"command",machine:"etl-server-02",owner:"dq_team",command:"/scripts/validate_transactions.sh",dependencies:["EXT_TRANSACTION_DATA"],avgDurationMinutes:15,tags:["validation","transaction"]},{id:"COND_EXTRACT_DONE",name:"COND_EXTRACT_DONE",description:"All extracts and validations complete",type:"condition",machine:"scheduler-01",owner:"batch_ops",dependencies:["VAL_CUSTOMER_DATA","VAL_ACCOUNT_DATA","VAL_TRANSACTION_DATA"],condition:"s(VAL_CUSTOMER_DATA) & s(VAL_ACCOUNT_DATA) & s(VAL_TRANSACTION_DATA)",avgDurationMinutes:1,tags:["condition","checkpoint"]},{id:"TRF_CUSTOMER_DIM",name:"TRF_CUSTOMER_DIM",description:"Transform customer dimension table",type:"command",machine:"etl-server-01",owner:"etl_team",command:"/scripts/transform_customer_dim.sh",dependencies:["COND_EXTRACT_DONE"],avgDurationMinutes:30,tablesRead:["CUSTOMER_STAGE"],tablesWritten:["DIM_CUSTOMER"],tags:["transform","customer","dimension"]},{id:"TRF_ACCOUNT_DIM",name:"TRF_ACCOUNT_DIM",description:"Transform account dimension table",type:"command",machine:"etl-server-01",owner:"etl_team",command:"/scripts/transform_account_dim.sh",dependencies:["COND_EXTRACT_DONE"],avgDurationMinutes:25,tablesRead:["ACCOUNT_STAGE"],tablesWritten:["DIM_ACCOUNT"],tags:["transform","account","dimension"]},{id:"TRF_TRANSACTION_FACT",name:"TRF_TRANSACTION_FACT",description:"Transform transaction fact table",type:"command",machine:"etl-server-02",owner:"etl_team",command:"/scripts/transform_transactions.sh",dependencies:["COND_EXTRACT_DONE"],avgDurationMinutes:60,tablesRead:["TRANSACTION_STAGE","CUSTOMER_STAGE","ACCOUNT_STAGE"],tablesWritten:["FACT_TRANSACTION"],tags:["transform","transaction","fact","critical"]},{id:"COND_TRANSFORM_DONE",name:"COND_TRANSFORM_DONE",description:"All transformations complete",type:"condition",machine:"scheduler-01",owner:"batch_ops",dependencies:["TRF_CUSTOMER_DIM","TRF_ACCOUNT_DIM","TRF_TRANSACTION_FACT"],condition:"s(TRF_CUSTOMER_DIM) & s(TRF_ACCOUNT_DIM) & s(TRF_TRANSACTION_FACT)",avgDurationMinutes:1,tags:["condition","checkpoint"]},{id:"RPT_DAILY_SUMMARY",name:"RPT_DAILY_SUMMARY",description:"Generate daily summary report",type:"command",machine:"report-server-01",owner:"report_team",command:"/scripts/daily_summary_report.sh",dependencies:["COND_TRANSFORM_DONE"],avgDurationMinutes:20,tablesRead:["FACT_TRANSACTION","DIM_CUSTOMER","DIM_ACCOUNT"],tags:["report","daily"]},{id:"RPT_RISK_ANALYSIS",name:"RPT_RISK_ANALYSIS",description:"Generate risk analysis report",type:"command",machine:"report-server-01",owner:"risk_team",command:"/scripts/risk_analysis.sh",dependencies:["COND_TRANSFORM_DONE"],avgDurationMinutes:35,tablesRead:["FACT_TRANSACTION","DIM_CUSTOMER"],tags:["report","risk","critical"]},{id:"RPT_REGULATORY",name:"RPT_REGULATORY",description:"Generate regulatory compliance report",type:"command",machine:"report-server-02",owner:"compliance_team",command:"/scripts/regulatory_report.sh",dependencies:["COND_TRANSFORM_DONE"],avgDurationMinutes:40,tablesRead:["FACT_TRANSACTION","DIM_CUSTOMER","DIM_ACCOUNT"],tags:["report","regulatory","critical"],customAttributes:{priority:"high",sla:"6:00 AM"}},{id:"LOAD_DATA_MART",name:"LOAD_DATA_MART",description:"Load aggregated data into data mart",type:"command",machine:"db-server-01",owner:"etl_team",command:"/scripts/load_data_mart.sh",dependencies:["RPT_DAILY_SUMMARY"],avgDurationMinutes:25,tablesRead:["FACT_TRANSACTION","DIM_CUSTOMER","DIM_ACCOUNT"],tablesWritten:["DATA_MART_DAILY"],tags:["load","data_mart"]},{id:"NOTIFY_DOWNSTREAM",name:"NOTIFY_DOWNSTREAM",description:"Notify downstream systems of data availability",type:"command",machine:"scheduler-01",owner:"batch_ops",command:"/scripts/notify_downstream.sh",dependencies:["LOAD_DATA_MART","RPT_RISK_ANALYSIS","RPT_REGULATORY"],avgDurationMinutes:2,tags:["notification"]},{id:"CLEANUP_STAGING",name:"CLEANUP_STAGING",description:"Clean up staging tables and temp files",type:"box",machine:"etl-server-01",owner:"batch_ops",command:"/scripts/cleanup_staging.sh",dependencies:["NOTIFY_DOWNSTREAM"],avgDurationMinutes:10,tags:["cleanup","maintenance"]},{id:"COND_BATCH_COMPLETE",name:"COND_BATCH_COMPLETE",description:"Daily batch processing complete",type:"condition",machine:"scheduler-01",owner:"batch_ops",dependencies:["CLEANUP_STAGING"],condition:"s(CLEANUP_STAGING)",avgDurationMinutes:1,tags:["condition","complete"]}],RI={metadata:_I,jobs:kI};function AI(){const[r,e]=Je.useState([]),[t,n]=Je.useState(null),[a,i]=Je.useState(null),s=Je.useCallback(c=>{const d=TI(c);if(!d.data){i(d.errors.join(`
`));return}d.errors.length>0&&console.warn("Data loaded with warnings:",d.errors),e(d.data.jobs),n(d.data.metadata??null),i(null)},[]),u=Je.useCallback(async c=>{try{const d=await c.text(),v=JSON.parse(d);s(v)}catch(d){i(`Failed to parse file: ${d instanceof Error?d.message:String(d)}`)}},[s]),f=Je.useCallback(()=>{s(RI)},[s]);return{jobs:r,metadata:t,error:a,loadFromJson:s,loadFromFile:u,loadSampleData:f}}function zk(r,e){const t=r.getElementById(e);return t.empty()?[]:t.predecessors("node").map(a=>a.id())}function Vk(r,e){const t=r.getElementById(e);return t.empty()?[]:t.successors("node").map(a=>a.id())}function PI(r,e){const t=r.getElementById(e);if(t.empty())return[];const n=t.predecessors("edge"),a=t.successors("edge");return[...n.map(i=>i.id()),...a.map(i=>i.id())]}function DI(){const[r,e]=Je.useState(null),t=Je.useRef(null),n=Je.useCallback(a=>{const i=t.current;if(!i)return;if(i.elements().removeClass("selected upstream downstream dimmed highlighted"),!a){e(null);return}e(a);const s=zk(i,a),u=Vk(i,a),f=PI(i,a),c=new Set([a,...s,...u]);i.nodes().forEach(d=>{c.has(d.id())||d.addClass("dimmed")}),i.edges().forEach(d=>{f.includes(d.id())?d.addClass("highlighted"):d.addClass("dimmed")}),i.getElementById(a).addClass("selected"),s.forEach(d=>i.getElementById(d).addClass("upstream")),u.forEach(d=>i.getElementById(d).addClass("downstream"))},[]);return{selectedJobId:r,selectNode:n,cyRef:t}}function $b(r,e=new Map){const t=new Map,n=new Map,a=new Map,i=new Set(r.map(w=>w.id));for(const w of r)t.set(w.id,w),n.set(w.id,0),a.set(w.id,[]);for(const w of r){let b=0;for(const E of w.dependencies)i.has(E)&&(a.get(E).push(w.id),b++);n.set(w.id,b)}const s=[];for(const[w,b]of n)b===0&&s.push(w);const u=[];for(;s.length>0;){const w=s.shift();u.push(w);for(const b of a.get(w)){const E=n.get(b)-1;n.set(b,E),E===0&&s.push(b)}}const f=new Map,c=new Map,d=new Map;for(const w of u){const b=t.get(w),E=e.has(w)?e.get(w):b.avgDurationMinutes??0;d.set(w,E);let S=0;for(const T of b.dependencies)if(i.has(T)){const R=c.get(T)??0;R>S&&(S=R)}f.set(w,S),c.set(w,S+E)}let v=0,p=u[0]??"";for(const w of u){const b=c.get(w);b>v&&(v=b,p=w)}const g=new Set,y=[];if(u.length>0){const w=[p];for(g.add(p);w.length>0;){const b=w.pop();y.push(b);const E=t.get(b),S=f.get(b);for(const T of E.dependencies)i.has(T)&&!g.has(T)&&c.get(T)===S&&(g.add(T),w.push(T))}y.reverse()}const x=new Map;for(const w of u)x.set(w,{earliestStart:f.get(w),earliestFinish:c.get(w),effectiveDuration:d.get(w),isCritical:g.has(w)});return{nodeTiming:x,criticalPath:y,totalDuration:v}}function II(r){const[e,t]=Je.useState(!1),[n,a]=Je.useState(new Map),i=Je.useRef(null),s=Je.useMemo(()=>!e||r.length===0?null:$b(r,n),[e,r,n]),u=Je.useMemo(()=>{if(!e||r.length===0)return null;if(i.current!==null)return i.current;const p=$b(r).totalDuration;return i.current=p,p},[e,r]),f=Je.useCallback(()=>{t(p=>(p&&(i.current=null,a(new Map)),!p))},[]),c=Je.useCallback((p,g)=>{a(y=>{const x=new Map(y);return x.set(p,g),x})},[]),d=Je.useCallback(p=>{a(g=>{const y=new Map(g);return y.delete(p),y})},[]),v=Je.useCallback(()=>{a(new Map)},[]);return{timingEnabled:e,toggleTiming:f,timingResult:s,baselineDuration:u,durationOverrides:n,setDurationOverride:c,clearDurationOverride:d,resetAllOverrides:v}}function $k(r,e){const t=URL.createObjectURL(r),n=document.createElement("a");n.href=t,n.download=e,document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(t)}function MI(r,e="autosys-graph"){const t=r.png({output:"blob",full:!0,scale:2,bg:"#111827"});$k(t,`${e}.png`)}function OI(r,e="autosys-graph"){const t=r.svg({full:!0,scale:1,bg:"#111827"}),n=new Blob([t],{type:"image/svg+xml"});$k(n,`${e}.svg`)}function NI({onImport:r,onLoadSample:e,layout:t,onLayoutChange:n,onFit:a,hasData:i,timingEnabled:s,onTimingToggle:u,onExport:f}){const c=Je.useRef(null),[d,v]=Je.useState(!1),p=Je.useRef(null),g=x=>{var b;const w=(b=x.target.files)==null?void 0:b[0];w&&(r(w),x.target.value="")};Je.useEffect(()=>{if(!d)return;const x=w=>{p.current&&!p.current.contains(w.target)&&v(!1)};return document.addEventListener("mousedown",x),()=>document.removeEventListener("mousedown",x)},[d]);const y=x=>{f(x),v(!1)};return fe.jsxs("header",{className:"flex items-center justify-between px-4 py-2 bg-gray-800 border-b border-gray-700",children:[fe.jsx("div",{className:"flex items-center gap-3",children:fe.jsxs("div",{className:"flex items-center gap-2",children:[fe.jsxs("svg",{className:"w-6 h-6 text-blue-400",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[fe.jsx("circle",{cx:"12",cy:"5",r:"2"}),fe.jsx("circle",{cx:"6",cy:"12",r:"2"}),fe.jsx("circle",{cx:"18",cy:"12",r:"2"}),fe.jsx("circle",{cx:"12",cy:"19",r:"2"}),fe.jsx("path",{d:"M12 7v4M8 11l3-3M16 11l-3-3M12 15v2"})]}),fe.jsx("h1",{className:"text-lg font-semibold text-gray-100",children:"Autosys Visualizer"})]})}),fe.jsxs("div",{className:"flex items-center gap-2",children:[!i&&fe.jsx("button",{onClick:e,className:"px-3 py-1.5 text-sm bg-blue-600 hover:bg-blue-500 rounded transition-colors",children:"Load Sample"}),fe.jsx("input",{ref:c,type:"file",accept:".json",onChange:g,className:"hidden"}),fe.jsx("button",{onClick:()=>{var x;return(x=c.current)==null?void 0:x.click()},className:"px-3 py-1.5 text-sm bg-gray-700 hover:bg-gray-600 rounded transition-colors",children:"Import"}),fe.jsxs("div",{ref:p,className:"relative",children:[fe.jsxs("button",{onClick:()=>v(x=>!x),disabled:!i,className:"px-3 py-1.5 text-sm bg-gray-700 hover:bg-gray-600 rounded transition-colors disabled:opacity-50 flex items-center gap-1",children:["Export",fe.jsx("svg",{className:"w-3 h-3",viewBox:"0 0 12 12",fill:"none",stroke:"currentColor",strokeWidth:"2",children:fe.jsx("path",{d:"M3 5l3 3 3-3"})})]}),d&&fe.jsxs("div",{className:"absolute right-0 mt-1 w-40 bg-gray-700 border border-gray-600 rounded shadow-lg z-50",children:[fe.jsx("button",{onClick:()=>y("png"),className:"w-full text-left px-3 py-2 text-sm hover:bg-gray-600 rounded-t transition-colors",children:"Export as PNG"}),fe.jsx("button",{onClick:()=>y("svg"),className:"w-full text-left px-3 py-2 text-sm hover:bg-gray-600 rounded-b transition-colors",children:"Export as SVG"})]})]}),fe.jsxs("select",{value:t,onChange:x=>n(x.target.value),className:"px-2 py-1.5 text-sm bg-gray-700 border border-gray-600 rounded",children:[fe.jsx("option",{value:"dagre",children:"Dagre (Hierarchical)"}),fe.jsx("option",{value:"breadthfirst",children:"Breadthfirst"}),fe.jsx("option",{value:"concentric",children:"Concentric"})]}),fe.jsxs("button",{onClick:u,disabled:!i,className:`px-3 py-1.5 text-sm rounded transition-colors disabled:opacity-50 flex items-center gap-1.5 ${s?"bg-amber-600 hover:bg-amber-500 text-white":"bg-gray-700 hover:bg-gray-600"}`,title:"Toggle timing analysis",children:[fe.jsxs("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[fe.jsx("circle",{cx:"12",cy:"12",r:"10"}),fe.jsx("polyline",{points:"12 6 12 12 16 14"})]}),"Timing"]}),fe.jsx("button",{onClick:a,disabled:!i,className:"px-3 py-1.5 text-sm bg-gray-700 hover:bg-gray-600 rounded transition-colors disabled:opacity-50",children:"Fit"})]})]})}function LI({value:r,onChange:e}){return fe.jsxs("div",{className:"relative",children:[fe.jsx("svg",{className:"absolute left-2.5 top-2.5 w-4 h-4 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:fe.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),fe.jsx("input",{type:"text",value:r,onChange:t=>e(t.target.value),placeholder:"Search jobs...",className:"w-full pl-9 pr-3 py-2 bg-gray-800 border border-gray-600 rounded text-sm text-gray-200 placeholder-gray-500 focus:outline-none focus:border-blue-500"})]})}const BI=[{key:"box",label:"Box Jobs"},{key:"command",label:"Commands"},{key:"file_watcher",label:"File Watchers"},{key:"condition",label:"Conditions"}];function qI({filters:r,onToggle:e}){return fe.jsxs("div",{className:"space-y-1",children:[fe.jsx("h3",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wider",children:"Job Types"}),BI.map(({key:t,label:n})=>fe.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-300 cursor-pointer hover:text-gray-100",children:[fe.jsx("input",{type:"checkbox",checked:r[t]!==!1,onChange:()=>e(t),className:"rounded bg-gray-700 border-gray-600 text-blue-500 focus:ring-blue-500 focus:ring-offset-0"}),n]},t))]})}function FI({job:r,timingEnabled:e,timingResult:t,durationOverride:n,onDurationOverride:a,onClearOverride:i}){return r?fe.jsxs("div",{className:"space-y-3",children:[fe.jsx("h3",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wider",children:"Selected Job"}),fe.jsxs("div",{children:[fe.jsx("div",{className:"text-sm font-medium text-gray-100 break-all",children:r.name}),r.description&&fe.jsx("div",{className:"text-xs text-gray-400 mt-1",children:r.description})]}),fe.jsxs("div",{className:"space-y-2 text-xs",children:[r.type&&fe.jsx(zn,{label:"Type",value:r.type}),r.machine&&fe.jsx(zn,{label:"Machine",value:r.machine}),r.owner&&fe.jsx(zn,{label:"Owner",value:r.owner}),r.schedule&&fe.jsx(zn,{label:"Schedule",value:r.schedule}),r.avgDurationMinutes!=null&&fe.jsx(zn,{label:"Avg Duration",value:`${r.avgDurationMinutes} min`}),r.command&&fe.jsx(zn,{label:"Command",value:r.command}),r.condition&&fe.jsx(zn,{label:"Condition",value:r.condition}),r.dependencies.length>0&&fe.jsxs("div",{children:[fe.jsx("span",{className:"text-gray-500",children:"Dependencies:"}),fe.jsx("div",{className:"mt-1 flex flex-wrap gap-1",children:r.dependencies.map(s=>fe.jsx("span",{className:"px-1.5 py-0.5 bg-gray-700 rounded text-gray-300",children:s},s))})]}),r.tags&&r.tags.length>0&&fe.jsxs("div",{children:[fe.jsx("span",{className:"text-gray-500",children:"Tags:"}),fe.jsx("div",{className:"mt-1 flex flex-wrap gap-1",children:r.tags.map(s=>fe.jsx("span",{className:"px-1.5 py-0.5 bg-blue-900/50 text-blue-300 rounded",children:s},s))})]}),r.tablesRead&&r.tablesRead.length>0&&fe.jsxs("div",{children:[fe.jsx("span",{className:"text-gray-500",children:"Tables Read:"}),fe.jsx("div",{className:"mt-1 text-gray-300",children:r.tablesRead.join(", ")})]}),r.tablesWritten&&r.tablesWritten.length>0&&fe.jsxs("div",{children:[fe.jsx("span",{className:"text-gray-500",children:"Tables Written:"}),fe.jsx("div",{className:"mt-1 text-gray-300",children:r.tablesWritten.join(", ")})]})]}),e&&t&&fe.jsx(zI,{job:r,timing:t,durationOverride:n,onDurationOverride:a,onClearOverride:i})]}):fe.jsx("div",{className:"text-sm text-gray-500 italic",children:"Click a node to view details"})}function zI({job:r,timing:e,durationOverride:t,onDurationOverride:n,onClearOverride:a}){const i=r.avgDurationMinutes??0,[s,u]=Je.useState(String(t??i)),f=()=>{const c=parseFloat(s);!isNaN(c)&&c>=0?c===i?a(r.id):n(r.id,c):u(String(t??i))};return fe.jsxs("div",{className:"border-t border-gray-700 pt-2 mt-2 space-y-2",children:[fe.jsxs("div",{className:"flex items-center gap-2",children:[fe.jsx("h4",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wider",children:"Timing"}),e.isCritical?fe.jsx("span",{className:"px-1.5 py-0.5 text-[10px] font-medium bg-red-900/50 text-red-300 rounded",children:"Critical"}):fe.jsx("span",{className:"px-1.5 py-0.5 text-[10px] font-medium bg-gray-700 text-gray-400 rounded",children:"Not critical"})]}),fe.jsxs("div",{className:"space-y-1.5 text-xs",children:[fe.jsxs("div",{className:"flex items-center justify-between gap-2",children:[fe.jsx("span",{className:"text-gray-500 shrink-0",children:"Duration (min):"}),fe.jsxs("div",{className:"flex items-center gap-1",children:[fe.jsx("input",{type:"number",min:"0",step:"1",value:s,onChange:c=>u(c.target.value),onBlur:f,onKeyDown:c=>{c.key==="Enter"&&f()},className:"w-16 px-1.5 py-0.5 bg-gray-700 border border-gray-600 rounded text-gray-200 text-right text-xs"}),t!=null&&fe.jsx("button",{onClick:()=>{a(r.id),u(String(i))},className:"text-gray-500 hover:text-gray-300 text-xs",title:`Reset to ${i}`,children:""})]})]}),t!=null&&fe.jsxs("div",{className:"text-[10px] text-purple-400",children:["Original: ",i,"m"]}),fe.jsx(zn,{label:"Earliest Start",value:`${e.earliestStart}m from start`}),fe.jsx(zn,{label:"Earliest Finish",value:`${e.earliestFinish}m from start`})]})]})}function zn({label:r,value:e}){return fe.jsxs("div",{className:"flex justify-between gap-2",children:[fe.jsxs("span",{className:"text-gray-500 shrink-0",children:[r,":"]}),fe.jsx("span",{className:"text-gray-300 text-right break-all",children:e})]})}function Ub(r){if(r<60)return`${r}m`;const e=Math.floor(r/60),t=r%60;return t>0?`${e}h ${t}m`:`${e}h`}function VI({totalDuration:r,baselineDuration:e,criticalPathLength:t,overrideCount:n,onResetAll:a}){const i=e!=null&&n>0?r-e:null;return fe.jsxs("div",{className:"border-t border-gray-700 pt-3 space-y-2",children:[fe.jsx("h3",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wider",children:"Timing Analysis"}),fe.jsxs("div",{className:"space-y-1.5 text-xs",children:[fe.jsxs("div",{className:"flex justify-between",children:[fe.jsx("span",{className:"text-gray-500",children:"Total Duration:"}),fe.jsx("span",{className:"text-gray-200 font-medium",children:Ub(r)})]}),fe.jsxs("div",{className:"flex justify-between",children:[fe.jsx("span",{className:"text-gray-500",children:"Critical Path:"}),fe.jsxs("span",{className:"text-red-400",children:[t," jobs"]})]}),n>0&&fe.jsxs("div",{className:"flex justify-between",children:[fe.jsx("span",{className:"text-gray-500",children:"Overrides:"}),fe.jsxs("span",{className:"text-purple-400",children:[n," active"]})]}),i!=null&&i!==0&&fe.jsxs("div",{className:"flex justify-between",children:[fe.jsx("span",{className:"text-gray-500",children:"Delta:"}),fe.jsxs("span",{className:i>0?"text-red-400":"text-green-400",children:[i>0?"+":"",Ub(Math.abs(i))," from baseline"]})]})]}),n>0&&fe.jsx("button",{onClick:a,className:"w-full mt-1 px-2 py-1 text-xs bg-gray-700 hover:bg-gray-600 rounded transition-colors text-gray-300",children:"Reset All Overrides"})]})}function $I({searchQuery:r,onSearchChange:e,filters:t,onFilterToggle:n,selectedJob:a,timingEnabled:i,timingResult:s,baselineDuration:u,durationOverrides:f,onDurationOverride:c,onClearOverride:d,onResetAllOverrides:v}){const p=a&&s?s.nodeTiming.get(a.id)??null:null;return fe.jsxs("aside",{className:"w-72 shrink-0 bg-gray-850 border-r border-gray-700 flex flex-col overflow-hidden",style:{backgroundColor:"#1a1d23"},children:[fe.jsxs("div",{className:"p-3 space-y-4 overflow-y-auto flex-1",children:[fe.jsx(LI,{value:r,onChange:e}),fe.jsx(qI,{filters:t,onToggle:n}),fe.jsx("div",{className:"border-t border-gray-700 pt-3",children:fe.jsx(FI,{job:a,timingEnabled:i,timingResult:p,durationOverride:a?f.get(a.id):void 0,onDurationOverride:c,onClearOverride:d})})]}),i&&s&&fe.jsx("div",{className:"p-3 shrink-0",children:fe.jsx(VI,{totalDuration:s.totalDuration,baselineDuration:u,criticalPathLength:s.criticalPath.length,overrideCount:f.size,onResetAll:v})})]})}function Jm(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=Array(e);t<e;t++)n[t]=r[t];return n}function UI(r){if(Array.isArray(r))return r}function GI(r){if(Array.isArray(r))return Jm(r)}function Da(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function jI(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,Gk(n.key),n)}}function Ia(r,e,t){return e&&jI(r.prototype,e),Object.defineProperty(r,"prototype",{writable:!1}),r}function qt(r,e){var t=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!t){if(Array.isArray(r)||(t=x0(r))||e){t&&(r=t);var n=0,a=function(){};return{s:a,n:function(){return n>=r.length?{done:!0}:{done:!1,value:r[n++]}},e:function(f){throw f},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i,s=!0,u=!1;return{s:function(){t=t.call(r)},n:function(){var f=t.next();return s=f.done,f},e:function(f){u=!0,i=f},f:function(){try{s||t.return==null||t.return()}finally{if(u)throw i}}}}function Uk(r,e,t){return(e=Gk(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function HI(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function WI(r,e){var t=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(t!=null){var n,a,i,s,u=[],f=!0,c=!1;try{if(i=(t=t.call(r)).next,e===0){if(Object(t)!==t)return;f=!1}else for(;!(f=(n=i.call(t)).done)&&(u.push(n.value),u.length!==e);f=!0);}catch(d){c=!0,a=d}finally{try{if(!f&&t.return!=null&&(s=t.return(),Object(s)!==s))return}finally{if(c)throw a}}return u}}function KI(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YI(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hr(r,e){return UI(r)||WI(r,e)||x0(r,e)||KI()}function xl(r){return GI(r)||HI(r)||x0(r)||YI()}function XI(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}function Gk(r){var e=XI(r,"string");return typeof e=="symbol"?e:e+""}function Jr(r){"@babel/helpers - typeof";return Jr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jr(r)}function x0(r,e){if(r){if(typeof r=="string")return Jm(r,e);var t={}.toString.call(r).slice(8,-1);return t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set"?Array.from(r):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Jm(r,e):void 0}}var Zr=typeof window>"u"?null:window,Gb=Zr?Zr.navigator:null;Zr&&Zr.document;var ZI=Jr(""),jk=Jr({}),QI=Jr(function(){}),JI=typeof HTMLElement>"u"?"undefined":Jr(HTMLElement),Rs=function(e){return e&&e.instanceString&&qr(e.instanceString)?e.instanceString():null},je=function(e){return e!=null&&Jr(e)==ZI},qr=function(e){return e!=null&&Jr(e)===QI},mr=function(e){return!Wt(e)&&(Array.isArray?Array.isArray(e):e!=null&&e instanceof Array)},cr=function(e){return e!=null&&Jr(e)===jk&&!mr(e)&&e.constructor===Object},eM=function(e){return e!=null&&Jr(e)===jk},Te=function(e){return e!=null&&Jr(e)===Jr(1)&&!isNaN(e)},rM=function(e){return Te(e)&&Math.floor(e)===e},El=function(e){if(JI!=="undefined")return e!=null&&e instanceof HTMLElement},Wt=function(e){return As(e)||Hk(e)},As=function(e){return Rs(e)==="collection"&&e._private.single},Hk=function(e){return Rs(e)==="collection"&&!e._private.single},E0=function(e){return Rs(e)==="core"},Wk=function(e){return Rs(e)==="stylesheet"},tM=function(e){return Rs(e)==="event"},Ca=function(e){return e==null?!0:!!(e===""||e.match(/^\s+$/))},nM=function(e){return typeof HTMLElement>"u"?!1:e instanceof HTMLElement},aM=function(e){return cr(e)&&Te(e.x1)&&Te(e.x2)&&Te(e.y1)&&Te(e.y2)},iM=function(e){return eM(e)&&qr(e.then)},oM=function(){return Gb&&Gb.userAgent.match(/msie|trident|edge/i)},ao=function(e,t){t||(t=function(){if(arguments.length===1)return arguments[0];if(arguments.length===0)return"undefined";for(var i=[],s=0;s<arguments.length;s++)i.push(arguments[s]);return i.join("$")});var n=function(){var i=this,s=arguments,u,f=t.apply(i,s),c=n.cache;return(u=c[f])||(u=c[f]=e.apply(i,s)),u};return n.cache={},n},S0=ao(function(r){return r.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}),Ll=ao(function(r){return r.replace(/(-\w)/g,function(e){return e[1].toUpperCase()})}),Kk=ao(function(r,e){return r+e[0].toUpperCase()+e.substring(1)},function(r,e){return r+"$"+e}),jb=function(e){return Ca(e)?e:e.charAt(0).toUpperCase()+e.substring(1)},wa=function(e,t){return e.slice(-1*t.length)===t},Qr="(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))",sM="rgb[a]?\\(("+Qr+"[%]?)\\s*,\\s*("+Qr+"[%]?)\\s*,\\s*("+Qr+"[%]?)(?:\\s*,\\s*("+Qr+"))?\\)",uM="rgb[a]?\\((?:"+Qr+"[%]?)\\s*,\\s*(?:"+Qr+"[%]?)\\s*,\\s*(?:"+Qr+"[%]?)(?:\\s*,\\s*(?:"+Qr+"))?\\)",lM="hsl[a]?\\(("+Qr+")\\s*,\\s*("+Qr+"[%])\\s*,\\s*("+Qr+"[%])(?:\\s*,\\s*("+Qr+"))?\\)",fM="hsl[a]?\\((?:"+Qr+")\\s*,\\s*(?:"+Qr+"[%])\\s*,\\s*(?:"+Qr+"[%])(?:\\s*,\\s*(?:"+Qr+"))?\\)",cM="\\#[0-9a-fA-F]{3}",dM="\\#[0-9a-fA-F]{6}",Yk=function(e,t){return e<t?-1:e>t?1:0},vM=function(e,t){return-1*Yk(e,t)},Ke=Object.assign!=null?Object.assign.bind(Object):function(r){for(var e=arguments,t=1;t<e.length;t++){var n=e[t];if(n!=null)for(var a=Object.keys(n),i=0;i<a.length;i++){var s=a[i];r[s]=n[s]}}return r},hM=function(e){if(!(!(e.length===4||e.length===7)||e[0]!=="#")){var t=e.length===4,n,a,i,s=16;return t?(n=parseInt(e[1]+e[1],s),a=parseInt(e[2]+e[2],s),i=parseInt(e[3]+e[3],s)):(n=parseInt(e[1]+e[2],s),a=parseInt(e[3]+e[4],s),i=parseInt(e[5]+e[6],s)),[n,a,i]}},pM=function(e){var t,n,a,i,s,u,f,c;function d(y,x,w){return w<0&&(w+=1),w>1&&(w-=1),w<1/6?y+(x-y)*6*w:w<1/2?x:w<2/3?y+(x-y)*(2/3-w)*6:y}var v=new RegExp("^"+lM+"$").exec(e);if(v){if(n=parseInt(v[1]),n<0?n=(360- -1*n%360)%360:n>360&&(n=n%360),n/=360,a=parseFloat(v[2]),a<0||a>100||(a=a/100,i=parseFloat(v[3]),i<0||i>100)||(i=i/100,s=v[4],s!==void 0&&(s=parseFloat(s),s<0||s>1)))return;if(a===0)u=f=c=Math.round(i*255);else{var p=i<.5?i*(1+a):i+a-i*a,g=2*i-p;u=Math.round(255*d(g,p,n+1/3)),f=Math.round(255*d(g,p,n)),c=Math.round(255*d(g,p,n-1/3))}t=[u,f,c,s]}return t},gM=function(e){var t,n=new RegExp("^"+sM+"$").exec(e);if(n){t=[];for(var a=[],i=1;i<=3;i++){var s=n[i];if(s[s.length-1]==="%"&&(a[i]=!0),s=parseFloat(s),a[i]&&(s=s/100*255),s<0||s>255)return;t.push(Math.floor(s))}var u=a[1]||a[2]||a[3],f=a[1]&&a[2]&&a[3];if(u&&!f)return;var c=n[4];if(c!==void 0){if(c=parseFloat(c),c<0||c>1)return;t.push(c)}}return t},yM=function(e){return mM[e.toLowerCase()]},Xk=function(e){return(mr(e)?e:null)||yM(e)||hM(e)||gM(e)||pM(e)},mM={transparent:[0,0,0,0],aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],grey:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},Zk=function(e){for(var t=e.map,n=e.keys,a=n.length,i=0;i<a;i++){var s=n[i];if(cr(s))throw Error("Tried to set map with object key");i<n.length-1?(t[s]==null&&(t[s]={}),t=t[s]):t[s]=e.value}},Qk=function(e){for(var t=e.map,n=e.keys,a=n.length,i=0;i<a;i++){var s=n[i];if(cr(s))throw Error("Tried to get map with object key");if(t=t[s],t==null)return t}return t},Xu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ps(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var od,Hb;function Ds(){if(Hb)return od;Hb=1;function r(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}return od=r,od}var sd,Wb;function wM(){if(Wb)return sd;Wb=1;var r=typeof Xu=="object"&&Xu&&Xu.Object===Object&&Xu;return sd=r,sd}var ud,Kb;function Bl(){if(Kb)return ud;Kb=1;var r=wM(),e=typeof self=="object"&&self&&self.Object===Object&&self,t=r||e||Function("return this")();return ud=t,ud}var ld,Yb;function bM(){if(Yb)return ld;Yb=1;var r=Bl(),e=function(){return r.Date.now()};return ld=e,ld}var fd,Xb;function xM(){if(Xb)return fd;Xb=1;var r=/\s/;function e(t){for(var n=t.length;n--&&r.test(t.charAt(n)););return n}return fd=e,fd}var cd,Zb;function EM(){if(Zb)return cd;Zb=1;var r=xM(),e=/^\s+/;function t(n){return n&&n.slice(0,r(n)+1).replace(e,"")}return cd=t,cd}var dd,Qb;function C0(){if(Qb)return dd;Qb=1;var r=Bl(),e=r.Symbol;return dd=e,dd}var vd,Jb;function SM(){if(Jb)return vd;Jb=1;var r=C0(),e=Object.prototype,t=e.hasOwnProperty,n=e.toString,a=r?r.toStringTag:void 0;function i(s){var u=t.call(s,a),f=s[a];try{s[a]=void 0;var c=!0}catch{}var d=n.call(s);return c&&(u?s[a]=f:delete s[a]),d}return vd=i,vd}var hd,ex;function CM(){if(ex)return hd;ex=1;var r=Object.prototype,e=r.toString;function t(n){return e.call(n)}return hd=t,hd}var pd,rx;function Jk(){if(rx)return pd;rx=1;var r=C0(),e=SM(),t=CM(),n="[object Null]",a="[object Undefined]",i=r?r.toStringTag:void 0;function s(u){return u==null?u===void 0?a:n:i&&i in Object(u)?e(u):t(u)}return pd=s,pd}var gd,tx;function TM(){if(tx)return gd;tx=1;function r(e){return e!=null&&typeof e=="object"}return gd=r,gd}var yd,nx;function Is(){if(nx)return yd;nx=1;var r=Jk(),e=TM(),t="[object Symbol]";function n(a){return typeof a=="symbol"||e(a)&&r(a)==t}return yd=n,yd}var md,ax;function _M(){if(ax)return md;ax=1;var r=EM(),e=Ds(),t=Is(),n=NaN,a=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,s=/^0o[0-7]+$/i,u=parseInt;function f(c){if(typeof c=="number")return c;if(t(c))return n;if(e(c)){var d=typeof c.valueOf=="function"?c.valueOf():c;c=e(d)?d+"":d}if(typeof c!="string")return c===0?c:+c;c=r(c);var v=i.test(c);return v||s.test(c)?u(c.slice(2),v?2:8):a.test(c)?n:+c}return md=f,md}var wd,ix;function kM(){if(ix)return wd;ix=1;var r=Ds(),e=bM(),t=_M(),n="Expected a function",a=Math.max,i=Math.min;function s(u,f,c){var d,v,p,g,y,x,w=0,b=!1,E=!1,S=!0;if(typeof u!="function")throw new TypeError(n);f=t(f)||0,r(c)&&(b=!!c.leading,E="maxWait"in c,p=E?a(t(c.maxWait)||0,f):p,S="trailing"in c?!!c.trailing:S);function T(N){var z=d,G=v;return d=v=void 0,w=N,g=u.apply(G,z),g}function R(N){return w=N,y=setTimeout(P,f),b?T(N):g}function A(N){var z=N-x,G=N-w,H=f-z;return E?i(H,p-G):H}function k(N){var z=N-x,G=N-w;return x===void 0||z>=f||z<0||E&&G>=p}function P(){var N=e();if(k(N))return D(N);y=setTimeout(P,A(N))}function D(N){return y=void 0,S&&d?T(N):(d=v=void 0,g)}function I(){y!==void 0&&clearTimeout(y),w=0,d=x=v=y=void 0}function M(){return y===void 0?g:D(e())}function L(){var N=e(),z=k(N);if(d=arguments,v=this,x=N,z){if(y===void 0)return R(x);if(E)return clearTimeout(y),y=setTimeout(P,f),T(x)}return y===void 0&&(y=setTimeout(P,f)),g}return L.cancel=I,L.flush=M,L}return wd=s,wd}var RM=kM(),Ms=Ps(RM),bd=Zr?Zr.performance:null,eR=bd&&bd.now?function(){return bd.now()}:function(){return Date.now()},AM=(function(){if(Zr){if(Zr.requestAnimationFrame)return function(r){Zr.requestAnimationFrame(r)};if(Zr.mozRequestAnimationFrame)return function(r){Zr.mozRequestAnimationFrame(r)};if(Zr.webkitRequestAnimationFrame)return function(r){Zr.webkitRequestAnimationFrame(r)};if(Zr.msRequestAnimationFrame)return function(r){Zr.msRequestAnimationFrame(r)}}return function(r){r&&setTimeout(function(){r(eR())},1e3/60)}})(),Sl=function(e){return AM(e)},Un=eR,ti=9261,rR=65599,Xi=5381,tR=function(e){for(var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ti,n=t,a;a=e.next(),!a.done;)n=n*rR+a.value|0;return n},ms=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ti;return t*rR+e|0},ws=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Xi;return(t<<5)+t+e|0},PM=function(e,t){return e*2097152+t},ga=function(e){return e[0]*2097152+e[1]},Zu=function(e,t){return[ms(e[0],t[0]),ws(e[1],t[1])]},ox=function(e,t){var n={value:0,done:!1},a=0,i=e.length,s={next:function(){return a<i?n.value=e[a++]:n.done=!0,n}};return tR(s,t)},ii=function(e,t){var n={value:0,done:!1},a=0,i=e.length,s={next:function(){return a<i?n.value=e.charCodeAt(a++):n.done=!0,n}};return tR(s,t)},nR=function(){return DM(arguments)},DM=function(e){for(var t,n=0;n<e.length;n++){var a=e[n];n===0?t=ii(a):t=ii(a,t)}return t};function IM(r,e,t,n,a){var i=a*Math.PI/180,s=Math.cos(i)*(r-t)-Math.sin(i)*(e-n)+t,u=Math.sin(i)*(r-t)+Math.cos(i)*(e-n)+n;return{x:s,y:u}}var MM=function(e,t,n,a,i,s){return{x:(e-n)*i+n,y:(t-a)*s+a}};function OM(r,e,t){if(t===0)return r;var n=(e.x1+e.x2)/2,a=(e.y1+e.y2)/2,i=e.w/e.h,s=1/i,u=IM(r.x,r.y,n,a,t),f=MM(u.x,u.y,n,a,i,s);return{x:f.x,y:f.y}}var sx=!0,NM=console.warn!=null,LM=console.trace!=null,T0=Number.MAX_SAFE_INTEGER||9007199254740991,aR=function(){return!0},Cl=function(){return!1},ux=function(){return 0},_0=function(){},Pr=function(e){throw new Error(e)},iR=function(e){if(e!==void 0)sx=!!e;else return sx},pr=function(e){iR()&&(NM?console.warn(e):(console.log(e),LM&&console.trace()))},BM=function(e){return Ke({},e)},_n=function(e){return e==null?e:mr(e)?e.slice():cr(e)?BM(e):e},qM=function(e){return e.slice()},oR=function(e,t){for(t=e="";e++<36;t+=e*51&52?(e^15?8^Math.random()*(e^20?16:4):4).toString(16):"-");return t},FM={},sR=function(){return FM},dt=function(e){var t=Object.keys(e);return function(n){for(var a={},i=0;i<t.length;i++){var s=t[i],u=n==null?void 0:n[s];a[s]=u===void 0?e[s]:u}return a}},Ta=function(e,t,n){for(var a=e.length-1;a>=0;a--)e[a]===t&&e.splice(a,1)},k0=function(e){e.splice(0,e.length)},zM=function(e,t){for(var n=0;n<t.length;n++){var a=t[n];e.push(a)}},Lt=function(e,t,n){return n&&(t=Kk(n,t)),e[t]},Vn=function(e,t,n,a){n&&(t=Kk(n,t)),e[t]=a},VM=(function(){function r(){Da(this,r),this._obj={}}return Ia(r,[{key:"set",value:function(t,n){return this._obj[t]=n,this}},{key:"delete",value:function(t){return this._obj[t]=void 0,this}},{key:"clear",value:function(){this._obj={}}},{key:"has",value:function(t){return this._obj[t]!==void 0}},{key:"get",value:function(t){return this._obj[t]}}])})(),$n=typeof Map<"u"?Map:VM,$M="undefined",UM=(function(){function r(e){if(Da(this,r),this._obj=Object.create(null),this.size=0,e!=null){var t;e.instanceString!=null&&e.instanceString()===this.instanceString()?t=e.toArray():t=e;for(var n=0;n<t.length;n++)this.add(t[n])}}return Ia(r,[{key:"instanceString",value:function(){return"set"}},{key:"add",value:function(t){var n=this._obj;n[t]!==1&&(n[t]=1,this.size++)}},{key:"delete",value:function(t){var n=this._obj;n[t]===1&&(n[t]=0,this.size--)}},{key:"clear",value:function(){this._obj=Object.create(null)}},{key:"has",value:function(t){return this._obj[t]===1}},{key:"toArray",value:function(){var t=this;return Object.keys(this._obj).filter(function(n){return t.has(n)})}},{key:"forEach",value:function(t,n){return this.toArray().forEach(t,n)}}])})(),so=(typeof Set>"u"?"undefined":Jr(Set))!==$M?Set:UM,ql=function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(e===void 0||t===void 0||!E0(e)){Pr("An element must have a core reference and parameters set");return}var a=t.group;if(a==null&&(t.data&&t.data.source!=null&&t.data.target!=null?a="edges":a="nodes"),a!=="nodes"&&a!=="edges"){Pr("An element must be of type `nodes` or `edges`; you specified `"+a+"`");return}this.length=1,this[0]=this;var i=this._private={cy:e,single:!0,data:t.data||{},position:t.position||{x:0,y:0},autoWidth:void 0,autoHeight:void 0,autoPadding:void 0,compoundBoundsClean:!1,listeners:[],group:a,style:{},rstyle:{},styleCxts:[],styleKeys:{},removed:!0,selected:!!t.selected,selectable:t.selectable===void 0?!0:!!t.selectable,locked:!!t.locked,grabbed:!1,grabbable:t.grabbable===void 0?!0:!!t.grabbable,pannable:t.pannable===void 0?a==="edges":!!t.pannable,active:!1,classes:new so,animation:{current:[],queue:[]},rscratch:{},scratch:t.scratch||{},edges:[],children:[],parent:t.parent&&t.parent.isNode()?t.parent:null,traversalCache:{},backgrounding:!1,bbCache:null,bbCacheShift:{x:0,y:0},bodyBounds:null,overlayBounds:null,labelBounds:{all:null,source:null,target:null,main:null},arrowBounds:{source:null,target:null,"mid-source":null,"mid-target":null}};if(i.position.x==null&&(i.position.x=0),i.position.y==null&&(i.position.y=0),t.renderedPosition){var s=t.renderedPosition,u=e.pan(),f=e.zoom();i.position={x:(s.x-u.x)/f,y:(s.y-u.y)/f}}var c=[];mr(t.classes)?c=t.classes:je(t.classes)&&(c=t.classes.split(/\s+/));for(var d=0,v=c.length;d<v;d++){var p=c[d];!p||p===""||i.classes.add(p)}this.createEmitter(),(n===void 0||n)&&this.restore();var g=t.style||t.css;g&&(pr("Setting a `style` bypass at element creation should be done only when absolutely necessary.  Try to use the stylesheet instead."),this.style(g))},lx=function(e){return e={bfs:e.bfs||!e.dfs,dfs:e.dfs||!e.bfs},function(n,a,i){var s;cr(n)&&!Wt(n)&&(s=n,n=s.roots||s.root,a=s.visit,i=s.directed),i=arguments.length===2&&!qr(a)?a:i,a=qr(a)?a:function(){};for(var u=this._private.cy,f=n=je(n)?this.filter(n):n,c=[],d=[],v={},p={},g={},y=0,x,w=this.byGroup(),b=w.nodes,E=w.edges,S=0;S<f.length;S++){var T=f[S],R=T.id();T.isNode()&&(c.unshift(T),e.bfs&&(g[R]=!0,d.push(T)),p[R]=0)}for(var A=function(){var N=e.bfs?c.shift():c.pop(),z=N.id();if(e.dfs){if(g[z])return 0;g[z]=!0,d.push(N)}var G=p[z],H=v[z],U=H!=null?H.source():null,F=H!=null?H.target():null,X=H==null?void 0:N.same(U)?F[0]:U[0],K;if(K=a(N,H,X,y++,G),K===!0)return x=N,1;if(K===!1)return 1;for(var B=N.connectedEdges().filter(function(Y){return(!i||Y.source().same(N))&&E.has(Y)}),V=0;V<B.length;V++){var te=B[V],$=te.connectedNodes().filter(function(Y){return!Y.same(N)&&b.has(Y)}),j=$.id();$.length!==0&&!g[j]&&($=$[0],c.push($),e.bfs&&(g[j]=!0,d.push($)),v[j]=te,p[j]=p[z]+1)}},k;c.length!==0&&(k=A(),!(k!==0&&k===1)););for(var P=u.collection(),D=0;D<d.length;D++){var I=d[D],M=v[I.id()];M!=null&&P.push(M),P.push(I)}return{path:u.collection(P),found:u.collection(x)}}},bs={breadthFirstSearch:lx({bfs:!0}),depthFirstSearch:lx({dfs:!0})};bs.bfs=bs.breadthFirstSearch;bs.dfs=bs.depthFirstSearch;var ll={exports:{}},GM=ll.exports,fx;function jM(){return fx||(fx=1,(function(r,e){(function(){var t,n,a,i,s,u,f,c,d,v,p,g,y,x,w;a=Math.floor,v=Math.min,n=function(b,E){return b<E?-1:b>E?1:0},d=function(b,E,S,T,R){var A;if(S==null&&(S=0),R==null&&(R=n),S<0)throw new Error("lo must be non-negative");for(T==null&&(T=b.length);S<T;)A=a((S+T)/2),R(E,b[A])<0?T=A:S=A+1;return[].splice.apply(b,[S,S-S].concat(E)),E},u=function(b,E,S){return S==null&&(S=n),b.push(E),x(b,0,b.length-1,S)},s=function(b,E){var S,T;return E==null&&(E=n),S=b.pop(),b.length?(T=b[0],b[0]=S,w(b,0,E)):T=S,T},c=function(b,E,S){var T;return S==null&&(S=n),T=b[0],b[0]=E,w(b,0,S),T},f=function(b,E,S){var T;return S==null&&(S=n),b.length&&S(b[0],E)<0&&(T=[b[0],E],E=T[0],b[0]=T[1],w(b,0,S)),E},i=function(b,E){var S,T,R,A,k,P;for(E==null&&(E=n),A=(function(){P=[];for(var D=0,I=a(b.length/2);0<=I?D<I:D>I;0<=I?D++:D--)P.push(D);return P}).apply(this).reverse(),k=[],T=0,R=A.length;T<R;T++)S=A[T],k.push(w(b,S,E));return k},y=function(b,E,S){var T;if(S==null&&(S=n),T=b.indexOf(E),T!==-1)return x(b,0,T,S),w(b,T,S)},p=function(b,E,S){var T,R,A,k,P;if(S==null&&(S=n),R=b.slice(0,E),!R.length)return R;for(i(R,S),P=b.slice(E),A=0,k=P.length;A<k;A++)T=P[A],f(R,T,S);return R.sort(S).reverse()},g=function(b,E,S){var T,R,A,k,P,D,I,M,L;if(S==null&&(S=n),E*10<=b.length){if(A=b.slice(0,E).sort(S),!A.length)return A;for(R=A[A.length-1],I=b.slice(E),k=0,D=I.length;k<D;k++)T=I[k],S(T,R)<0&&(d(A,T,0,null,S),A.pop(),R=A[A.length-1]);return A}for(i(b,S),L=[],P=0,M=v(E,b.length);0<=M?P<M:P>M;0<=M?++P:--P)L.push(s(b,S));return L},x=function(b,E,S,T){var R,A,k;for(T==null&&(T=n),R=b[S];S>E;){if(k=S-1>>1,A=b[k],T(R,A)<0){b[S]=A,S=k;continue}break}return b[S]=R},w=function(b,E,S){var T,R,A,k,P;for(S==null&&(S=n),R=b.length,P=E,A=b[E],T=2*E+1;T<R;)k=T+1,k<R&&!(S(b[T],b[k])<0)&&(T=k),b[E]=b[T],E=T,T=2*E+1;return b[E]=A,x(b,P,E,S)},t=(function(){b.push=u,b.pop=s,b.replace=c,b.pushpop=f,b.heapify=i,b.updateItem=y,b.nlargest=p,b.nsmallest=g;function b(E){this.cmp=E??n,this.nodes=[]}return b.prototype.push=function(E){return u(this.nodes,E,this.cmp)},b.prototype.pop=function(){return s(this.nodes,this.cmp)},b.prototype.peek=function(){return this.nodes[0]},b.prototype.contains=function(E){return this.nodes.indexOf(E)!==-1},b.prototype.replace=function(E){return c(this.nodes,E,this.cmp)},b.prototype.pushpop=function(E){return f(this.nodes,E,this.cmp)},b.prototype.heapify=function(){return i(this.nodes,this.cmp)},b.prototype.updateItem=function(E){return y(this.nodes,E,this.cmp)},b.prototype.clear=function(){return this.nodes=[]},b.prototype.empty=function(){return this.nodes.length===0},b.prototype.size=function(){return this.nodes.length},b.prototype.clone=function(){var E;return E=new b,E.nodes=this.nodes.slice(0),E},b.prototype.toArray=function(){return this.nodes.slice(0)},b.prototype.insert=b.prototype.push,b.prototype.top=b.prototype.peek,b.prototype.front=b.prototype.peek,b.prototype.has=b.prototype.contains,b.prototype.copy=b.prototype.clone,b})(),(function(b,E){return r.exports=E()})(this,function(){return t})}).call(GM)})(ll)),ll.exports}var xd,cx;function HM(){return cx||(cx=1,xd=jM()),xd}var WM=HM(),Os=Ps(WM),KM=dt({root:null,weight:function(e){return 1},directed:!1}),YM={dijkstra:function(e){if(!cr(e)){var t=arguments;e={root:t[0],weight:t[1],directed:t[2]}}var n=KM(e),a=n.root,i=n.weight,s=n.directed,u=this,f=i,c=je(a)?this.filter(a)[0]:a[0],d={},v={},p={},g=this.byGroup(),y=g.nodes,x=g.edges;x.unmergeBy(function(G){return G.isLoop()});for(var w=function(H){return d[H.id()]},b=function(H,U){d[H.id()]=U,E.updateItem(H)},E=new Os(function(G,H){return w(G)-w(H)}),S=0;S<y.length;S++){var T=y[S];d[T.id()]=T.same(c)?0:1/0,E.push(T)}for(var R=function(H,U){for(var F=(s?H.edgesTo(U):H.edgesWith(U)).intersect(x),X=1/0,K,B=0;B<F.length;B++){var V=F[B],te=f(V);(te<X||!K)&&(X=te,K=V)}return{edge:K,dist:X}};E.size()>0;){var A=E.pop(),k=w(A),P=A.id();if(p[P]=k,k!==1/0)for(var D=A.neighborhood().intersect(y),I=0;I<D.length;I++){var M=D[I],L=M.id(),N=R(A,M),z=k+N.dist;z<w(M)&&(b(M,z),v[L]={node:A,edge:N.edge})}}return{distanceTo:function(H){var U=je(H)?y.filter(H)[0]:H[0];return p[U.id()]},pathTo:function(H){var U=je(H)?y.filter(H)[0]:H[0],F=[],X=U,K=X.id();if(U.length>0)for(F.unshift(U);v[K];){var B=v[K];F.unshift(B.edge),F.unshift(B.node),X=B.node,K=X.id()}return u.spawn(F)}}}},XM={kruskal:function(e){e=e||function(S){return 1};for(var t=this.byGroup(),n=t.nodes,a=t.edges,i=n.length,s=new Array(i),u=n,f=function(T){for(var R=0;R<s.length;R++){var A=s[R];if(A.has(T))return R}},c=0;c<i;c++)s[c]=this.spawn(n[c]);for(var d=a.sort(function(S,T){return e(S)-e(T)}),v=0;v<d.length;v++){var p=d[v],g=p.source()[0],y=p.target()[0],x=f(g),w=f(y),b=s[x],E=s[w];x!==w&&(u.merge(p),b.merge(E),s.splice(w,1))}return u}},ZM=dt({root:null,goal:null,weight:function(e){return 1},heuristic:function(e){return 0},directed:!1}),QM={aStar:function(e){var t=this.cy(),n=ZM(e),a=n.root,i=n.goal,s=n.heuristic,u=n.directed,f=n.weight;a=t.collection(a)[0],i=t.collection(i)[0];var c=a.id(),d=i.id(),v={},p={},g={},y=new Os(function(K,B){return p[K.id()]-p[B.id()]}),x=new so,w={},b={},E=function(B,V){y.push(B),x.add(V)},S,T,R=function(){S=y.pop(),T=S.id(),x.delete(T)},A=function(B){return x.has(B)};E(a,c),v[c]=0,p[c]=s(a);for(var k=0;y.size()>0;){if(R(),k++,T===d){for(var P=[],D=i,I=d,M=b[I];P.unshift(D),M!=null&&P.unshift(M),D=w[I],D!=null;)I=D.id(),M=b[I];return{found:!0,distance:v[T],path:this.spawn(P),steps:k}}g[T]=!0;for(var L=S._private.edges,N=0;N<L.length;N++){var z=L[N];if(this.hasElementWithId(z.id())&&!(u&&z.data("source")!==T)){var G=z.source(),H=z.target(),U=G.id()!==T?G:H,F=U.id();if(this.hasElementWithId(F)&&!g[F]){var X=v[T]+f(z);if(!A(F)){v[F]=X,p[F]=X+s(U),E(U,F),w[F]=S,b[F]=z;continue}X<v[F]&&(v[F]=X,p[F]=X+s(U),w[F]=S,b[F]=z)}}}}return{found:!1,distance:void 0,path:void 0,steps:k}}},JM=dt({weight:function(e){return 1},directed:!1}),eO={floydWarshall:function(e){for(var t=this.cy(),n=JM(e),a=n.weight,i=n.directed,s=a,u=this.byGroup(),f=u.nodes,c=u.edges,d=f.length,v=d*d,p=function(te){return f.indexOf(te)},g=function(te){return f[te]},y=new Array(v),x=0;x<v;x++){var w=x%d,b=(x-w)/d;b===w?y[x]=0:y[x]=1/0}for(var E=new Array(v),S=new Array(v),T=0;T<c.length;T++){var R=c[T],A=R.source()[0],k=R.target()[0];if(A!==k){var P=p(A),D=p(k),I=P*d+D,M=s(R);if(y[I]>M&&(y[I]=M,E[I]=D,S[I]=R),!i){var L=D*d+P;!i&&y[L]>M&&(y[L]=M,E[L]=P,S[L]=R)}}}for(var N=0;N<d;N++)for(var z=0;z<d;z++)for(var G=z*d+N,H=0;H<d;H++){var U=z*d+H,F=N*d+H;y[G]+y[F]<y[U]&&(y[U]=y[G]+y[F],E[U]=E[G])}var X=function(te){return(je(te)?t.filter(te):te)[0]},K=function(te){return p(X(te))},B={distance:function(te,$){var j=K(te),Y=K($);return y[j*d+Y]},path:function(te,$){var j=K(te),Y=K($),ee=g(j);if(j===Y)return ee.collection();if(E[j*d+Y]==null)return t.collection();var le=t.collection(),ie=j,Q;for(le.merge(ee);j!==Y;)ie=j,j=E[j*d+Y],Q=S[ie*d+j],le.merge(Q),le.merge(g(j));return le}};return B}},rO=dt({weight:function(e){return 1},directed:!1,root:null}),tO={bellmanFord:function(e){var t=this,n=rO(e),a=n.weight,i=n.directed,s=n.root,u=a,f=this,c=this.cy(),d=this.byGroup(),v=d.edges,p=d.nodes,g=p.length,y=new $n,x=!1,w=[];s=c.collection(s)[0],v.unmergeBy(function(Se){return Se.isLoop()});for(var b=v.length,E=function(Ve){var Oe=y.get(Ve.id());return Oe||(Oe={},y.set(Ve.id(),Oe)),Oe},S=function(Ve){return(je(Ve)?c.$(Ve):Ve)[0]},T=function(Ve){return E(S(Ve)).dist},R=function(Ve){for(var Oe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:s,Ce=S(Ve),Ae=[],Pe=Ce;;){if(Pe==null)return t.spawn();var Ne=E(Pe),Be=Ne.edge,Ye=Ne.pred;if(Ae.unshift(Pe[0]),Pe.same(Oe)&&Ae.length>0)break;Be!=null&&Ae.unshift(Be),Pe=Ye}return f.spawn(Ae)},A=0;A<g;A++){var k=p[A],P=E(k);k.same(s)?P.dist=0:P.dist=1/0,P.pred=null,P.edge=null}for(var D=!1,I=function(Ve,Oe,Ce,Ae,Pe,Ne){var Be=Ae.dist+Ne;Be<Pe.dist&&!Ce.same(Ae.edge)&&(Pe.dist=Be,Pe.pred=Ve,Pe.edge=Ce,D=!0)},M=1;M<g;M++){D=!1;for(var L=0;L<b;L++){var N=v[L],z=N.source(),G=N.target(),H=u(N),U=E(z),F=E(G);I(z,G,N,U,F,H),i||I(G,z,N,F,U,H)}if(!D)break}if(D)for(var X=[],K=0;K<b;K++){var B=v[K],V=B.source(),te=B.target(),$=u(B),j=E(V).dist,Y=E(te).dist;if(j+$<Y||!i&&Y+$<j)if(x||(pr("Graph contains a negative weight cycle for Bellman-Ford"),x=!0),e.findNegativeWeightCycles!==!1){var ee=[];j+$<Y&&ee.push(V),!i&&Y+$<j&&ee.push(te);for(var le=ee.length,ie=0;ie<le;ie++){var Q=ee[ie],re=[Q];re.push(E(Q).edge);for(var se=E(Q).pred;re.indexOf(se)===-1;)re.push(se),re.push(E(se).edge),se=E(se).pred;re=re.slice(re.indexOf(se));for(var ce=re[0].id(),me=0,xe=2;xe<re.length;xe+=2)re[xe].id()<ce&&(ce=re[xe].id(),me=xe);re=re.slice(me).concat(re.slice(0,me)),re.push(re[0]);var Ze=re.map(function(Se){return Se.id()}).join(",");X.indexOf(Ze)===-1&&(w.push(f.spawn(re)),X.push(Ze))}}else break}return{distanceTo:T,pathTo:R,hasNegativeWeightCycle:x,negativeWeightCycles:w}}},nO=Math.sqrt(2),aO=function(e,t,n){n.length===0&&Pr("Karger-Stein must be run on a connected (sub)graph");for(var a=n[e],i=a[1],s=a[2],u=t[i],f=t[s],c=n,d=c.length-1;d>=0;d--){var v=c[d],p=v[1],g=v[2];(t[p]===u&&t[g]===f||t[p]===f&&t[g]===u)&&c.splice(d,1)}for(var y=0;y<c.length;y++){var x=c[y];x[1]===f?(c[y]=x.slice(),c[y][1]=u):x[2]===f&&(c[y]=x.slice(),c[y][2]=u)}for(var w=0;w<t.length;w++)t[w]===f&&(t[w]=u);return c},Ed=function(e,t,n,a){for(;n>a;){var i=Math.floor(Math.random()*t.length);t=aO(i,e,t),n--}return t},iO={kargerStein:function(){var e=this,t=this.byGroup(),n=t.nodes,a=t.edges;a.unmergeBy(function(F){return F.isLoop()});var i=n.length,s=a.length,u=Math.ceil(Math.pow(Math.log(i)/Math.LN2,2)),f=Math.floor(i/nO);if(i<2){Pr("At least 2 nodes are required for Karger-Stein algorithm");return}for(var c=[],d=0;d<s;d++){var v=a[d];c.push([d,n.indexOf(v.source()),n.indexOf(v.target())])}for(var p=1/0,g=[],y=new Array(i),x=new Array(i),w=new Array(i),b=function(X,K){for(var B=0;B<i;B++)K[B]=X[B]},E=0;E<=u;E++){for(var S=0;S<i;S++)x[S]=S;var T=Ed(x,c.slice(),i,f),R=T.slice();b(x,w);var A=Ed(x,T,f,2),k=Ed(w,R,f,2);A.length<=k.length&&A.length<p?(p=A.length,g=A,b(x,y)):k.length<=A.length&&k.length<p&&(p=k.length,g=k,b(w,y))}for(var P=this.spawn(g.map(function(F){return a[F[0]]})),D=this.spawn(),I=this.spawn(),M=y[0],L=0;L<y.length;L++){var N=y[L],z=n[L];N===M?D.merge(z):I.merge(z)}var G=function(X){var K=e.spawn();return X.forEach(function(B){K.merge(B),B.connectedEdges().forEach(function(V){e.contains(V)&&!P.contains(V)&&K.merge(V)})}),K},H=[G(D),G(I)],U={cut:P,components:H,partition1:D,partition2:I};return U}},Sd,oO=function(e){return{x:e.x,y:e.y}},Fl=function(e,t,n){return{x:e.x*t+n.x,y:e.y*t+n.y}},uR=function(e,t,n){return{x:(e.x-n.x)/t,y:(e.y-n.y)/t}},Zi=function(e){return{x:e[0],y:e[1]}},sO=function(e){for(var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,a=1/0,i=t;i<n;i++){var s=e[i];isFinite(s)&&(a=Math.min(s,a))}return a},uO=function(e){for(var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,a=-1/0,i=t;i<n;i++){var s=e[i];isFinite(s)&&(a=Math.max(s,a))}return a},lO=function(e){for(var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,a=0,i=0,s=t;s<n;s++){var u=e[s];isFinite(u)&&(a+=u,i++)}return a/i},fO=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0;a?e=e.slice(t,n):(n<e.length&&e.splice(n,e.length-n),t>0&&e.splice(0,t));for(var u=0,f=e.length-1;f>=0;f--){var c=e[f];s?isFinite(c)||(e[f]=-1/0,u++):e.splice(f,1)}i&&e.sort(function(p,g){return p-g});var d=e.length,v=Math.floor(d/2);return d%2!==0?e[v+1+u]:(e[v-1+u]+e[v+u])/2},cO=function(e){return Math.PI*e/180},Qu=function(e,t){return Math.atan2(t,e)-Math.PI/2},R0=Math.log2||function(r){return Math.log(r)/Math.log(2)},A0=function(e){return e>0?1:e<0?-1:0},oi=function(e,t){return Math.sqrt(ei(e,t))},ei=function(e,t){var n=t.x-e.x,a=t.y-e.y;return n*n+a*a},dO=function(e){for(var t=e.length,n=0,a=0;a<t;a++)n+=e[a];for(var i=0;i<t;i++)e[i]=e[i]/n;return e},at=function(e,t,n,a){return(1-a)*(1-a)*e+2*(1-a)*a*t+a*a*n},eo=function(e,t,n,a){return{x:at(e.x,t.x,n.x,a),y:at(e.y,t.y,n.y,a)}},vO=function(e,t,n,a){var i={x:t.x-e.x,y:t.y-e.y},s=oi(e,t),u={x:i.x/s,y:i.y/s};return n=n??0,a=a??n*s,{x:e.x+u.x*a,y:e.y+u.y*a}},xs=function(e,t,n){return Math.max(e,Math.min(n,t))},Rt=function(e){if(e==null)return{x1:1/0,y1:1/0,x2:-1/0,y2:-1/0,w:0,h:0};if(e.x1!=null&&e.y1!=null){if(e.x2!=null&&e.y2!=null&&e.x2>=e.x1&&e.y2>=e.y1)return{x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2,w:e.x2-e.x1,h:e.y2-e.y1};if(e.w!=null&&e.h!=null&&e.w>=0&&e.h>=0)return{x1:e.x1,y1:e.y1,x2:e.x1+e.w,y2:e.y1+e.h,w:e.w,h:e.h}}},hO=function(e){return{x1:e.x1,x2:e.x2,w:e.w,y1:e.y1,y2:e.y2,h:e.h}},pO=function(e){e.x1=1/0,e.y1=1/0,e.x2=-1/0,e.y2=-1/0,e.w=0,e.h=0},gO=function(e,t){e.x1=Math.min(e.x1,t.x1),e.x2=Math.max(e.x2,t.x2),e.w=e.x2-e.x1,e.y1=Math.min(e.y1,t.y1),e.y2=Math.max(e.y2,t.y2),e.h=e.y2-e.y1},lR=function(e,t,n){e.x1=Math.min(e.x1,t),e.x2=Math.max(e.x2,t),e.w=e.x2-e.x1,e.y1=Math.min(e.y1,n),e.y2=Math.max(e.y2,n),e.h=e.y2-e.y1},fl=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return e.x1-=t,e.x2+=t,e.y1-=t,e.y2+=t,e.w=e.x2-e.x1,e.h=e.y2-e.y1,e},cl=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[0],n,a,i,s;if(t.length===1)n=a=i=s=t[0];else if(t.length===2)n=i=t[0],s=a=t[1];else if(t.length===4){var u=Hr(t,4);n=u[0],a=u[1],i=u[2],s=u[3]}return e.x1-=s,e.x2+=a,e.y1-=n,e.y2+=i,e.w=e.x2-e.x1,e.h=e.y2-e.y1,e},dx=function(e,t){e.x1=t.x1,e.y1=t.y1,e.x2=t.x2,e.y2=t.y2,e.w=e.x2-e.x1,e.h=e.y2-e.y1},P0=function(e,t){return!(e.x1>t.x2||t.x1>e.x2||e.x2<t.x1||t.x2<e.x1||e.y2<t.y1||t.y2<e.y1||e.y1>t.y2||t.y1>e.y2)},ba=function(e,t,n){return e.x1<=t&&t<=e.x2&&e.y1<=n&&n<=e.y2},vx=function(e,t){return ba(e,t.x,t.y)},fR=function(e,t){return ba(e,t.x1,t.y1)&&ba(e,t.x2,t.y2)},yO=(Sd=Math.hypot)!==null&&Sd!==void 0?Sd:function(r,e){return Math.sqrt(r*r+e*e)};function mO(r,e){if(r.length<3)throw new Error("Need at least 3 vertices");var t=function(P,D){return{x:P.x+D.x,y:P.y+D.y}},n=function(P,D){return{x:P.x-D.x,y:P.y-D.y}},a=function(P,D){return{x:P.x*D,y:P.y*D}},i=function(P,D){return P.x*D.y-P.y*D.x},s=function(P){var D=yO(P.x,P.y);return D===0?{x:0,y:0}:{x:P.x/D,y:P.y/D}},u=function(P){for(var D=0,I=0;I<P.length;I++){var M=P[I],L=P[(I+1)%P.length];D+=M.x*L.y-L.x*M.y}return D/2},f=function(P,D,I,M){var L=n(D,P),N=n(M,I),z=i(L,N);if(Math.abs(z)<1e-9)return t(P,a(L,.5));var G=i(n(I,P),N)/z;return t(P,a(L,G))},c=r.map(function(k){return{x:k.x,y:k.y}});u(c)<0&&c.reverse();for(var d=c.length,v=[],p=0;p<d;p++){var g=c[p],y=c[(p+1)%d],x=n(y,g),w=s({x:x.y,y:-x.x});v.push(w)}for(var b=v.map(function(k,P){var D=t(c[P],a(k,e)),I=t(c[(P+1)%d],a(k,e));return{p1:D,p2:I}}),E=[],S=0;S<d;S++){var T=b[(S-1+d)%d],R=b[S],A=f(T.p1,T.p2,R.p1,R.p2);E.push(A)}return E}function wO(r,e,t,n,a,i){var s=RO(r,e,t,n,a),u=mO(s,i),f=Rt();return u.forEach(function(c){return lR(f,c.x,c.y)}),f}var cR=function(e,t,n,a,i,s,u){var f=arguments.length>7&&arguments[7]!==void 0?arguments[7]:"auto",c=f==="auto"?_a(i,s):f,d=i/2,v=s/2;c=Math.min(c,d,v);var p=c!==d,g=c!==v,y;if(p){var x=n-d+c-u,w=a-v-u,b=n+d-c+u,E=w;if(y=xa(e,t,n,a,x,w,b,E,!1),y.length>0)return y}if(g){var S=n+d+u,T=a-v+c-u,R=S,A=a+v-c+u;if(y=xa(e,t,n,a,S,T,R,A,!1),y.length>0)return y}if(p){var k=n-d+c-u,P=a+v+u,D=n+d-c+u,I=P;if(y=xa(e,t,n,a,k,P,D,I,!1),y.length>0)return y}if(g){var M=n-d-u,L=a-v+c-u,N=M,z=a+v-c+u;if(y=xa(e,t,n,a,M,L,N,z,!1),y.length>0)return y}var G;{var H=n-d+c,U=a-v+c;if(G=ls(e,t,n,a,H,U,c+u),G.length>0&&G[0]<=H&&G[1]<=U)return[G[0],G[1]]}{var F=n+d-c,X=a-v+c;if(G=ls(e,t,n,a,F,X,c+u),G.length>0&&G[0]>=F&&G[1]<=X)return[G[0],G[1]]}{var K=n+d-c,B=a+v-c;if(G=ls(e,t,n,a,K,B,c+u),G.length>0&&G[0]>=K&&G[1]>=B)return[G[0],G[1]]}{var V=n-d+c,te=a+v-c;if(G=ls(e,t,n,a,V,te,c+u),G.length>0&&G[0]<=V&&G[1]>=te)return[G[0],G[1]]}return[]},bO=function(e,t,n,a,i,s,u){var f=u,c=Math.min(n,i),d=Math.max(n,i),v=Math.min(a,s),p=Math.max(a,s);return c-f<=e&&e<=d+f&&v-f<=t&&t<=p+f},xO=function(e,t,n,a,i,s,u,f,c){var d={x1:Math.min(n,u,i)-c,x2:Math.max(n,u,i)+c,y1:Math.min(a,f,s)-c,y2:Math.max(a,f,s)+c};return!(e<d.x1||e>d.x2||t<d.y1||t>d.y2)},EO=function(e,t,n,a){n-=a;var i=t*t-4*e*n;if(i<0)return[];var s=Math.sqrt(i),u=2*e,f=(-t+s)/u,c=(-t-s)/u;return[f,c]},SO=function(e,t,n,a,i){var s=1e-5;e===0&&(e=s),t/=e,n/=e,a/=e;var u,f,c,d,v,p,g,y;if(f=(3*n-t*t)/9,c=-(27*a)+t*(9*n-2*(t*t)),c/=54,u=f*f*f+c*c,i[1]=0,g=t/3,u>0){v=c+Math.sqrt(u),v=v<0?-Math.pow(-v,1/3):Math.pow(v,1/3),p=c-Math.sqrt(u),p=p<0?-Math.pow(-p,1/3):Math.pow(p,1/3),i[0]=-g+v+p,g+=(v+p)/2,i[4]=i[2]=-g,g=Math.sqrt(3)*(-p+v)/2,i[3]=g,i[5]=-g;return}if(i[5]=i[3]=0,u===0){y=c<0?-Math.pow(-c,1/3):Math.pow(c,1/3),i[0]=-g+2*y,i[4]=i[2]=-(y+g);return}f=-f,d=f*f*f,d=Math.acos(c/Math.sqrt(d)),y=2*Math.sqrt(f),i[0]=-g+y*Math.cos(d/3),i[2]=-g+y*Math.cos((d+2*Math.PI)/3),i[4]=-g+y*Math.cos((d+4*Math.PI)/3)},CO=function(e,t,n,a,i,s,u,f){var c=1*n*n-4*n*i+2*n*u+4*i*i-4*i*u+u*u+a*a-4*a*s+2*a*f+4*s*s-4*s*f+f*f,d=9*n*i-3*n*n-3*n*u-6*i*i+3*i*u+9*a*s-3*a*a-3*a*f-6*s*s+3*s*f,v=3*n*n-6*n*i+n*u-n*e+2*i*i+2*i*e-u*e+3*a*a-6*a*s+a*f-a*t+2*s*s+2*s*t-f*t,p=1*n*i-n*n+n*e-i*e+a*s-a*a+a*t-s*t,g=[];SO(c,d,v,p,g);for(var y=1e-7,x=[],w=0;w<6;w+=2)Math.abs(g[w+1])<y&&g[w]>=0&&g[w]<=1&&x.push(g[w]);x.push(1),x.push(0);for(var b=-1,E,S,T,R=0;R<x.length;R++)E=Math.pow(1-x[R],2)*n+2*(1-x[R])*x[R]*i+x[R]*x[R]*u,S=Math.pow(1-x[R],2)*a+2*(1-x[R])*x[R]*s+x[R]*x[R]*f,T=Math.pow(E-e,2)+Math.pow(S-t,2),b>=0?T<b&&(b=T):b=T;return b},TO=function(e,t,n,a,i,s){var u=[e-n,t-a],f=[i-n,s-a],c=f[0]*f[0]+f[1]*f[1],d=u[0]*u[0]+u[1]*u[1],v=u[0]*f[0]+u[1]*f[1],p=v*v/c;return v<0?d:p>c?(e-i)*(e-i)+(t-s)*(t-s):d-p},Bt=function(e,t,n){for(var a,i,s,u,f,c=0,d=0;d<n.length/2;d++)if(a=n[d*2],i=n[d*2+1],d+1<n.length/2?(s=n[(d+1)*2],u=n[(d+1)*2+1]):(s=n[(d+1-n.length/2)*2],u=n[(d+1-n.length/2)*2+1]),!(a==e&&s==e))if(a>=e&&e>=s||a<=e&&e<=s)f=(e-a)/(s-a)*(u-i)+i,f>t&&c++;else continue;return c%2!==0},Gn=function(e,t,n,a,i,s,u,f,c){var d=new Array(n.length),v;f[0]!=null?(v=Math.atan(f[1]/f[0]),f[0]<0?v=v+Math.PI/2:v=-v-Math.PI/2):v=f;for(var p=Math.cos(-v),g=Math.sin(-v),y=0;y<d.length/2;y++)d[y*2]=s/2*(n[y*2]*p-n[y*2+1]*g),d[y*2+1]=u/2*(n[y*2+1]*p+n[y*2]*g),d[y*2]+=a,d[y*2+1]+=i;var x;if(c>0){var w=_l(d,-c);x=Tl(w)}else x=d;return Bt(e,t,x)},_O=function(e,t,n,a,i,s,u,f){for(var c=new Array(n.length*2),d=0;d<f.length;d++){var v=f[d];c[d*4+0]=v.startX,c[d*4+1]=v.startY,c[d*4+2]=v.stopX,c[d*4+3]=v.stopY;var p=Math.pow(v.cx-e,2)+Math.pow(v.cy-t,2);if(p<=Math.pow(v.radius,2))return!0}return Bt(e,t,c)},Tl=function(e){for(var t=new Array(e.length/2),n,a,i,s,u,f,c,d,v=0;v<e.length/4;v++){n=e[v*4],a=e[v*4+1],i=e[v*4+2],s=e[v*4+3],v<e.length/4-1?(u=e[(v+1)*4],f=e[(v+1)*4+1],c=e[(v+1)*4+2],d=e[(v+1)*4+3]):(u=e[0],f=e[1],c=e[2],d=e[3]);var p=xa(n,a,i,s,u,f,c,d,!0);t[v*2]=p[0],t[v*2+1]=p[1]}return t},_l=function(e,t){for(var n=new Array(e.length*2),a,i,s,u,f=0;f<e.length/2;f++){a=e[f*2],i=e[f*2+1],f<e.length/2-1?(s=e[(f+1)*2],u=e[(f+1)*2+1]):(s=e[0],u=e[1]);var c=u-i,d=-(s-a),v=Math.sqrt(c*c+d*d),p=c/v,g=d/v;n[f*4]=a+p*t,n[f*4+1]=i+g*t,n[f*4+2]=s+p*t,n[f*4+3]=u+g*t}return n},kO=function(e,t,n,a,i,s){var u=n-e,f=a-t;u/=i,f/=s;var c=Math.sqrt(u*u+f*f),d=c-1;if(d<0)return[];var v=d/c;return[(n-e)*v+e,(a-t)*v+t]},ai=function(e,t,n,a,i,s,u){return e-=i,t-=s,e/=n/2+u,t/=a/2+u,e*e+t*t<=1},ls=function(e,t,n,a,i,s,u){var f=[n-e,a-t],c=[e-i,t-s],d=f[0]*f[0]+f[1]*f[1],v=2*(c[0]*f[0]+c[1]*f[1]),p=c[0]*c[0]+c[1]*c[1]-u*u,g=v*v-4*d*p;if(g<0)return[];var y=(-v+Math.sqrt(g))/(2*d),x=(-v-Math.sqrt(g))/(2*d),w=Math.min(y,x),b=Math.max(y,x),E=[];if(w>=0&&w<=1&&E.push(w),b>=0&&b<=1&&E.push(b),E.length===0)return[];var S=E[0]*f[0]+e,T=E[0]*f[1]+t;if(E.length>1){if(E[0]==E[1])return[S,T];var R=E[1]*f[0]+e,A=E[1]*f[1]+t;return[S,T,R,A]}else return[S,T]},Cd=function(e,t,n){return t<=e&&e<=n||n<=e&&e<=t?e:e<=t&&t<=n||n<=t&&t<=e?t:n},xa=function(e,t,n,a,i,s,u,f,c){var d=e-i,v=n-e,p=u-i,g=t-s,y=a-t,x=f-s,w=p*g-x*d,b=v*g-y*d,E=x*v-p*y;if(E!==0){var S=w/E,T=b/E,R=.001,A=0-R,k=1+R;return A<=S&&S<=k&&A<=T&&T<=k?[e+S*v,t+S*y]:c?[e+S*v,t+S*y]:[]}else return w===0||b===0?Cd(e,n,u)===u?[u,f]:Cd(e,n,i)===i?[i,s]:Cd(i,u,n)===n?[n,a]:[]:[]},RO=function(e,t,n,a,i){var s=[],u=a/2,f=i/2,c=t,d=n;s.push({x:c+u*e[0],y:d+f*e[1]});for(var v=1;v<e.length/2;v++)s.push({x:c+u*e[v*2],y:d+f*e[v*2+1]});return s},Es=function(e,t,n,a,i,s,u,f){var c=[],d,v=new Array(n.length),p=!0;s==null&&(p=!1);var g;if(p){for(var y=0;y<v.length/2;y++)v[y*2]=n[y*2]*s+a,v[y*2+1]=n[y*2+1]*u+i;if(f>0){var x=_l(v,-f);g=Tl(x)}else g=v}else g=n;for(var w,b,E,S,T=0;T<g.length/2;T++)w=g[T*2],b=g[T*2+1],T<g.length/2-1?(E=g[(T+1)*2],S=g[(T+1)*2+1]):(E=g[0],S=g[1]),d=xa(e,t,a,i,w,b,E,S),d.length!==0&&c.push(d[0],d[1]);return c},AO=function(e,t,n,a,i,s,u,f,c){var d=[],v,p=new Array(n.length*2);c.forEach(function(E,S){S===0?(p[p.length-2]=E.startX,p[p.length-1]=E.startY):(p[S*4-2]=E.startX,p[S*4-1]=E.startY),p[S*4]=E.stopX,p[S*4+1]=E.stopY,v=ls(e,t,a,i,E.cx,E.cy,E.radius),v.length!==0&&d.push(v[0],v[1])});for(var g=0;g<p.length/4;g++)v=xa(e,t,a,i,p[g*4],p[g*4+1],p[g*4+2],p[g*4+3],!1),v.length!==0&&d.push(v[0],v[1]);if(d.length>2){for(var y=[d[0],d[1]],x=Math.pow(y[0]-e,2)+Math.pow(y[1]-t,2),w=1;w<d.length/2;w++){var b=Math.pow(d[w*2]-e,2)+Math.pow(d[w*2+1]-t,2);b<=x&&(y[0]=d[w*2],y[1]=d[w*2+1],x=b)}return y}return d},Ju=function(e,t,n){var a=[e[0]-t[0],e[1]-t[1]],i=Math.sqrt(a[0]*a[0]+a[1]*a[1]),s=(i-n)/i;return s<0&&(s=1e-5),[t[0]+s*a[0],t[1]+s*a[1]]},kt=function(e,t){var n=e0(e,t);return n=dR(n),n},dR=function(e){for(var t,n,a=e.length/2,i=1/0,s=1/0,u=-1/0,f=-1/0,c=0;c<a;c++)t=e[2*c],n=e[2*c+1],i=Math.min(i,t),u=Math.max(u,t),s=Math.min(s,n),f=Math.max(f,n);for(var d=2/(u-i),v=2/(f-s),p=0;p<a;p++)t=e[2*p]=e[2*p]*d,n=e[2*p+1]=e[2*p+1]*v,i=Math.min(i,t),u=Math.max(u,t),s=Math.min(s,n),f=Math.max(f,n);if(s<-1)for(var g=0;g<a;g++)n=e[2*g+1]=e[2*g+1]+(-1-s);return e},e0=function(e,t){var n=1/e*2*Math.PI,a=e%2===0?Math.PI/2+n/2:Math.PI/2;a+=t;for(var i=new Array(e*2),s,u=0;u<e;u++)s=u*n+a,i[2*u]=Math.cos(s),i[2*u+1]=Math.sin(-s);return i},_a=function(e,t){return Math.min(e/4,t/4,8)},vR=function(e,t){return Math.min(e/10,t/10,8)},D0=function(){return 8},PO=function(e,t,n){return[e-2*t+n,2*(t-e),e]},r0=function(e,t){return{heightOffset:Math.min(15,.05*t),widthOffset:Math.min(100,.25*e),ctrlPtOffsetPct:.05}};function Td(r,e){function t(v){for(var p=[],g=0;g<v.length;g++){var y=v[g],x=v[(g+1)%v.length],w={x:x.x-y.x,y:x.y-y.y},b={x:-w.y,y:w.x},E=Math.sqrt(b.x*b.x+b.y*b.y);p.push({x:b.x/E,y:b.y/E})}return p}function n(v,p){var g=1/0,y=-1/0,x=qt(v),w;try{for(x.s();!(w=x.n()).done;){var b=w.value,E=b.x*p.x+b.y*p.y;g=Math.min(g,E),y=Math.max(y,E)}}catch(S){x.e(S)}finally{x.f()}return{min:g,max:y}}function a(v,p){return!(v.max<p.min||p.max<v.min)}var i=[].concat(xl(t(r)),xl(t(e))),s=qt(i),u;try{for(s.s();!(u=s.n()).done;){var f=u.value,c=n(r,f),d=n(e,f);if(!a(c,d))return!1}}catch(v){s.e(v)}finally{s.f()}return!0}var DO=dt({dampingFactor:.8,precision:1e-6,iterations:200,weight:function(e){return 1}}),IO={pageRank:function(e){for(var t=DO(e),n=t.dampingFactor,a=t.precision,i=t.iterations,s=t.weight,u=this._private.cy,f=this.byGroup(),c=f.nodes,d=f.edges,v=c.length,p=v*v,g=d.length,y=new Array(p),x=new Array(v),w=(1-n)/v,b=0;b<v;b++){for(var E=0;E<v;E++){var S=b*v+E;y[S]=0}x[b]=0}for(var T=0;T<g;T++){var R=d[T],A=R.data("source"),k=R.data("target");if(A!==k){var P=c.indexOfId(A),D=c.indexOfId(k),I=s(R),M=D*v+P;y[M]+=I,x[P]+=I}}for(var L=1/v+w,N=0;N<v;N++)if(x[N]===0)for(var z=0;z<v;z++){var G=z*v+N;y[G]=L}else for(var H=0;H<v;H++){var U=H*v+N;y[U]=y[U]/x[N]+w}for(var F=new Array(v),X=new Array(v),K,B=0;B<v;B++)F[B]=1;for(var V=0;V<i;V++){for(var te=0;te<v;te++)X[te]=0;for(var $=0;$<v;$++)for(var j=0;j<v;j++){var Y=$*v+j;X[$]+=y[Y]*F[j]}dO(X),K=F,F=X,X=K;for(var ee=0,le=0;le<v;le++){var ie=K[le]-F[le];ee+=ie*ie}if(ee<a)break}var Q={rank:function(se){return se=u.collection(se)[0],F[c.indexOf(se)]}};return Q}},hx=dt({root:null,weight:function(e){return 1},directed:!1,alpha:0}),ro={degreeCentralityNormalized:function(e){e=hx(e);var t=this.cy(),n=this.nodes(),a=n.length;if(e.directed){for(var d={},v={},p=0,g=0,y=0;y<a;y++){var x=n[y],w=x.id();e.root=x;var b=this.degreeCentrality(e);p<b.indegree&&(p=b.indegree),g<b.outdegree&&(g=b.outdegree),d[w]=b.indegree,v[w]=b.outdegree}return{indegree:function(S){return p==0?0:(je(S)&&(S=t.filter(S)),d[S.id()]/p)},outdegree:function(S){return g===0?0:(je(S)&&(S=t.filter(S)),v[S.id()]/g)}}}else{for(var i={},s=0,u=0;u<a;u++){var f=n[u];e.root=f;var c=this.degreeCentrality(e);s<c.degree&&(s=c.degree),i[f.id()]=c.degree}return{degree:function(S){return s===0?0:(je(S)&&(S=t.filter(S)),i[S.id()]/s)}}}},degreeCentrality:function(e){e=hx(e);var t=this.cy(),n=this,a=e,i=a.root,s=a.weight,u=a.directed,f=a.alpha;if(i=t.collection(i)[0],u){for(var g=i.connectedEdges(),y=g.filter(function(A){return A.target().same(i)&&n.has(A)}),x=g.filter(function(A){return A.source().same(i)&&n.has(A)}),w=y.length,b=x.length,E=0,S=0,T=0;T<y.length;T++)E+=s(y[T]);for(var R=0;R<x.length;R++)S+=s(x[R]);return{indegree:Math.pow(w,1-f)*Math.pow(E,f),outdegree:Math.pow(b,1-f)*Math.pow(S,f)}}else{for(var c=i.connectedEdges().intersection(n),d=c.length,v=0,p=0;p<c.length;p++)v+=s(c[p]);return{degree:Math.pow(d,1-f)*Math.pow(v,f)}}}};ro.dc=ro.degreeCentrality;ro.dcn=ro.degreeCentralityNormalised=ro.degreeCentralityNormalized;var px=dt({harmonic:!0,weight:function(){return 1},directed:!1,root:null}),to={closenessCentralityNormalized:function(e){for(var t=px(e),n=t.harmonic,a=t.weight,i=t.directed,s=this.cy(),u={},f=0,c=this.nodes(),d=this.floydWarshall({weight:a,directed:i}),v=0;v<c.length;v++){for(var p=0,g=c[v],y=0;y<c.length;y++)if(v!==y){var x=d.distance(g,c[y]);n?p+=1/x:p+=x}n||(p=1/p),f<p&&(f=p),u[g.id()]=p}return{closeness:function(b){return f==0?0:(je(b)?b=s.filter(b)[0].id():b=b.id(),u[b]/f)}}},closenessCentrality:function(e){var t=px(e),n=t.root,a=t.weight,i=t.directed,s=t.harmonic;n=this.filter(n)[0];for(var u=this.dijkstra({root:n,weight:a,directed:i}),f=0,c=this.nodes(),d=0;d<c.length;d++){var v=c[d];if(!v.same(n)){var p=u.distanceTo(v);s?f+=1/p:f+=p}}return s?f:1/f}};to.cc=to.closenessCentrality;to.ccn=to.closenessCentralityNormalised=to.closenessCentralityNormalized;var MO=dt({weight:null,directed:!1}),t0={betweennessCentrality:function(e){for(var t=MO(e),n=t.directed,a=t.weight,i=a!=null,s=this.cy(),u=this.nodes(),f={},c={},d=0,v={set:function(S,T){c[S]=T,T>d&&(d=T)},get:function(S){return c[S]}},p=0;p<u.length;p++){var g=u[p],y=g.id();n?f[y]=g.outgoers().nodes():f[y]=g.openNeighborhood().nodes(),v.set(y,0)}for(var x=function(){for(var S=u[w].id(),T=[],R={},A={},k={},P=new Os(function($,j){return k[$]-k[j]}),D=0;D<u.length;D++){var I=u[D].id();R[I]=[],A[I]=0,k[I]=1/0}for(A[S]=1,k[S]=0,P.push(S);!P.empty();){var M=P.pop();if(T.push(M),i)for(var L=0;L<f[M].length;L++){var N=f[M][L],z=s.getElementById(M),G=void 0;z.edgesTo(N).length>0?G=z.edgesTo(N)[0]:G=N.edgesTo(z)[0];var H=a(G);N=N.id(),k[N]>k[M]+H&&(k[N]=k[M]+H,P.nodes.indexOf(N)<0?P.push(N):P.updateItem(N),A[N]=0,R[N]=[]),k[N]==k[M]+H&&(A[N]=A[N]+A[M],R[N].push(M))}else for(var U=0;U<f[M].length;U++){var F=f[M][U].id();k[F]==1/0&&(P.push(F),k[F]=k[M]+1),k[F]==k[M]+1&&(A[F]=A[F]+A[M],R[F].push(M))}}for(var X={},K=0;K<u.length;K++)X[u[K].id()]=0;for(;T.length>0;){for(var B=T.pop(),V=0;V<R[B].length;V++){var te=R[B][V];X[te]=X[te]+A[te]/A[B]*(1+X[B])}B!=u[w].id()&&v.set(B,v.get(B)+X[B])}},w=0;w<u.length;w++)x();var b={betweenness:function(S){var T=s.collection(S).id();return v.get(T)},betweennessNormalized:function(S){if(d==0)return 0;var T=s.collection(S).id();return v.get(T)/d}};return b.betweennessNormalised=b.betweennessNormalized,b}};t0.bc=t0.betweennessCentrality;var OO=dt({expandFactor:2,inflateFactor:2,multFactor:1,maxIterations:20,attributes:[function(r){return 1}]}),NO=function(e){return OO(e)},LO=function(e,t){for(var n=0,a=0;a<t.length;a++)n+=t[a](e);return n},BO=function(e,t,n){for(var a=0;a<t;a++)e[a*t+a]=n},hR=function(e,t){for(var n,a=0;a<t;a++){n=0;for(var i=0;i<t;i++)n+=e[i*t+a];for(var s=0;s<t;s++)e[s*t+a]=e[s*t+a]/n}},qO=function(e,t,n){for(var a=new Array(n*n),i=0;i<n;i++){for(var s=0;s<n;s++)a[i*n+s]=0;for(var u=0;u<n;u++)for(var f=0;f<n;f++)a[i*n+f]+=e[i*n+u]*t[u*n+f]}return a},FO=function(e,t,n){for(var a=e.slice(0),i=1;i<n;i++)e=qO(e,a,t);return e},zO=function(e,t,n){for(var a=new Array(t*t),i=0;i<t*t;i++)a[i]=Math.pow(e[i],n);return hR(a,t),a},VO=function(e,t,n,a){for(var i=0;i<n;i++){var s=Math.round(e[i]*Math.pow(10,a))/Math.pow(10,a),u=Math.round(t[i]*Math.pow(10,a))/Math.pow(10,a);if(s!==u)return!1}return!0},$O=function(e,t,n,a){for(var i=[],s=0;s<t;s++){for(var u=[],f=0;f<t;f++)Math.round(e[s*t+f]*1e3)/1e3>0&&u.push(n[f]);u.length!==0&&i.push(a.collection(u))}return i},UO=function(e,t){for(var n=0;n<e.length;n++)if(!t[n]||e[n].id()!==t[n].id())return!1;return!0},GO=function(e){for(var t=0;t<e.length;t++)for(var n=0;n<e.length;n++)t!=n&&UO(e[t],e[n])&&e.splice(n,1);return e},gx=function(e){for(var t=this.nodes(),n=this.edges(),a=this.cy(),i=NO(e),s={},u=0;u<t.length;u++)s[t[u].id()]=u;for(var f=t.length,c=f*f,d=new Array(c),v,p=0;p<c;p++)d[p]=0;for(var g=0;g<n.length;g++){var y=n[g],x=s[y.source().id()],w=s[y.target().id()],b=LO(y,i.attributes);d[x*f+w]+=b,d[w*f+x]+=b}BO(d,f,i.multFactor),hR(d,f);for(var E=!0,S=0;E&&S<i.maxIterations;)E=!1,v=FO(d,f,i.expandFactor),d=zO(v,f,i.inflateFactor),VO(d,v,c,4)||(E=!0),S++;var T=$O(d,f,t,a);return T=GO(T),T},jO={markovClustering:gx,mcl:gx},HO=function(e){return e},pR=function(e,t){return Math.abs(t-e)},yx=function(e,t,n){return e+pR(t,n)},mx=function(e,t,n){return e+Math.pow(n-t,2)},WO=function(e){return Math.sqrt(e)},KO=function(e,t,n){return Math.max(e,pR(t,n))},ts=function(e,t,n,a,i){for(var s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:HO,u=a,f,c,d=0;d<e;d++)f=t(d),c=n(d),u=i(u,f,c);return s(u)},io={euclidean:function(e,t,n){return e>=2?ts(e,t,n,0,mx,WO):ts(e,t,n,0,yx)},squaredEuclidean:function(e,t,n){return ts(e,t,n,0,mx)},manhattan:function(e,t,n){return ts(e,t,n,0,yx)},max:function(e,t,n){return ts(e,t,n,-1/0,KO)}};io["squared-euclidean"]=io.squaredEuclidean;io.squaredeuclidean=io.squaredEuclidean;function zl(r,e,t,n,a,i){var s;return qr(r)?s=r:s=io[r]||io.euclidean,e===0&&qr(r)?s(a,i):s(e,t,n,a,i)}var YO=dt({k:2,m:2,sensitivityThreshold:1e-4,distance:"euclidean",maxIterations:10,attributes:[],testMode:!1,testCentroids:null}),I0=function(e){return YO(e)},kl=function(e,t,n,a,i){var s=i!=="kMedoids",u=s?function(v){return n[v]}:function(v){return a[v](n)},f=function(p){return a[p](t)},c=n,d=t;return zl(e,a.length,u,f,c,d)},_d=function(e,t,n){for(var a=n.length,i=new Array(a),s=new Array(a),u=new Array(t),f=null,c=0;c<a;c++)i[c]=e.min(n[c]).value,s[c]=e.max(n[c]).value;for(var d=0;d<t;d++){f=[];for(var v=0;v<a;v++)f[v]=Math.random()*(s[v]-i[v])+i[v];u[d]=f}return u},gR=function(e,t,n,a,i){for(var s=1/0,u=0,f=0;f<t.length;f++){var c=kl(n,e,t[f],a,i);c<s&&(s=c,u=f)}return u},yR=function(e,t,n){for(var a=[],i=null,s=0;s<t.length;s++)i=t[s],n[i.id()]===e&&a.push(i);return a},XO=function(e,t,n){return Math.abs(t-e)<=n},ZO=function(e,t,n){for(var a=0;a<e.length;a++)for(var i=0;i<e[a].length;i++){var s=Math.abs(e[a][i]-t[a][i]);if(s>n)return!1}return!0},QO=function(e,t,n){for(var a=0;a<n;a++)if(e===t[a])return!0;return!1},wx=function(e,t){var n=new Array(t);if(e.length<50)for(var a=0;a<t;a++){for(var i=e[Math.floor(Math.random()*e.length)];QO(i,n,a);)i=e[Math.floor(Math.random()*e.length)];n[a]=i}else for(var s=0;s<t;s++)n[s]=e[Math.floor(Math.random()*e.length)];return n},bx=function(e,t,n){for(var a=0,i=0;i<t.length;i++)a+=kl("manhattan",t[i],e,n,"kMedoids");return a},JO=function(e){var t=this.cy(),n=this.nodes(),a=null,i=I0(e),s=new Array(i.k),u={},f;i.testMode?typeof i.testCentroids=="number"?(i.testCentroids,f=_d(n,i.k,i.attributes)):Jr(i.testCentroids)==="object"?f=i.testCentroids:f=_d(n,i.k,i.attributes):f=_d(n,i.k,i.attributes);for(var c=!0,d=0;c&&d<i.maxIterations;){for(var v=0;v<n.length;v++)a=n[v],u[a.id()]=gR(a,f,i.distance,i.attributes,"kMeans");c=!1;for(var p=0;p<i.k;p++){var g=yR(p,n,u);if(g.length!==0){for(var y=i.attributes.length,x=f[p],w=new Array(y),b=new Array(y),E=0;E<y;E++){b[E]=0;for(var S=0;S<g.length;S++)a=g[S],b[E]+=i.attributes[E](a);w[E]=b[E]/g.length,XO(w[E],x[E],i.sensitivityThreshold)||(c=!0)}f[p]=w,s[p]=t.collection(g)}}d++}return s},eN=function(e){var t=this.cy(),n=this.nodes(),a=null,i=I0(e),s=new Array(i.k),u,f={},c,d=new Array(i.k);i.testMode?typeof i.testCentroids=="number"||(Jr(i.testCentroids)==="object"?u=i.testCentroids:u=wx(n,i.k)):u=wx(n,i.k);for(var v=!0,p=0;v&&p<i.maxIterations;){for(var g=0;g<n.length;g++)a=n[g],f[a.id()]=gR(a,u,i.distance,i.attributes,"kMedoids");v=!1;for(var y=0;y<u.length;y++){var x=yR(y,n,f);if(x.length!==0){d[y]=bx(u[y],x,i.attributes);for(var w=0;w<x.length;w++)c=bx(x[w],x,i.attributes),c<d[y]&&(d[y]=c,u[y]=x[w],v=!0);s[y]=t.collection(x)}}p++}return s},rN=function(e,t,n,a,i){for(var s,u,f=0;f<t.length;f++)for(var c=0;c<e.length;c++)a[f][c]=Math.pow(n[f][c],i.m);for(var d=0;d<e.length;d++)for(var v=0;v<i.attributes.length;v++){s=0,u=0;for(var p=0;p<t.length;p++)s+=a[p][d]*i.attributes[v](t[p]),u+=a[p][d];e[d][v]=s/u}},tN=function(e,t,n,a,i){for(var s=0;s<e.length;s++)t[s]=e[s].slice();for(var u,f,c,d=2/(i.m-1),v=0;v<n.length;v++)for(var p=0;p<a.length;p++){u=0;for(var g=0;g<n.length;g++)f=kl(i.distance,a[p],n[v],i.attributes,"cmeans"),c=kl(i.distance,a[p],n[g],i.attributes,"cmeans"),u+=Math.pow(f/c,d);e[p][v]=1/u}},nN=function(e,t,n,a){for(var i=new Array(n.k),s=0;s<i.length;s++)i[s]=[];for(var u,f,c=0;c<t.length;c++){u=-1/0,f=-1;for(var d=0;d<t[0].length;d++)t[c][d]>u&&(u=t[c][d],f=d);i[f].push(e[c])}for(var v=0;v<i.length;v++)i[v]=a.collection(i[v]);return i},xx=function(e){var t=this.cy(),n=this.nodes(),a=I0(e),i,s,u,f,c;f=new Array(n.length);for(var d=0;d<n.length;d++)f[d]=new Array(a.k);u=new Array(n.length);for(var v=0;v<n.length;v++)u[v]=new Array(a.k);for(var p=0;p<n.length;p++){for(var g=0,y=0;y<a.k;y++)u[p][y]=Math.random(),g+=u[p][y];for(var x=0;x<a.k;x++)u[p][x]=u[p][x]/g}s=new Array(a.k);for(var w=0;w<a.k;w++)s[w]=new Array(a.attributes.length);c=new Array(n.length);for(var b=0;b<n.length;b++)c[b]=new Array(a.k);for(var E=!0,S=0;E&&S<a.maxIterations;)E=!1,rN(s,n,u,c,a),tN(u,f,s,n,a),ZO(u,f,a.sensitivityThreshold)||(E=!0),S++;return i=nN(n,u,a,t),{clusters:i,degreeOfMembership:u}},aN={kMeans:JO,kMedoids:eN,fuzzyCMeans:xx,fcm:xx},iN=dt({distance:"euclidean",linkage:"min",mode:"threshold",threshold:1/0,addDendrogram:!1,dendrogramDepth:0,attributes:[]}),oN={single:"min",complete:"max"},sN=function(e){var t=iN(e),n=oN[t.linkage];return n!=null&&(t.linkage=n),t},Ex=function(e,t,n,a,i){for(var s=0,u=1/0,f,c=i.attributes,d=function(D,I){return zl(i.distance,c.length,function(M){return c[M](D)},function(M){return c[M](I)},D,I)},v=0;v<e.length;v++){var p=e[v].key,g=n[p][a[p]];g<u&&(s=p,u=g)}if(i.mode==="threshold"&&u>=i.threshold||i.mode==="dendrogram"&&e.length===1)return!1;var y=t[s],x=t[a[s]],w;i.mode==="dendrogram"?w={left:y,right:x,key:y.key}:w={value:y.value.concat(x.value),key:y.key},e[y.index]=w,e.splice(x.index,1),t[y.key]=w;for(var b=0;b<e.length;b++){var E=e[b];y.key===E.key?f=1/0:i.linkage==="min"?(f=n[y.key][E.key],n[y.key][E.key]>n[x.key][E.key]&&(f=n[x.key][E.key])):i.linkage==="max"?(f=n[y.key][E.key],n[y.key][E.key]<n[x.key][E.key]&&(f=n[x.key][E.key])):i.linkage==="mean"?f=(n[y.key][E.key]*y.size+n[x.key][E.key]*x.size)/(y.size+x.size):i.mode==="dendrogram"?f=d(E.value,y.value):f=d(E.value[0],y.value[0]),n[y.key][E.key]=n[E.key][y.key]=f}for(var S=0;S<e.length;S++){var T=e[S].key;if(a[T]===y.key||a[T]===x.key){for(var R=T,A=0;A<e.length;A++){var k=e[A].key;n[T][k]<n[T][R]&&(R=k)}a[T]=R}e[S].index=S}return y.key=x.key=y.index=x.index=null,!0},Qi=function(e,t,n){e&&(e.value?t.push(e.value):(e.left&&Qi(e.left,t),e.right&&Qi(e.right,t)))},n0=function(e,t){if(!e)return"";if(e.left&&e.right){var n=n0(e.left,t),a=n0(e.right,t),i=t.add({group:"nodes",data:{id:n+","+a}});return t.add({group:"edges",data:{source:n,target:i.id()}}),t.add({group:"edges",data:{source:a,target:i.id()}}),i.id()}else if(e.value)return e.value.id()},a0=function(e,t,n){if(!e)return[];var a=[],i=[],s=[];return t===0?(e.left&&Qi(e.left,a),e.right&&Qi(e.right,i),s=a.concat(i),[n.collection(s)]):t===1?e.value?[n.collection(e.value)]:(e.left&&Qi(e.left,a),e.right&&Qi(e.right,i),[n.collection(a),n.collection(i)]):e.value?[n.collection(e.value)]:(e.left&&(a=a0(e.left,t-1,n)),e.right&&(i=a0(e.right,t-1,n)),a.concat(i))},Sx=function(e){for(var t=this.cy(),n=this.nodes(),a=sN(e),i=a.attributes,s=function(S,T){return zl(a.distance,i.length,function(R){return i[R](S)},function(R){return i[R](T)},S,T)},u=[],f=[],c=[],d=[],v=0;v<n.length;v++){var p={value:a.mode==="dendrogram"?n[v]:[n[v]],key:v,index:v};u[v]=p,d[v]=p,f[v]=[],c[v]=0}for(var g=0;g<u.length;g++)for(var y=0;y<=g;y++){var x=void 0;a.mode==="dendrogram"?x=g===y?1/0:s(u[g].value,u[y].value):x=g===y?1/0:s(u[g].value[0],u[y].value[0]),f[g][y]=x,f[y][g]=x,x<f[g][c[g]]&&(c[g]=y)}for(var w=Ex(u,d,f,c,a);w;)w=Ex(u,d,f,c,a);var b;return a.mode==="dendrogram"?(b=a0(u[0],a.dendrogramDepth,t),a.addDendrogram&&n0(u[0],t)):(b=new Array(u.length),u.forEach(function(E,S){E.key=E.index=null,b[S]=t.collection(E.value)})),b},uN={hierarchicalClustering:Sx,hca:Sx},lN=dt({distance:"euclidean",preference:"median",damping:.8,maxIterations:1e3,minIterations:100,attributes:[]}),fN=function(e){var t=e.damping,n=e.preference;.5<=t&&t<1||Pr("Damping must range on [0.5, 1).  Got: ".concat(t));var a=["median","mean","min","max"];return a.some(function(i){return i===n})||Te(n)||Pr("Preference must be one of [".concat(a.map(function(i){return"'".concat(i,"'")}).join(", "),"] or a number.  Got: ").concat(n)),lN(e)},cN=function(e,t,n,a){var i=function(u,f){return a[f](u)};return-zl(e,a.length,function(s){return i(t,s)},function(s){return i(n,s)},t,n)},dN=function(e,t){var n=null;return t==="median"?n=fO(e):t==="mean"?n=lO(e):t==="min"?n=sO(e):t==="max"?n=uO(e):n=t,n},vN=function(e,t,n){for(var a=[],i=0;i<e;i++)t[i*e+i]+n[i*e+i]>0&&a.push(i);return a},Cx=function(e,t,n){for(var a=[],i=0;i<e;i++){for(var s=-1,u=-1/0,f=0;f<n.length;f++){var c=n[f];t[i*e+c]>u&&(s=c,u=t[i*e+c])}s>0&&a.push(s)}for(var d=0;d<n.length;d++)a[n[d]]=n[d];return a},hN=function(e,t,n){for(var a=Cx(e,t,n),i=0;i<n.length;i++){for(var s=[],u=0;u<a.length;u++)a[u]===n[i]&&s.push(u);for(var f=-1,c=-1/0,d=0;d<s.length;d++){for(var v=0,p=0;p<s.length;p++)v+=t[s[p]*e+s[d]];v>c&&(f=d,c=v)}n[i]=s[f]}return a=Cx(e,t,n),a},Tx=function(e){for(var t=this.cy(),n=this.nodes(),a=fN(e),i={},s=0;s<n.length;s++)i[n[s].id()]=s;var u,f,c,d,v,p;u=n.length,f=u*u,c=new Array(f);for(var g=0;g<f;g++)c[g]=-1/0;for(var y=0;y<u;y++)for(var x=0;x<u;x++)y!==x&&(c[y*u+x]=cN(a.distance,n[y],n[x],a.attributes));d=dN(c,a.preference);for(var w=0;w<u;w++)c[w*u+w]=d;v=new Array(f);for(var b=0;b<f;b++)v[b]=0;p=new Array(f);for(var E=0;E<f;E++)p[E]=0;for(var S=new Array(u),T=new Array(u),R=new Array(u),A=0;A<u;A++)S[A]=0,T[A]=0,R[A]=0;for(var k=new Array(u*a.minIterations),P=0;P<k.length;P++)k[P]=0;var D;for(D=0;D<a.maxIterations;D++){for(var I=0;I<u;I++){for(var M=-1/0,L=-1/0,N=-1,z=0,G=0;G<u;G++)S[G]=v[I*u+G],z=p[I*u+G]+c[I*u+G],z>=M?(L=M,M=z,N=G):z>L&&(L=z);for(var H=0;H<u;H++)v[I*u+H]=(1-a.damping)*(c[I*u+H]-M)+a.damping*S[H];v[I*u+N]=(1-a.damping)*(c[I*u+N]-L)+a.damping*S[N]}for(var U=0;U<u;U++){for(var F=0,X=0;X<u;X++)S[X]=p[X*u+U],T[X]=Math.max(0,v[X*u+U]),F+=T[X];F-=T[U],T[U]=v[U*u+U],F+=T[U];for(var K=0;K<u;K++)p[K*u+U]=(1-a.damping)*Math.min(0,F-T[K])+a.damping*S[K];p[U*u+U]=(1-a.damping)*(F-T[U])+a.damping*S[U]}for(var B=0,V=0;V<u;V++){var te=p[V*u+V]+v[V*u+V]>0?1:0;k[D%a.minIterations*u+V]=te,B+=te}if(B>0&&(D>=a.minIterations-1||D==a.maxIterations-1)){for(var $=0,j=0;j<u;j++){R[j]=0;for(var Y=0;Y<a.minIterations;Y++)R[j]+=k[Y*u+j];(R[j]===0||R[j]===a.minIterations)&&$++}if($===u)break}}for(var ee=vN(u,v,p),le=hN(u,c,ee),ie={},Q=0;Q<ee.length;Q++)ie[ee[Q]]=[];for(var re=0;re<n.length;re++){var se=i[n[re].id()],ce=le[se];ce!=null&&ie[ce].push(n[re])}for(var me=new Array(ee.length),xe=0;xe<ee.length;xe++)me[xe]=t.collection(ie[ee[xe]]);return me},pN={affinityPropagation:Tx,ap:Tx},gN=dt({root:void 0,directed:!1}),yN={hierholzer:function(e){if(!cr(e)){var t=arguments;e={root:t[0],directed:t[1]}}var n=gN(e),a=n.root,i=n.directed,s=this,u=!1,f,c,d;a&&(d=je(a)?this.filter(a)[0].id():a[0].id());var v={},p={};i?s.forEach(function(E){var S=E.id();if(E.isNode()){var T=E.indegree(!0),R=E.outdegree(!0),A=T-R,k=R-T;A==1?f?u=!0:f=S:k==1?c?u=!0:c=S:(k>1||A>1)&&(u=!0),v[S]=[],E.outgoers().forEach(function(P){P.isEdge()&&v[S].push(P.id())})}else p[S]=[void 0,E.target().id()]}):s.forEach(function(E){var S=E.id();if(E.isNode()){var T=E.degree(!0);T%2&&(f?c?u=!0:c=S:f=S),v[S]=[],E.connectedEdges().forEach(function(R){return v[S].push(R.id())})}else p[S]=[E.source().id(),E.target().id()]});var g={found:!1,trail:void 0};if(u)return g;if(c&&f)if(i){if(d&&c!=d)return g;d=c}else{if(d&&c!=d&&f!=d)return g;d||(d=c)}else d||(d=s[0].id());var y=function(S){for(var T=S,R=[S],A,k,P;v[T].length;)A=v[T].shift(),k=p[A][0],P=p[A][1],T!=P?(v[P]=v[P].filter(function(D){return D!=A}),T=P):!i&&T!=k&&(v[k]=v[k].filter(function(D){return D!=A}),T=k),R.unshift(A),R.unshift(T);return R},x=[],w=[];for(w=y(d);w.length!=1;)v[w[0]].length==0?(x.unshift(s.getElementById(w.shift())),x.unshift(s.getElementById(w.shift()))):w=y(w.shift()).concat(w);x.unshift(s.getElementById(w.shift()));for(var b in v)if(v[b].length)return g;return g.found=!0,g.trail=this.spawn(x,!0),g}},el=function(){var e=this,t={},n=0,a=0,i=[],s=[],u={},f=function(p,g){for(var y=s.length-1,x=[],w=e.spawn();s[y].x!=p||s[y].y!=g;)x.push(s.pop().edge),y--;x.push(s.pop().edge),x.forEach(function(b){var E=b.connectedNodes().intersection(e);w.merge(b),E.forEach(function(S){var T=S.id(),R=S.connectedEdges().intersection(e);w.merge(S),t[T].cutVertex?w.merge(R.filter(function(A){return A.isLoop()})):w.merge(R)})}),i.push(w)},c=function(p,g,y){p===y&&(a+=1),t[g]={id:n,low:n++,cutVertex:!1};var x=e.getElementById(g).connectedEdges().intersection(e);if(x.size()===0)i.push(e.spawn(e.getElementById(g)));else{var w,b,E,S;x.forEach(function(T){w=T.source().id(),b=T.target().id(),E=w===g?b:w,E!==y&&(S=T.id(),u[S]||(u[S]=!0,s.push({x:g,y:E,edge:T})),E in t?t[g].low=Math.min(t[g].low,t[E].id):(c(p,E,g),t[g].low=Math.min(t[g].low,t[E].low),t[g].id<=t[E].low&&(t[g].cutVertex=!0,f(g,E))))})}};e.forEach(function(v){if(v.isNode()){var p=v.id();p in t||(a=0,c(p,p),t[p].cutVertex=a>1)}});var d=Object.keys(t).filter(function(v){return t[v].cutVertex}).map(function(v){return e.getElementById(v)});return{cut:e.spawn(d),components:i}},mN={hopcroftTarjanBiconnected:el,htbc:el,htb:el,hopcroftTarjanBiconnectedComponents:el},rl=function(){var e=this,t={},n=0,a=[],i=[],s=e.spawn(e),u=function(c){i.push(c),t[c]={index:n,low:n++,explored:!1};var d=e.getElementById(c).connectedEdges().intersection(e);if(d.forEach(function(x){var w=x.target().id();w!==c&&(w in t||u(w),t[w].explored||(t[c].low=Math.min(t[c].low,t[w].low)))}),t[c].index===t[c].low){for(var v=e.spawn();;){var p=i.pop();if(v.merge(e.getElementById(p)),t[p].low=t[c].index,t[p].explored=!0,p===c)break}var g=v.edgesWith(v),y=v.merge(g);a.push(y),s=s.difference(y)}};return e.forEach(function(f){if(f.isNode()){var c=f.id();c in t||u(c)}}),{cut:s,components:a}},wN={tarjanStronglyConnected:rl,tsc:rl,tscc:rl,tarjanStronglyConnectedComponents:rl},mR={};[bs,YM,XM,QM,eO,tO,iO,IO,ro,to,t0,jO,aN,uN,pN,yN,mN,wN].forEach(function(r){Ke(mR,r)});/*!
Embeddable Minimum Strictly-Compliant Promises/A+ 1.1.1 Thenable
Copyright (c) 2013-2014 Ralf S. Engelschall (http://engelschall.com)
Licensed under The MIT License (http://opensource.org/licenses/MIT)
*/var wR=0,bR=1,xR=2,pn=function(e){if(!(this instanceof pn))return new pn(e);this.id="Thenable/1.0.7",this.state=wR,this.fulfillValue=void 0,this.rejectReason=void 0,this.onFulfilled=[],this.onRejected=[],this.proxy={then:this.then.bind(this)},typeof e=="function"&&e.call(this,this.fulfill.bind(this),this.reject.bind(this))};pn.prototype={fulfill:function(e){return _x(this,bR,"fulfillValue",e)},reject:function(e){return _x(this,xR,"rejectReason",e)},then:function(e,t){var n=this,a=new pn;return n.onFulfilled.push(Rx(e,a,"fulfill")),n.onRejected.push(Rx(t,a,"reject")),ER(n),a.proxy}};var _x=function(e,t,n,a){return e.state===wR&&(e.state=t,e[n]=a,ER(e)),e},ER=function(e){e.state===bR?kx(e,"onFulfilled",e.fulfillValue):e.state===xR&&kx(e,"onRejected",e.rejectReason)},kx=function(e,t,n){if(e[t].length!==0){var a=e[t];e[t]=[];var i=function(){for(var u=0;u<a.length;u++)a[u](n)};typeof setImmediate=="function"?setImmediate(i):setTimeout(i,0)}},Rx=function(e,t,n){return function(a){if(typeof e!="function")t[n].call(t,a);else{var i;try{i=e(a)}catch(s){t.reject(s);return}SR(t,i)}}},SR=function(e,t){if(e===t||e.proxy===t){e.reject(new TypeError("cannot resolve promise with itself"));return}var n;if(Jr(t)==="object"&&t!==null||typeof t=="function")try{n=t.then}catch(i){e.reject(i);return}if(typeof n=="function"){var a=!1;try{n.call(t,function(i){a||(a=!0,i===t?e.reject(new TypeError("circular thenable chain")):SR(e,i))},function(i){a||(a=!0,e.reject(i))})}catch(i){a||e.reject(i)}return}e.fulfill(t)};pn.all=function(r){return new pn(function(e,t){for(var n=new Array(r.length),a=0,i=function(f,c){n[f]=c,a++,a===r.length&&e(n)},s=0;s<r.length;s++)(function(u){var f=r[u],c=f!=null&&f.then!=null;if(c)f.then(function(v){i(u,v)},function(v){t(v)});else{var d=f;i(u,d)}})(s)})};pn.resolve=function(r){return new pn(function(e,t){e(r)})};pn.reject=function(r){return new pn(function(e,t){t(r)})};var uo=typeof Promise<"u"?Promise:pn,i0=function(e,t,n){var a=E0(e),i=!a,s=this._private=Ke({duration:1e3},t,n);if(s.target=e,s.style=s.style||s.css,s.started=!1,s.playing=!1,s.hooked=!1,s.applying=!1,s.progress=0,s.completes=[],s.frames=[],s.complete&&qr(s.complete)&&s.completes.push(s.complete),i){var u=e.position();s.startPosition=s.startPosition||{x:u.x,y:u.y},s.startStyle=s.startStyle||e.cy().style().getAnimationStartStyle(e,s.style)}if(a){var f=e.pan();s.startPan={x:f.x,y:f.y},s.startZoom=e.zoom()}this.length=1,this[0]=this},si=i0.prototype;Ke(si,{instanceString:function(){return"animation"},hook:function(){var e=this._private;if(!e.hooked){var t,n=e.target._private.animation;e.queue?t=n.queue:t=n.current,t.push(this),Wt(e.target)&&e.target.cy().addToAnimationPool(e.target),e.hooked=!0}return this},play:function(){var e=this._private;return e.progress===1&&(e.progress=0),e.playing=!0,e.started=!1,e.stopped=!1,this.hook(),this},playing:function(){return this._private.playing},apply:function(){var e=this._private;return e.applying=!0,e.started=!1,e.stopped=!1,this.hook(),this},applying:function(){return this._private.applying},pause:function(){var e=this._private;return e.playing=!1,e.started=!1,this},stop:function(){var e=this._private;return e.playing=!1,e.started=!1,e.stopped=!0,this},rewind:function(){return this.progress(0)},fastforward:function(){return this.progress(1)},time:function(e){var t=this._private;return e===void 0?t.progress*t.duration:this.progress(e/t.duration)},progress:function(e){var t=this._private,n=t.playing;return e===void 0?t.progress:(n&&this.pause(),t.progress=e,t.started=!1,n&&this.play(),this)},completed:function(){return this._private.progress===1},reverse:function(){var e=this._private,t=e.playing;t&&this.pause(),e.progress=1-e.progress,e.started=!1;var n=function(c,d){var v=e[c];v!=null&&(e[c]=e[d],e[d]=v)};if(n("zoom","startZoom"),n("pan","startPan"),n("position","startPosition"),e.style)for(var a=0;a<e.style.length;a++){var i=e.style[a],s=i.name,u=e.startStyle[s];e.startStyle[s]=i,e.style[a]=u}return t&&this.play(),this},promise:function(e){var t=this._private,n;switch(e){case"frame":n=t.frames;break;default:case"complete":case"completed":n=t.completes}return new uo(function(a,i){n.push(function(){a()})})}});si.complete=si.completed;si.run=si.play;si.running=si.playing;var bN={animated:function(){return function(){var t=this,n=t.length!==void 0,a=n?t:[t],i=this._private.cy||this;if(!i.styleEnabled())return!1;var s=a[0];if(s)return s._private.animation.current.length>0}},clearQueue:function(){return function(){var t=this,n=t.length!==void 0,a=n?t:[t],i=this._private.cy||this;if(!i.styleEnabled())return this;for(var s=0;s<a.length;s++){var u=a[s];u._private.animation.queue=[]}return this}},delay:function(){return function(t,n){var a=this._private.cy||this;return a.styleEnabled()?this.animate({delay:t,duration:t,complete:n}):this}},delayAnimation:function(){return function(t,n){var a=this._private.cy||this;return a.styleEnabled()?this.animation({delay:t,duration:t,complete:n}):this}},animation:function(){return function(t,n){var a=this,i=a.length!==void 0,s=i?a:[a],u=this._private.cy||this,f=!i,c=!f;if(!u.styleEnabled())return this;var d=u.style();t=Ke({},t,n);var v=Object.keys(t).length===0;if(v)return new i0(s[0],t);switch(t.duration===void 0&&(t.duration=400),t.duration){case"slow":t.duration=600;break;case"fast":t.duration=200;break}if(c&&(t.style=d.getPropsList(t.style||t.css),t.css=void 0),c&&t.renderedPosition!=null){var p=t.renderedPosition,g=u.pan(),y=u.zoom();t.position=uR(p,y,g)}if(f&&t.panBy!=null){var x=t.panBy,w=u.pan();t.pan={x:w.x+x.x,y:w.y+x.y}}var b=t.center||t.centre;if(f&&b!=null){var E=u.getCenterPan(b.eles,t.zoom);E!=null&&(t.pan=E)}if(f&&t.fit!=null){var S=t.fit,T=u.getFitViewport(S.eles||S.boundingBox,S.padding);T!=null&&(t.pan=T.pan,t.zoom=T.zoom)}if(f&&cr(t.zoom)){var R=u.getZoomedViewport(t.zoom);R!=null?(R.zoomed&&(t.zoom=R.zoom),R.panned&&(t.pan=R.pan)):t.zoom=null}return new i0(s[0],t)}},animate:function(){return function(t,n){var a=this,i=a.length!==void 0,s=i?a:[a],u=this._private.cy||this;if(!u.styleEnabled())return this;n&&(t=Ke({},t,n));for(var f=0;f<s.length;f++){var c=s[f],d=c.animated()&&(t.queue===void 0||t.queue),v=c.animation(t,d?{queue:!0}:void 0);v.play()}return this}},stop:function(){return function(t,n){var a=this,i=a.length!==void 0,s=i?a:[a],u=this._private.cy||this;if(!u.styleEnabled())return this;for(var f=0;f<s.length;f++){for(var c=s[f],d=c._private,v=d.animation.current,p=0;p<v.length;p++){var g=v[p],y=g._private;n&&(y.duration=0)}t&&(d.animation.queue=[]),n||(d.animation.current=[])}return u.notify("draw"),this}}},kd,Ax;function Vl(){if(Ax)return kd;Ax=1;var r=Array.isArray;return kd=r,kd}var Rd,Px;function xN(){if(Px)return Rd;Px=1;var r=Vl(),e=Is(),t=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(i,s){if(r(i))return!1;var u=typeof i;return u=="number"||u=="symbol"||u=="boolean"||i==null||e(i)?!0:n.test(i)||!t.test(i)||s!=null&&i in Object(s)}return Rd=a,Rd}var Ad,Dx;function EN(){if(Dx)return Ad;Dx=1;var r=Jk(),e=Ds(),t="[object AsyncFunction]",n="[object Function]",a="[object GeneratorFunction]",i="[object Proxy]";function s(u){if(!e(u))return!1;var f=r(u);return f==n||f==a||f==t||f==i}return Ad=s,Ad}var Pd,Ix;function SN(){if(Ix)return Pd;Ix=1;var r=Bl(),e=r["__core-js_shared__"];return Pd=e,Pd}var Dd,Mx;function CN(){if(Mx)return Dd;Mx=1;var r=SN(),e=(function(){var n=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""})();function t(n){return!!e&&e in n}return Dd=t,Dd}var Id,Ox;function TN(){if(Ox)return Id;Ox=1;var r=Function.prototype,e=r.toString;function t(n){if(n!=null){try{return e.call(n)}catch{}try{return n+""}catch{}}return""}return Id=t,Id}var Md,Nx;function _N(){if(Nx)return Md;Nx=1;var r=EN(),e=CN(),t=Ds(),n=TN(),a=/[\\^$.*+?()[\]{}|]/g,i=/^\[object .+?Constructor\]$/,s=Function.prototype,u=Object.prototype,f=s.toString,c=u.hasOwnProperty,d=RegExp("^"+f.call(c).replace(a,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function v(p){if(!t(p)||e(p))return!1;var g=r(p)?d:i;return g.test(n(p))}return Md=v,Md}var Od,Lx;function kN(){if(Lx)return Od;Lx=1;function r(e,t){return e==null?void 0:e[t]}return Od=r,Od}var Nd,Bx;function M0(){if(Bx)return Nd;Bx=1;var r=_N(),e=kN();function t(n,a){var i=e(n,a);return r(i)?i:void 0}return Nd=t,Nd}var Ld,qx;function $l(){if(qx)return Ld;qx=1;var r=M0(),e=r(Object,"create");return Ld=e,Ld}var Bd,Fx;function RN(){if(Fx)return Bd;Fx=1;var r=$l();function e(){this.__data__=r?r(null):{},this.size=0}return Bd=e,Bd}var qd,zx;function AN(){if(zx)return qd;zx=1;function r(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}return qd=r,qd}var Fd,Vx;function PN(){if(Vx)return Fd;Vx=1;var r=$l(),e="__lodash_hash_undefined__",t=Object.prototype,n=t.hasOwnProperty;function a(i){var s=this.__data__;if(r){var u=s[i];return u===e?void 0:u}return n.call(s,i)?s[i]:void 0}return Fd=a,Fd}var zd,$x;function DN(){if($x)return zd;$x=1;var r=$l(),e=Object.prototype,t=e.hasOwnProperty;function n(a){var i=this.__data__;return r?i[a]!==void 0:t.call(i,a)}return zd=n,zd}var Vd,Ux;function IN(){if(Ux)return Vd;Ux=1;var r=$l(),e="__lodash_hash_undefined__";function t(n,a){var i=this.__data__;return this.size+=this.has(n)?0:1,i[n]=r&&a===void 0?e:a,this}return Vd=t,Vd}var $d,Gx;function MN(){if(Gx)return $d;Gx=1;var r=RN(),e=AN(),t=PN(),n=DN(),a=IN();function i(s){var u=-1,f=s==null?0:s.length;for(this.clear();++u<f;){var c=s[u];this.set(c[0],c[1])}}return i.prototype.clear=r,i.prototype.delete=e,i.prototype.get=t,i.prototype.has=n,i.prototype.set=a,$d=i,$d}var Ud,jx;function ON(){if(jx)return Ud;jx=1;function r(){this.__data__=[],this.size=0}return Ud=r,Ud}var Gd,Hx;function CR(){if(Hx)return Gd;Hx=1;function r(e,t){return e===t||e!==e&&t!==t}return Gd=r,Gd}var jd,Wx;function Ul(){if(Wx)return jd;Wx=1;var r=CR();function e(t,n){for(var a=t.length;a--;)if(r(t[a][0],n))return a;return-1}return jd=e,jd}var Hd,Kx;function NN(){if(Kx)return Hd;Kx=1;var r=Ul(),e=Array.prototype,t=e.splice;function n(a){var i=this.__data__,s=r(i,a);if(s<0)return!1;var u=i.length-1;return s==u?i.pop():t.call(i,s,1),--this.size,!0}return Hd=n,Hd}var Wd,Yx;function LN(){if(Yx)return Wd;Yx=1;var r=Ul();function e(t){var n=this.__data__,a=r(n,t);return a<0?void 0:n[a][1]}return Wd=e,Wd}var Kd,Xx;function BN(){if(Xx)return Kd;Xx=1;var r=Ul();function e(t){return r(this.__data__,t)>-1}return Kd=e,Kd}var Yd,Zx;function qN(){if(Zx)return Yd;Zx=1;var r=Ul();function e(t,n){var a=this.__data__,i=r(a,t);return i<0?(++this.size,a.push([t,n])):a[i][1]=n,this}return Yd=e,Yd}var Xd,Qx;function FN(){if(Qx)return Xd;Qx=1;var r=ON(),e=NN(),t=LN(),n=BN(),a=qN();function i(s){var u=-1,f=s==null?0:s.length;for(this.clear();++u<f;){var c=s[u];this.set(c[0],c[1])}}return i.prototype.clear=r,i.prototype.delete=e,i.prototype.get=t,i.prototype.has=n,i.prototype.set=a,Xd=i,Xd}var Zd,Jx;function zN(){if(Jx)return Zd;Jx=1;var r=M0(),e=Bl(),t=r(e,"Map");return Zd=t,Zd}var Qd,eE;function VN(){if(eE)return Qd;eE=1;var r=MN(),e=FN(),t=zN();function n(){this.size=0,this.__data__={hash:new r,map:new(t||e),string:new r}}return Qd=n,Qd}var Jd,rE;function $N(){if(rE)return Jd;rE=1;function r(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}return Jd=r,Jd}var ev,tE;function Gl(){if(tE)return ev;tE=1;var r=$N();function e(t,n){var a=t.__data__;return r(n)?a[typeof n=="string"?"string":"hash"]:a.map}return ev=e,ev}var rv,nE;function UN(){if(nE)return rv;nE=1;var r=Gl();function e(t){var n=r(this,t).delete(t);return this.size-=n?1:0,n}return rv=e,rv}var tv,aE;function GN(){if(aE)return tv;aE=1;var r=Gl();function e(t){return r(this,t).get(t)}return tv=e,tv}var nv,iE;function jN(){if(iE)return nv;iE=1;var r=Gl();function e(t){return r(this,t).has(t)}return nv=e,nv}var av,oE;function HN(){if(oE)return av;oE=1;var r=Gl();function e(t,n){var a=r(this,t),i=a.size;return a.set(t,n),this.size+=a.size==i?0:1,this}return av=e,av}var iv,sE;function WN(){if(sE)return iv;sE=1;var r=VN(),e=UN(),t=GN(),n=jN(),a=HN();function i(s){var u=-1,f=s==null?0:s.length;for(this.clear();++u<f;){var c=s[u];this.set(c[0],c[1])}}return i.prototype.clear=r,i.prototype.delete=e,i.prototype.get=t,i.prototype.has=n,i.prototype.set=a,iv=i,iv}var ov,uE;function KN(){if(uE)return ov;uE=1;var r=WN(),e="Expected a function";function t(n,a){if(typeof n!="function"||a!=null&&typeof a!="function")throw new TypeError(e);var i=function(){var s=arguments,u=a?a.apply(this,s):s[0],f=i.cache;if(f.has(u))return f.get(u);var c=n.apply(this,s);return i.cache=f.set(u,c)||f,c};return i.cache=new(t.Cache||r),i}return t.Cache=r,ov=t,ov}var sv,lE;function YN(){if(lE)return sv;lE=1;var r=KN(),e=500;function t(n){var a=r(n,function(s){return i.size===e&&i.clear(),s}),i=a.cache;return a}return sv=t,sv}var uv,fE;function TR(){if(fE)return uv;fE=1;var r=YN(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,t=/\\(\\)?/g,n=r(function(a){var i=[];return a.charCodeAt(0)===46&&i.push(""),a.replace(e,function(s,u,f,c){i.push(f?c.replace(t,"$1"):u||s)}),i});return uv=n,uv}var lv,cE;function _R(){if(cE)return lv;cE=1;function r(e,t){for(var n=-1,a=e==null?0:e.length,i=Array(a);++n<a;)i[n]=t(e[n],n,e);return i}return lv=r,lv}var fv,dE;function XN(){if(dE)return fv;dE=1;var r=C0(),e=_R(),t=Vl(),n=Is(),a=r?r.prototype:void 0,i=a?a.toString:void 0;function s(u){if(typeof u=="string")return u;if(t(u))return e(u,s)+"";if(n(u))return i?i.call(u):"";var f=u+"";return f=="0"&&1/u==-1/0?"-0":f}return fv=s,fv}var cv,vE;function kR(){if(vE)return cv;vE=1;var r=XN();function e(t){return t==null?"":r(t)}return cv=e,cv}var dv,hE;function RR(){if(hE)return dv;hE=1;var r=Vl(),e=xN(),t=TR(),n=kR();function a(i,s){return r(i)?i:e(i,s)?[i]:t(n(i))}return dv=a,dv}var vv,pE;function O0(){if(pE)return vv;pE=1;var r=Is();function e(t){if(typeof t=="string"||r(t))return t;var n=t+"";return n=="0"&&1/t==-1/0?"-0":n}return vv=e,vv}var hv,gE;function ZN(){if(gE)return hv;gE=1;var r=RR(),e=O0();function t(n,a){a=r(a,n);for(var i=0,s=a.length;n!=null&&i<s;)n=n[e(a[i++])];return i&&i==s?n:void 0}return hv=t,hv}var pv,yE;function QN(){if(yE)return pv;yE=1;var r=ZN();function e(t,n,a){var i=t==null?void 0:r(t,n);return i===void 0?a:i}return pv=e,pv}var JN=QN(),eL=Ps(JN),gv,mE;function rL(){if(mE)return gv;mE=1;var r=M0(),e=(function(){try{var t=r(Object,"defineProperty");return t({},"",{}),t}catch{}})();return gv=e,gv}var yv,wE;function tL(){if(wE)return yv;wE=1;var r=rL();function e(t,n,a){n=="__proto__"&&r?r(t,n,{configurable:!0,enumerable:!0,value:a,writable:!0}):t[n]=a}return yv=e,yv}var mv,bE;function nL(){if(bE)return mv;bE=1;var r=tL(),e=CR(),t=Object.prototype,n=t.hasOwnProperty;function a(i,s,u){var f=i[s];(!(n.call(i,s)&&e(f,u))||u===void 0&&!(s in i))&&r(i,s,u)}return mv=a,mv}var wv,xE;function aL(){if(xE)return wv;xE=1;var r=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function t(n,a){var i=typeof n;return a=a??r,!!a&&(i=="number"||i!="symbol"&&e.test(n))&&n>-1&&n%1==0&&n<a}return wv=t,wv}var bv,EE;function iL(){if(EE)return bv;EE=1;var r=nL(),e=RR(),t=aL(),n=Ds(),a=O0();function i(s,u,f,c){if(!n(s))return s;u=e(u,s);for(var d=-1,v=u.length,p=v-1,g=s;g!=null&&++d<v;){var y=a(u[d]),x=f;if(y==="__proto__"||y==="constructor"||y==="prototype")return s;if(d!=p){var w=g[y];x=c?c(w,y,g):void 0,x===void 0&&(x=n(w)?w:t(u[d+1])?[]:{})}r(g,y,x),g=g[y]}return s}return bv=i,bv}var xv,SE;function oL(){if(SE)return xv;SE=1;var r=iL();function e(t,n,a){return t==null?t:r(t,n,a)}return xv=e,xv}var sL=oL(),uL=Ps(sL),Ev,CE;function lL(){if(CE)return Ev;CE=1;function r(e,t){var n=-1,a=e.length;for(t||(t=Array(a));++n<a;)t[n]=e[n];return t}return Ev=r,Ev}var Sv,TE;function fL(){if(TE)return Sv;TE=1;var r=_R(),e=lL(),t=Vl(),n=Is(),a=TR(),i=O0(),s=kR();function u(f){return t(f)?r(f,i):n(f)?[f]:e(a(s(f)))}return Sv=u,Sv}var cL=fL(),dL=Ps(cL),vL={data:function(e){var t={field:"data",bindingEvent:"data",allowBinding:!1,allowSetting:!1,allowGetting:!1,settingEvent:"data",settingTriggersEvent:!1,triggerFnName:"trigger",immutableKeys:{},updateStyle:!1,beforeGet:function(a){},beforeSet:function(a,i){},onSet:function(a){},canSet:function(a){return!0}};return e=Ke({},t,e),function(a,i){var s=e,u=this,f=u.length!==void 0,c=f?u:[u],d=f?u[0]:u;if(je(a)){var v=a.indexOf(".")!==-1,p=v&&dL(a);if(s.allowGetting&&i===void 0){var g;return d&&(s.beforeGet(d),p&&d._private[s.field][a]===void 0?g=eL(d._private[s.field],p):g=d._private[s.field][a]),g}else if(s.allowSetting&&i!==void 0){var y=!s.immutableKeys[a];if(y){var x=Uk({},a,i);s.beforeSet(u,x);for(var w=0,b=c.length;w<b;w++){var E=c[w];s.canSet(E)&&(p&&d._private[s.field][a]===void 0?uL(E._private[s.field],p,i):E._private[s.field][a]=i)}s.updateStyle&&u.updateStyle(),s.onSet(u),s.settingTriggersEvent&&u[s.triggerFnName](s.settingEvent)}}}else if(s.allowSetting&&cr(a)){var S=a,T,R,A=Object.keys(S);s.beforeSet(u,S);for(var k=0;k<A.length;k++){T=A[k],R=S[T];var P=!s.immutableKeys[T];if(P)for(var D=0;D<c.length;D++){var I=c[D];s.canSet(I)&&(I._private[s.field][T]=R)}}s.updateStyle&&u.updateStyle(),s.onSet(u),s.settingTriggersEvent&&u[s.triggerFnName](s.settingEvent)}else if(s.allowBinding&&qr(a)){var M=a;u.on(s.bindingEvent,M)}else if(s.allowGetting&&a===void 0){var L;return d&&(s.beforeGet(d),L=d._private[s.field]),L}return u}},removeData:function(e){var t={field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!1,immutableKeys:{}};return e=Ke({},t,e),function(a){var i=e,s=this,u=s.length!==void 0,f=u?s:[s];if(je(a)){for(var c=a.split(/\s+/),d=c.length,v=0;v<d;v++){var p=c[v];if(!Ca(p)){var g=!i.immutableKeys[p];if(g)for(var y=0,x=f.length;y<x;y++)f[y]._private[i.field][p]=void 0}}i.triggerEvent&&s[i.triggerFnName](i.event)}else if(a===void 0){for(var w=0,b=f.length;w<b;w++)for(var E=f[w]._private[i.field],S=Object.keys(E),T=0;T<S.length;T++){var R=S[T],A=!i.immutableKeys[R];A&&(E[R]=void 0)}i.triggerEvent&&s[i.triggerFnName](i.event)}return s}}},hL={eventAliasesOn:function(e){var t=e;t.addListener=t.listen=t.bind=t.on,t.unlisten=t.unbind=t.off=t.removeListener,t.trigger=t.emit,t.pon=t.promiseOn=function(n,a){var i=this,s=Array.prototype.slice.call(arguments,0);return new uo(function(u,f){var c=function(g){i.off.apply(i,v),u(g)},d=s.concat([c]),v=d.concat([]);i.on.apply(i,d)})}}},hr={};[bN,vL,hL].forEach(function(r){Ke(hr,r)});var pL={animate:hr.animate(),animation:hr.animation(),animated:hr.animated(),clearQueue:hr.clearQueue(),delay:hr.delay(),delayAnimation:hr.delayAnimation(),stop:hr.stop()},dl={classes:function(e){var t=this;if(e===void 0){var n=[];return t[0]._private.classes.forEach(function(y){return n.push(y)}),n}else mr(e)||(e=(e||"").match(/\S+/g)||[]);for(var a=[],i=new so(e),s=0;s<t.length;s++){for(var u=t[s],f=u._private,c=f.classes,d=!1,v=0;v<e.length;v++){var p=e[v],g=c.has(p);if(!g){d=!0;break}}d||(d=c.size!==e.length),d&&(f.classes=i,a.push(u))}return a.length>0&&this.spawn(a).updateStyle().emit("class"),t},addClass:function(e){return this.toggleClass(e,!0)},hasClass:function(e){var t=this[0];return t!=null&&t._private.classes.has(e)},toggleClass:function(e,t){mr(e)||(e=e.match(/\S+/g)||[]);for(var n=this,a=t===void 0,i=[],s=0,u=n.length;s<u;s++)for(var f=n[s],c=f._private.classes,d=!1,v=0;v<e.length;v++){var p=e[v],g=c.has(p),y=!1;t||a&&!g?(c.add(p),y=!0):(!t||a&&g)&&(c.delete(p),y=!0),!d&&y&&(i.push(f),d=!0)}return i.length>0&&this.spawn(i).updateStyle().emit("class"),n},removeClass:function(e){return this.toggleClass(e,!1)},flashClass:function(e,t){var n=this;if(t==null)t=250;else if(t===0)return n;return n.addClass(e),setTimeout(function(){n.removeClass(e)},t),n}};dl.className=dl.classNames=dl.classes;var fr={metaChar:"[\\!\\\"\\#\\$\\%\\&\\'\\(\\)\\*\\+\\,\\.\\/\\:\\;\\<\\=\\>\\?\\@\\[\\]\\^\\`\\{\\|\\}\\~]",comparatorOp:"=|\\!=|>|>=|<|<=|\\$=|\\^=|\\*=",boolOp:"\\?|\\!|\\^",string:`"(?:\\\\"|[^"])*"|'(?:\\\\'|[^'])*'`,number:Qr,meta:"degree|indegree|outdegree",separator:"\\s*,\\s*",descendant:"\\s+",child:"\\s+>\\s+",subject:"\\$",group:"node|edge|\\*",directedEdge:"\\s+->\\s+",undirectedEdge:"\\s+<->\\s+"};fr.variable="(?:[\\w-.]|(?:\\\\"+fr.metaChar+"))+";fr.className="(?:[\\w-]|(?:\\\\"+fr.metaChar+"))+";fr.value=fr.string+"|"+fr.number;fr.id=fr.variable;(function(){var r,e,t;for(r=fr.comparatorOp.split("|"),t=0;t<r.length;t++)e=r[t],fr.comparatorOp+="|@"+e;for(r=fr.comparatorOp.split("|"),t=0;t<r.length;t++)e=r[t],!(e.indexOf("!")>=0)&&e!=="="&&(fr.comparatorOp+="|\\!"+e)})();var yr=function(){return{checks:[]}},Me={GROUP:0,COLLECTION:1,FILTER:2,DATA_COMPARE:3,DATA_EXIST:4,DATA_BOOL:5,META_COMPARE:6,STATE:7,ID:8,CLASS:9,UNDIRECTED_EDGE:10,DIRECTED_EDGE:11,NODE_SOURCE:12,NODE_TARGET:13,NODE_NEIGHBOR:14,CHILD:15,DESCENDANT:16,PARENT:17,ANCESTOR:18,COMPOUND_SPLIT:19,TRUE:20},o0=[{selector:":selected",matches:function(e){return e.selected()}},{selector:":unselected",matches:function(e){return!e.selected()}},{selector:":selectable",matches:function(e){return e.selectable()}},{selector:":unselectable",matches:function(e){return!e.selectable()}},{selector:":locked",matches:function(e){return e.locked()}},{selector:":unlocked",matches:function(e){return!e.locked()}},{selector:":visible",matches:function(e){return e.visible()}},{selector:":hidden",matches:function(e){return!e.visible()}},{selector:":transparent",matches:function(e){return e.transparent()}},{selector:":grabbed",matches:function(e){return e.grabbed()}},{selector:":free",matches:function(e){return!e.grabbed()}},{selector:":removed",matches:function(e){return e.removed()}},{selector:":inside",matches:function(e){return!e.removed()}},{selector:":grabbable",matches:function(e){return e.grabbable()}},{selector:":ungrabbable",matches:function(e){return!e.grabbable()}},{selector:":animated",matches:function(e){return e.animated()}},{selector:":unanimated",matches:function(e){return!e.animated()}},{selector:":parent",matches:function(e){return e.isParent()}},{selector:":childless",matches:function(e){return e.isChildless()}},{selector:":child",matches:function(e){return e.isChild()}},{selector:":orphan",matches:function(e){return e.isOrphan()}},{selector:":nonorphan",matches:function(e){return e.isChild()}},{selector:":compound",matches:function(e){return e.isNode()?e.isParent():e.source().isParent()||e.target().isParent()}},{selector:":loop",matches:function(e){return e.isLoop()}},{selector:":simple",matches:function(e){return e.isSimple()}},{selector:":active",matches:function(e){return e.active()}},{selector:":inactive",matches:function(e){return!e.active()}},{selector:":backgrounding",matches:function(e){return e.backgrounding()}},{selector:":nonbackgrounding",matches:function(e){return!e.backgrounding()}}].sort(function(r,e){return vM(r.selector,e.selector)}),gL=(function(){for(var r={},e,t=0;t<o0.length;t++)e=o0[t],r[e.selector]=e.matches;return r})(),yL=function(e,t){return gL[e](t)},mL="("+o0.map(function(r){return r.selector}).join("|")+")",$i=function(e){return e.replace(new RegExp("\\\\("+fr.metaChar+")","g"),function(t,n){return n})},ya=function(e,t,n){e[e.length-1]=n},s0=[{name:"group",query:!0,regex:"("+fr.group+")",populate:function(e,t,n){var a=Hr(n,1),i=a[0];t.checks.push({type:Me.GROUP,value:i==="*"?i:i+"s"})}},{name:"state",query:!0,regex:mL,populate:function(e,t,n){var a=Hr(n,1),i=a[0];t.checks.push({type:Me.STATE,value:i})}},{name:"id",query:!0,regex:"\\#("+fr.id+")",populate:function(e,t,n){var a=Hr(n,1),i=a[0];t.checks.push({type:Me.ID,value:$i(i)})}},{name:"className",query:!0,regex:"\\.("+fr.className+")",populate:function(e,t,n){var a=Hr(n,1),i=a[0];t.checks.push({type:Me.CLASS,value:$i(i)})}},{name:"dataExists",query:!0,regex:"\\[\\s*("+fr.variable+")\\s*\\]",populate:function(e,t,n){var a=Hr(n,1),i=a[0];t.checks.push({type:Me.DATA_EXIST,field:$i(i)})}},{name:"dataCompare",query:!0,regex:"\\[\\s*("+fr.variable+")\\s*("+fr.comparatorOp+")\\s*("+fr.value+")\\s*\\]",populate:function(e,t,n){var a=Hr(n,3),i=a[0],s=a[1],u=a[2],f=new RegExp("^"+fr.string+"$").exec(u)!=null;f?u=u.substring(1,u.length-1):u=parseFloat(u),t.checks.push({type:Me.DATA_COMPARE,field:$i(i),operator:s,value:u})}},{name:"dataBool",query:!0,regex:"\\[\\s*("+fr.boolOp+")\\s*("+fr.variable+")\\s*\\]",populate:function(e,t,n){var a=Hr(n,2),i=a[0],s=a[1];t.checks.push({type:Me.DATA_BOOL,field:$i(s),operator:i})}},{name:"metaCompare",query:!0,regex:"\\[\\[\\s*("+fr.meta+")\\s*("+fr.comparatorOp+")\\s*("+fr.number+")\\s*\\]\\]",populate:function(e,t,n){var a=Hr(n,3),i=a[0],s=a[1],u=a[2];t.checks.push({type:Me.META_COMPARE,field:$i(i),operator:s,value:parseFloat(u)})}},{name:"nextQuery",separator:!0,regex:fr.separator,populate:function(e,t){var n=e.currentSubject,a=e.edgeCount,i=e.compoundCount,s=e[e.length-1];n!=null&&(s.subject=n,e.currentSubject=null),s.edgeCount=a,s.compoundCount=i,e.edgeCount=0,e.compoundCount=0;var u=e[e.length++]=yr();return u}},{name:"directedEdge",separator:!0,regex:fr.directedEdge,populate:function(e,t){if(e.currentSubject==null){var n=yr(),a=t,i=yr();return n.checks.push({type:Me.DIRECTED_EDGE,source:a,target:i}),ya(e,t,n),e.edgeCount++,i}else{var s=yr(),u=t,f=yr();return s.checks.push({type:Me.NODE_SOURCE,source:u,target:f}),ya(e,t,s),e.edgeCount++,f}}},{name:"undirectedEdge",separator:!0,regex:fr.undirectedEdge,populate:function(e,t){if(e.currentSubject==null){var n=yr(),a=t,i=yr();return n.checks.push({type:Me.UNDIRECTED_EDGE,nodes:[a,i]}),ya(e,t,n),e.edgeCount++,i}else{var s=yr(),u=t,f=yr();return s.checks.push({type:Me.NODE_NEIGHBOR,node:u,neighbor:f}),ya(e,t,s),f}}},{name:"child",separator:!0,regex:fr.child,populate:function(e,t){if(e.currentSubject==null){var n=yr(),a=yr(),i=e[e.length-1];return n.checks.push({type:Me.CHILD,parent:i,child:a}),ya(e,t,n),e.compoundCount++,a}else if(e.currentSubject===t){var s=yr(),u=e[e.length-1],f=yr(),c=yr(),d=yr(),v=yr();return s.checks.push({type:Me.COMPOUND_SPLIT,left:u,right:f,subject:c}),c.checks=t.checks,t.checks=[{type:Me.TRUE}],v.checks.push({type:Me.TRUE}),f.checks.push({type:Me.PARENT,parent:v,child:d}),ya(e,u,s),e.currentSubject=c,e.compoundCount++,d}else{var p=yr(),g=yr(),y=[{type:Me.PARENT,parent:p,child:g}];return p.checks=t.checks,t.checks=y,e.compoundCount++,g}}},{name:"descendant",separator:!0,regex:fr.descendant,populate:function(e,t){if(e.currentSubject==null){var n=yr(),a=yr(),i=e[e.length-1];return n.checks.push({type:Me.DESCENDANT,ancestor:i,descendant:a}),ya(e,t,n),e.compoundCount++,a}else if(e.currentSubject===t){var s=yr(),u=e[e.length-1],f=yr(),c=yr(),d=yr(),v=yr();return s.checks.push({type:Me.COMPOUND_SPLIT,left:u,right:f,subject:c}),c.checks=t.checks,t.checks=[{type:Me.TRUE}],v.checks.push({type:Me.TRUE}),f.checks.push({type:Me.ANCESTOR,ancestor:v,descendant:d}),ya(e,u,s),e.currentSubject=c,e.compoundCount++,d}else{var p=yr(),g=yr(),y=[{type:Me.ANCESTOR,ancestor:p,descendant:g}];return p.checks=t.checks,t.checks=y,e.compoundCount++,g}}},{name:"subject",modifier:!0,regex:fr.subject,populate:function(e,t){if(e.currentSubject!=null&&e.currentSubject!==t)return pr("Redefinition of subject in selector `"+e.toString()+"`"),!1;e.currentSubject=t;var n=e[e.length-1],a=n.checks[0],i=a==null?null:a.type;i===Me.DIRECTED_EDGE?a.type=Me.NODE_TARGET:i===Me.UNDIRECTED_EDGE&&(a.type=Me.NODE_NEIGHBOR,a.node=a.nodes[1],a.neighbor=a.nodes[0],a.nodes=null)}}];s0.forEach(function(r){return r.regexObj=new RegExp("^"+r.regex)});var wL=function(e){for(var t,n,a,i=0;i<s0.length;i++){var s=s0[i],u=s.name,f=e.match(s.regexObj);if(f!=null){n=f,t=s,a=u;var c=f[0];e=e.substring(c.length);break}}return{expr:t,match:n,name:a,remaining:e}},bL=function(e){var t=e.match(/^\s+/);if(t){var n=t[0];e=e.substring(n.length)}return e},xL=function(e){var t=this,n=t.inputText=e,a=t[0]=yr();for(t.length=1,n=bL(n);;){var i=wL(n);if(i.expr==null)return pr("The selector `"+e+"`is invalid"),!1;var s=i.match.slice(1),u=i.expr.populate(t,a,s);if(u===!1)return!1;if(u!=null&&(a=u),n=i.remaining,n.match(/^\s*$/))break}var f=t[t.length-1];t.currentSubject!=null&&(f.subject=t.currentSubject),f.edgeCount=t.edgeCount,f.compoundCount=t.compoundCount;for(var c=0;c<t.length;c++){var d=t[c];if(d.compoundCount>0&&d.edgeCount>0)return pr("The selector `"+e+"` is invalid because it uses both a compound selector and an edge selector"),!1;if(d.edgeCount>1)return pr("The selector `"+e+"` is invalid because it uses multiple edge selectors"),!1;d.edgeCount===1&&pr("The selector `"+e+"` is deprecated.  Edge selectors do not take effect on changes to source and target nodes after an edge is added, for performance reasons.  Use a class or data selector on edges instead, updating the class or data of an edge when your app detects a change in source or target nodes.")}return!0},EL=function(){if(this.toStringCache!=null)return this.toStringCache;for(var e=function(d){return d??""},t=function(d){return je(d)?'"'+d+'"':e(d)},n=function(d){return" "+d+" "},a=function(d,v){var p=d.type,g=d.value;switch(p){case Me.GROUP:{var y=e(g);return y.substring(0,y.length-1)}case Me.DATA_COMPARE:{var x=d.field,w=d.operator;return"["+x+n(e(w))+t(g)+"]"}case Me.DATA_BOOL:{var b=d.operator,E=d.field;return"["+e(b)+E+"]"}case Me.DATA_EXIST:{var S=d.field;return"["+S+"]"}case Me.META_COMPARE:{var T=d.operator,R=d.field;return"[["+R+n(e(T))+t(g)+"]]"}case Me.STATE:return g;case Me.ID:return"#"+g;case Me.CLASS:return"."+g;case Me.PARENT:case Me.CHILD:return i(d.parent,v)+n(">")+i(d.child,v);case Me.ANCESTOR:case Me.DESCENDANT:return i(d.ancestor,v)+" "+i(d.descendant,v);case Me.COMPOUND_SPLIT:{var A=i(d.left,v),k=i(d.subject,v),P=i(d.right,v);return A+(A.length>0?" ":"")+k+P}case Me.TRUE:return""}},i=function(d,v){return d.checks.reduce(function(p,g,y){return p+(v===d&&y===0?"$":"")+a(g,v)},"")},s="",u=0;u<this.length;u++){var f=this[u];s+=i(f,f.subject),this.length>1&&u<this.length-1&&(s+=", ")}return this.toStringCache=s,s},SL={parse:xL,toString:EL},AR=function(e,t,n){var a,i=je(e),s=Te(e),u=je(n),f,c,d=!1,v=!1,p=!1;switch(t.indexOf("!")>=0&&(t=t.replace("!",""),v=!0),t.indexOf("@")>=0&&(t=t.replace("@",""),d=!0),(i||u||d)&&(f=!i&&!s?"":""+e,c=""+n),d&&(e=f=f.toLowerCase(),n=c=c.toLowerCase()),t){case"*=":a=f.indexOf(c)>=0;break;case"$=":a=f.indexOf(c,f.length-c.length)>=0;break;case"^=":a=f.indexOf(c)===0;break;case"=":a=e===n;break;case">":p=!0,a=e>n;break;case">=":p=!0,a=e>=n;break;case"<":p=!0,a=e<n;break;case"<=":p=!0,a=e<=n;break;default:a=!1;break}return v&&(e!=null||!p)&&(a=!a),a},CL=function(e,t){switch(t){case"?":return!!e;case"!":return!e;case"^":return e===void 0}},TL=function(e){return e!==void 0},N0=function(e,t){return e.data(t)},_L=function(e,t){return e[t]()},zr=[],_r=function(e,t){return e.checks.every(function(n){return zr[n.type](n,t)})};zr[Me.GROUP]=function(r,e){var t=r.value;return t==="*"||t===e.group()};zr[Me.STATE]=function(r,e){var t=r.value;return yL(t,e)};zr[Me.ID]=function(r,e){var t=r.value;return e.id()===t};zr[Me.CLASS]=function(r,e){var t=r.value;return e.hasClass(t)};zr[Me.META_COMPARE]=function(r,e){var t=r.field,n=r.operator,a=r.value;return AR(_L(e,t),n,a)};zr[Me.DATA_COMPARE]=function(r,e){var t=r.field,n=r.operator,a=r.value;return AR(N0(e,t),n,a)};zr[Me.DATA_BOOL]=function(r,e){var t=r.field,n=r.operator;return CL(N0(e,t),n)};zr[Me.DATA_EXIST]=function(r,e){var t=r.field;return r.operator,TL(N0(e,t))};zr[Me.UNDIRECTED_EDGE]=function(r,e){var t=r.nodes[0],n=r.nodes[1],a=e.source(),i=e.target();return _r(t,a)&&_r(n,i)||_r(n,a)&&_r(t,i)};zr[Me.NODE_NEIGHBOR]=function(r,e){return _r(r.node,e)&&e.neighborhood().some(function(t){return t.isNode()&&_r(r.neighbor,t)})};zr[Me.DIRECTED_EDGE]=function(r,e){return _r(r.source,e.source())&&_r(r.target,e.target())};zr[Me.NODE_SOURCE]=function(r,e){return _r(r.source,e)&&e.outgoers().some(function(t){return t.isNode()&&_r(r.target,t)})};zr[Me.NODE_TARGET]=function(r,e){return _r(r.target,e)&&e.incomers().some(function(t){return t.isNode()&&_r(r.source,t)})};zr[Me.CHILD]=function(r,e){return _r(r.child,e)&&_r(r.parent,e.parent())};zr[Me.PARENT]=function(r,e){return _r(r.parent,e)&&e.children().some(function(t){return _r(r.child,t)})};zr[Me.DESCENDANT]=function(r,e){return _r(r.descendant,e)&&e.ancestors().some(function(t){return _r(r.ancestor,t)})};zr[Me.ANCESTOR]=function(r,e){return _r(r.ancestor,e)&&e.descendants().some(function(t){return _r(r.descendant,t)})};zr[Me.COMPOUND_SPLIT]=function(r,e){return _r(r.subject,e)&&_r(r.left,e)&&_r(r.right,e)};zr[Me.TRUE]=function(){return!0};zr[Me.COLLECTION]=function(r,e){var t=r.value;return t.has(e)};zr[Me.FILTER]=function(r,e){var t=r.value;return t(e)};var kL=function(e){var t=this;if(t.length===1&&t[0].checks.length===1&&t[0].checks[0].type===Me.ID)return e.getElementById(t[0].checks[0].value).collection();var n=function(i){for(var s=0;s<t.length;s++){var u=t[s];if(_r(u,i))return!0}return!1};return t.text()==null&&(n=function(){return!0}),e.filter(n)},RL=function(e){for(var t=this,n=0;n<t.length;n++){var a=t[n];if(_r(a,e))return!0}return!1},AL={matches:RL,filter:kL},ka=function(e){this.inputText=e,this.currentSubject=null,this.compoundCount=0,this.edgeCount=0,this.length=0,e==null||je(e)&&e.match(/^\s*$/)||(Wt(e)?this.addQuery({checks:[{type:Me.COLLECTION,value:e.collection()}]}):qr(e)?this.addQuery({checks:[{type:Me.FILTER,value:e}]}):je(e)?this.parse(e)||(this.invalid=!0):Pr("A selector must be created from a string; found "))},Ra=ka.prototype;[SL,AL].forEach(function(r){return Ke(Ra,r)});Ra.text=function(){return this.inputText};Ra.size=function(){return this.length};Ra.eq=function(r){return this[r]};Ra.sameText=function(r){return!this.invalid&&!r.invalid&&this.text()===r.text()};Ra.addQuery=function(r){this[this.length++]=r};Ra.selector=Ra.toString;var Ea={allAre:function(e){var t=new ka(e);return this.every(function(n){return t.matches(n)})},is:function(e){var t=new ka(e);return this.some(function(n){return t.matches(n)})},some:function(e,t){for(var n=0;n<this.length;n++){var a=t?e.apply(t,[this[n],n,this]):e(this[n],n,this);if(a)return!0}return!1},every:function(e,t){for(var n=0;n<this.length;n++){var a=t?e.apply(t,[this[n],n,this]):e(this[n],n,this);if(!a)return!1}return!0},same:function(e){if(this===e)return!0;e=this.cy().collection(e);var t=this.length,n=e.length;return t!==n?!1:t===1?this[0]===e[0]:this.every(function(a){return e.hasElementWithId(a.id())})},anySame:function(e){return e=this.cy().collection(e),this.some(function(t){return e.hasElementWithId(t.id())})},allAreNeighbors:function(e){e=this.cy().collection(e);var t=this.neighborhood();return e.every(function(n){return t.hasElementWithId(n.id())})},contains:function(e){e=this.cy().collection(e);var t=this;return e.every(function(n){return t.hasElementWithId(n.id())})}};Ea.allAreNeighbours=Ea.allAreNeighbors;Ea.has=Ea.contains;Ea.equal=Ea.equals=Ea.same;var tn=function(e,t){return function(a,i,s,u){var f=a,c=this,d;if(f==null?d="":Wt(f)&&f.length===1&&(d=f.id()),c.length===1&&d){var v=c[0]._private,p=v.traversalCache=v.traversalCache||{},g=p[t]=p[t]||[],y=ii(d),x=g[y];return x||(g[y]=e.call(c,a,i,s,u))}else return e.call(c,a,i,s,u)}},oo={parent:function(e){var t=[];if(this.length===1){var n=this[0]._private.parent;if(n)return n}for(var a=0;a<this.length;a++){var i=this[a],s=i._private.parent;s&&t.push(s)}return this.spawn(t,!0).filter(e)},parents:function(e){for(var t=[],n=this.parent();n.nonempty();){for(var a=0;a<n.length;a++){var i=n[a];t.push(i)}n=n.parent()}return this.spawn(t,!0).filter(e)},commonAncestors:function(e){for(var t,n=0;n<this.length;n++){var a=this[n],i=a.parents();t=t||i,t=t.intersect(i)}return t.filter(e)},orphans:function(e){return this.stdFilter(function(t){return t.isOrphan()}).filter(e)},nonorphans:function(e){return this.stdFilter(function(t){return t.isChild()}).filter(e)},children:tn(function(r){for(var e=[],t=0;t<this.length;t++)for(var n=this[t],a=n._private.children,i=0;i<a.length;i++)e.push(a[i]);return this.spawn(e,!0).filter(r)},"children"),siblings:function(e){return this.parent().children().not(this).filter(e)},isParent:function(){var e=this[0];if(e)return e.isNode()&&e._private.children.length!==0},isChildless:function(){var e=this[0];if(e)return e.isNode()&&e._private.children.length===0},isChild:function(){var e=this[0];if(e)return e.isNode()&&e._private.parent!=null},isOrphan:function(){var e=this[0];if(e)return e.isNode()&&e._private.parent==null},descendants:function(e){var t=[];function n(a){for(var i=0;i<a.length;i++){var s=a[i];t.push(s),s.children().nonempty()&&n(s.children())}}return n(this.children()),this.spawn(t,!0).filter(e)}};function L0(r,e,t,n){for(var a=[],i=new so,s=r.cy(),u=s.hasCompoundNodes(),f=0;f<r.length;f++){var c=r[f];t?a.push(c):u&&n(a,i,c)}for(;a.length>0;){var d=a.shift();e(d),i.add(d.id()),u&&n(a,i,d)}return r}function PR(r,e,t){if(t.isParent())for(var n=t._private.children,a=0;a<n.length;a++){var i=n[a];e.has(i.id())||r.push(i)}}oo.forEachDown=function(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return L0(this,r,e,PR)};function DR(r,e,t){if(t.isChild()){var n=t._private.parent;e.has(n.id())||r.push(n)}}oo.forEachUp=function(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return L0(this,r,e,DR)};function PL(r,e,t){DR(r,e,t),PR(r,e,t)}oo.forEachUpAndDown=function(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return L0(this,r,e,PL)};oo.ancestors=oo.parents;var Ss,IR;Ss=IR={data:hr.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),removeData:hr.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),scratch:hr.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:hr.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),rscratch:hr.data({field:"rscratch",allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!0}),removeRscratch:hr.removeData({field:"rscratch",triggerEvent:!1}),id:function(){var e=this[0];if(e)return e._private.data.id}};Ss.attr=Ss.data;Ss.removeAttr=Ss.removeData;var DL=IR,jl={};function Cv(r){return function(e){var t=this;if(e===void 0&&(e=!0),t.length!==0)if(t.isNode()&&!t.removed()){for(var n=0,a=t[0],i=a._private.edges,s=0;s<i.length;s++){var u=i[s];!e&&u.isLoop()||(n+=r(a,u))}return n}else return}}Ke(jl,{degree:Cv(function(r,e){return e.source().same(e.target())?2:1}),indegree:Cv(function(r,e){return e.target().same(r)?1:0}),outdegree:Cv(function(r,e){return e.source().same(r)?1:0})});function Ui(r,e){return function(t){for(var n,a=this.nodes(),i=0;i<a.length;i++){var s=a[i],u=s[r](t);u!==void 0&&(n===void 0||e(u,n))&&(n=u)}return n}}Ke(jl,{minDegree:Ui("degree",function(r,e){return r<e}),maxDegree:Ui("degree",function(r,e){return r>e}),minIndegree:Ui("indegree",function(r,e){return r<e}),maxIndegree:Ui("indegree",function(r,e){return r>e}),minOutdegree:Ui("outdegree",function(r,e){return r<e}),maxOutdegree:Ui("outdegree",function(r,e){return r>e})});Ke(jl,{totalDegree:function(e){for(var t=0,n=this.nodes(),a=0;a<n.length;a++)t+=n[a].degree(e);return t}});var hn,MR,OR=function(e,t,n){for(var a=0;a<e.length;a++){var i=e[a];if(!i.locked()){var s=i._private.position,u={x:t.x!=null?t.x-s.x:0,y:t.y!=null?t.y-s.y:0};i.isParent()&&!(u.x===0&&u.y===0)&&i.children().shift(u,n),i.dirtyBoundingBoxCache()}}},_E={field:"position",bindingEvent:"position",allowBinding:!0,allowSetting:!0,settingEvent:"position",settingTriggersEvent:!0,triggerFnName:"emitAndNotify",allowGetting:!0,validKeys:["x","y"],beforeGet:function(e){e.updateCompoundBounds()},beforeSet:function(e,t){OR(e,t,!1)},onSet:function(e){e.dirtyCompoundBoundsCache()},canSet:function(e){return!e.locked()}};hn=MR={position:hr.data(_E),silentPosition:hr.data(Ke({},_E,{allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!1,beforeSet:function(e,t){OR(e,t,!0)},onSet:function(e){e.dirtyCompoundBoundsCache()}})),positions:function(e,t){if(cr(e))t?this.silentPosition(e):this.position(e);else if(qr(e)){var n=e,a=this.cy();a.startBatch();for(var i=0;i<this.length;i++){var s=this[i],u=void 0;(u=n(s,i))&&(t?s.silentPosition(u):s.position(u))}a.endBatch()}return this},silentPositions:function(e){return this.positions(e,!0)},shift:function(e,t,n){var a;if(cr(e)?(a={x:Te(e.x)?e.x:0,y:Te(e.y)?e.y:0},n=t):je(e)&&Te(t)&&(a={x:0,y:0},a[e]=t),a!=null){var i=this.cy();i.startBatch();for(var s=0;s<this.length;s++){var u=this[s];if(!(i.hasCompoundNodes()&&u.isChild()&&u.ancestors().anySame(this))){var f=u.position(),c={x:f.x+a.x,y:f.y+a.y};n?u.silentPosition(c):u.position(c)}}i.endBatch()}return this},silentShift:function(e,t){return cr(e)?this.shift(e,!0):je(e)&&Te(t)&&this.shift(e,t,!0),this},renderedPosition:function(e,t){var n=this[0],a=this.cy(),i=a.zoom(),s=a.pan(),u=cr(e)?e:void 0,f=u!==void 0||t!==void 0&&je(e);if(n&&n.isNode())if(f)for(var c=0;c<this.length;c++){var d=this[c];t!==void 0?d.position(e,(t-s[e])/i):u!==void 0&&d.position(uR(u,i,s))}else{var v=n.position();return u=Fl(v,i,s),e===void 0?u:u[e]}else if(!f)return;return this},relativePosition:function(e,t){var n=this[0],a=this.cy(),i=cr(e)?e:void 0,s=i!==void 0||t!==void 0&&je(e),u=a.hasCompoundNodes();if(n&&n.isNode())if(s)for(var f=0;f<this.length;f++){var c=this[f],d=u?c.parent():null,v=d&&d.length>0,p=v;v&&(d=d[0]);var g=p?d.position():{x:0,y:0};t!==void 0?c.position(e,t+g[e]):i!==void 0&&c.position({x:i.x+g.x,y:i.y+g.y})}else{var y=n.position(),x=u?n.parent():null,w=x&&x.length>0,b=w;w&&(x=x[0]);var E=b?x.position():{x:0,y:0};return i={x:y.x-E.x,y:y.y-E.y},e===void 0?i:i[e]}else if(!s)return;return this}};hn.modelPosition=hn.point=hn.position;hn.modelPositions=hn.points=hn.positions;hn.renderedPoint=hn.renderedPosition;hn.relativePoint=hn.relativePosition;var IL=MR,no,Ma;no=Ma={};Ma.renderedBoundingBox=function(r){var e=this.boundingBox(r),t=this.cy(),n=t.zoom(),a=t.pan(),i=e.x1*n+a.x,s=e.x2*n+a.x,u=e.y1*n+a.y,f=e.y2*n+a.y;return{x1:i,x2:s,y1:u,y2:f,w:s-i,h:f-u}};Ma.dirtyCompoundBoundsCache=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,e=this.cy();return!e.styleEnabled()||!e.hasCompoundNodes()?this:(this.forEachUp(function(t){if(t.isParent()){var n=t._private;n.compoundBoundsClean=!1,n.bbCache=null,r||t.emitAndNotify("bounds")}}),this)};Ma.updateCompoundBounds=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,e=this.cy();if(!e.styleEnabled()||!e.hasCompoundNodes())return this;if(!r&&e.batching())return this;function t(s){if(!s.isParent())return;var u=s._private,f=s.children(),c=s.pstyle("compound-sizing-wrt-labels").value==="include",d={width:{val:s.pstyle("min-width").pfValue,left:s.pstyle("min-width-bias-left"),right:s.pstyle("min-width-bias-right")},height:{val:s.pstyle("min-height").pfValue,top:s.pstyle("min-height-bias-top"),bottom:s.pstyle("min-height-bias-bottom")}},v=f.boundingBox({includeLabels:c,includeOverlays:!1,useCache:!1}),p=u.position;(v.w===0||v.h===0)&&(v={w:s.pstyle("width").pfValue,h:s.pstyle("height").pfValue},v.x1=p.x-v.w/2,v.x2=p.x+v.w/2,v.y1=p.y-v.h/2,v.y2=p.y+v.h/2);function g(D,I,M){var L=0,N=0,z=I+M;return D>0&&z>0&&(L=I/z*D,N=M/z*D),{biasDiff:L,biasComplementDiff:N}}function y(D,I,M,L){if(M.units==="%")switch(L){case"width":return D>0?M.pfValue*D:0;case"height":return I>0?M.pfValue*I:0;case"average":return D>0&&I>0?M.pfValue*(D+I)/2:0;case"min":return D>0&&I>0?D>I?M.pfValue*I:M.pfValue*D:0;case"max":return D>0&&I>0?D>I?M.pfValue*D:M.pfValue*I:0;default:return 0}else return M.units==="px"?M.pfValue:0}var x=d.width.left.value;d.width.left.units==="px"&&d.width.val>0&&(x=x*100/d.width.val);var w=d.width.right.value;d.width.right.units==="px"&&d.width.val>0&&(w=w*100/d.width.val);var b=d.height.top.value;d.height.top.units==="px"&&d.height.val>0&&(b=b*100/d.height.val);var E=d.height.bottom.value;d.height.bottom.units==="px"&&d.height.val>0&&(E=E*100/d.height.val);var S=g(d.width.val-v.w,x,w),T=S.biasDiff,R=S.biasComplementDiff,A=g(d.height.val-v.h,b,E),k=A.biasDiff,P=A.biasComplementDiff;u.autoPadding=y(v.w,v.h,s.pstyle("padding"),s.pstyle("padding-relative-to").value),u.autoWidth=Math.max(v.w,d.width.val),p.x=(-T+v.x1+v.x2+R)/2,u.autoHeight=Math.max(v.h,d.height.val),p.y=(-k+v.y1+v.y2+P)/2}for(var n=0;n<this.length;n++){var a=this[n],i=a._private;(!i.compoundBoundsClean||r)&&(t(a),e.batching()||(i.compoundBoundsClean=!0))}return this};var rn=function(e){return e===1/0||e===-1/0?0:e},vn=function(e,t,n,a,i){a-t===0||i-n===0||t==null||n==null||a==null||i==null||(e.x1=t<e.x1?t:e.x1,e.x2=a>e.x2?a:e.x2,e.y1=n<e.y1?n:e.y1,e.y2=i>e.y2?i:e.y2,e.w=e.x2-e.x1,e.h=e.y2-e.y1)},ma=function(e,t){return t==null?e:vn(e,t.x1,t.y1,t.x2,t.y2)},ns=function(e,t,n){return Lt(e,t,n)},tl=function(e,t,n){if(!t.cy().headless()){var a=t._private,i=a.rstyle,s=i.arrowWidth/2,u=t.pstyle(n+"-arrow-shape").value,f,c;if(u!=="none"){n==="source"?(f=i.srcX,c=i.srcY):n==="target"?(f=i.tgtX,c=i.tgtY):(f=i.midX,c=i.midY);var d=a.arrowBounds=a.arrowBounds||{},v=d[n]=d[n]||{};v.x1=f-s,v.y1=c-s,v.x2=f+s,v.y2=c+s,v.w=v.x2-v.x1,v.h=v.y2-v.y1,fl(v,1),vn(e,v.x1,v.y1,v.x2,v.y2)}}},Tv=function(e,t,n){if(!t.cy().headless()){var a;n?a=n+"-":a="";var i=t._private,s=i.rstyle,u=t.pstyle(a+"label").strValue;if(u){var f=t.pstyle("text-halign"),c=t.pstyle("text-valign"),d=ns(s,"labelWidth",n),v=ns(s,"labelHeight",n),p=ns(s,"labelX",n),g=ns(s,"labelY",n),y=t.pstyle(a+"text-margin-x").pfValue,x=t.pstyle(a+"text-margin-y").pfValue,w=t.isEdge(),b=t.pstyle(a+"text-rotation"),E=t.pstyle("text-outline-width").pfValue,S=t.pstyle("text-border-width").pfValue,T=S/2,R=t.pstyle("text-background-padding").pfValue,A=2,k=v,P=d,D=P/2,I=k/2,M,L,N,z;if(w)M=p-D,L=p+D,N=g-I,z=g+I;else{switch(f.value){case"left":M=p-P,L=p;break;case"center":M=p-D,L=p+D;break;case"right":M=p,L=p+P;break}switch(c.value){case"top":N=g-k,z=g;break;case"center":N=g-I,z=g+I;break;case"bottom":N=g,z=g+k;break}}var G=y-Math.max(E,T)-R-A,H=y+Math.max(E,T)+R+A,U=x-Math.max(E,T)-R-A,F=x+Math.max(E,T)+R+A;M+=G,L+=H,N+=U,z+=F;var X=n||"main",K=i.labelBounds,B=K[X]=K[X]||{};B.x1=M,B.y1=N,B.x2=L,B.y2=z,B.w=L-M,B.h=z-N,B.leftPad=G,B.rightPad=H,B.topPad=U,B.botPad=F;var V=w&&b.strValue==="autorotate",te=b.pfValue!=null&&b.pfValue!==0;if(V||te){var $=V?ns(i.rstyle,"labelAngle",n):b.pfValue,j=Math.cos($),Y=Math.sin($),ee=(M+L)/2,le=(N+z)/2;if(!w){switch(f.value){case"left":ee=L;break;case"right":ee=M;break}switch(c.value){case"top":le=z;break;case"bottom":le=N;break}}var ie=function(Se,Ve){return Se=Se-ee,Ve=Ve-le,{x:Se*j-Ve*Y+ee,y:Se*Y+Ve*j+le}},Q=ie(M,N),re=ie(M,z),se=ie(L,N),ce=ie(L,z);M=Math.min(Q.x,re.x,se.x,ce.x),L=Math.max(Q.x,re.x,se.x,ce.x),N=Math.min(Q.y,re.y,se.y,ce.y),z=Math.max(Q.y,re.y,se.y,ce.y)}var me=X+"Rot",xe=K[me]=K[me]||{};xe.x1=M,xe.y1=N,xe.x2=L,xe.y2=z,xe.w=L-M,xe.h=z-N,vn(e,M,N,L,z),vn(i.labelBounds.all,M,N,L,z)}return e}},kE=function(e,t){if(!t.cy().headless()){var n=t.pstyle("outline-opacity").value,a=t.pstyle("outline-width").value,i=t.pstyle("outline-offset").value,s=a+i;NR(e,t,n,s,"outside",s/2)}},NR=function(e,t,n,a,i,s){if(!(n===0||a<=0||i==="inside")){var u=t.cy(),f=t.pstyle("shape").value,c=u.renderer().nodeShapes[f],d=t.position(),v=d.x,p=d.y,g=t.width(),y=t.height();if(c.hasMiterBounds){i==="center"&&(a/=2);var x=c.miterBounds(v,p,g,y,a);ma(e,x)}else s!=null&&s>0&&cl(e,[s,s,s,s])}},ML=function(e,t){if(!t.cy().headless()){var n=t.pstyle("border-opacity").value,a=t.pstyle("border-width").pfValue,i=t.pstyle("border-position").value;NR(e,t,n,a,i)}},OL=function(e,t){var n=e._private.cy,a=n.styleEnabled(),i=n.headless(),s=Rt(),u=e._private,f=e.isNode(),c=e.isEdge(),d,v,p,g,y,x,w=u.rstyle,b=f&&a?e.pstyle("bounds-expansion").pfValue:[0],E=function(Ze){return Ze.pstyle("display").value!=="none"},S=!a||E(e)&&(!c||E(e.source())&&E(e.target()));if(S){var T=0,R=0;a&&t.includeOverlays&&(T=e.pstyle("overlay-opacity").value,T!==0&&(R=e.pstyle("overlay-padding").value));var A=0,k=0;a&&t.includeUnderlays&&(A=e.pstyle("underlay-opacity").value,A!==0&&(k=e.pstyle("underlay-padding").value));var P=Math.max(R,k),D=0,I=0;if(a&&(D=e.pstyle("width").pfValue,I=D/2),f&&t.includeNodes){var M=e.position();y=M.x,x=M.y;var L=e.outerWidth(),N=L/2,z=e.outerHeight(),G=z/2;d=y-N,v=y+N,p=x-G,g=x+G,vn(s,d,p,v,g),a&&kE(s,e),a&&t.includeOutlines&&!i&&kE(s,e),a&&ML(s,e)}else if(c&&t.includeEdges)if(a&&!i){var H=e.pstyle("curve-style").strValue;if(d=Math.min(w.srcX,w.midX,w.tgtX),v=Math.max(w.srcX,w.midX,w.tgtX),p=Math.min(w.srcY,w.midY,w.tgtY),g=Math.max(w.srcY,w.midY,w.tgtY),d-=I,v+=I,p-=I,g+=I,vn(s,d,p,v,g),H==="haystack"){var U=w.haystackPts;if(U&&U.length===2){if(d=U[0].x,p=U[0].y,v=U[1].x,g=U[1].y,d>v){var F=d;d=v,v=F}if(p>g){var X=p;p=g,g=X}vn(s,d-I,p-I,v+I,g+I)}}else if(H==="bezier"||H==="unbundled-bezier"||wa(H,"segments")||wa(H,"taxi")){var K;switch(H){case"bezier":case"unbundled-bezier":K=w.bezierPts;break;case"segments":case"taxi":case"round-segments":case"round-taxi":K=w.linePts;break}if(K!=null)for(var B=0;B<K.length;B++){var V=K[B];d=V.x-I,v=V.x+I,p=V.y-I,g=V.y+I,vn(s,d,p,v,g)}}}else{var te=e.source(),$=te.position(),j=e.target(),Y=j.position();if(d=$.x,v=Y.x,p=$.y,g=Y.y,d>v){var ee=d;d=v,v=ee}if(p>g){var le=p;p=g,g=le}d-=I,v+=I,p-=I,g+=I,vn(s,d,p,v,g)}if(a&&t.includeEdges&&c&&(tl(s,e,"mid-source"),tl(s,e,"mid-target"),tl(s,e,"source"),tl(s,e,"target")),a){var ie=e.pstyle("ghost").value==="yes";if(ie){var Q=e.pstyle("ghost-offset-x").pfValue,re=e.pstyle("ghost-offset-y").pfValue;vn(s,s.x1+Q,s.y1+re,s.x2+Q,s.y2+re)}}var se=u.bodyBounds=u.bodyBounds||{};dx(se,s),cl(se,b),fl(se,1),a&&(d=s.x1,v=s.x2,p=s.y1,g=s.y2,vn(s,d-P,p-P,v+P,g+P));var ce=u.overlayBounds=u.overlayBounds||{};dx(ce,s),cl(ce,b),fl(ce,1);var me=u.labelBounds=u.labelBounds||{};me.all!=null?pO(me.all):me.all=Rt(),a&&t.includeLabels&&(t.includeMainLabels&&Tv(s,e,null),c&&(t.includeSourceLabels&&Tv(s,e,"source"),t.includeTargetLabels&&Tv(s,e,"target")))}return s.x1=rn(s.x1),s.y1=rn(s.y1),s.x2=rn(s.x2),s.y2=rn(s.y2),s.w=rn(s.x2-s.x1),s.h=rn(s.y2-s.y1),s.w>0&&s.h>0&&S&&(cl(s,b),fl(s,1)),s},LR=function(e){var t=0,n=function(s){return(s?1:0)<<t++},a=0;return a+=n(e.incudeNodes),a+=n(e.includeEdges),a+=n(e.includeLabels),a+=n(e.includeMainLabels),a+=n(e.includeSourceLabels),a+=n(e.includeTargetLabels),a+=n(e.includeOverlays),a+=n(e.includeOutlines),a},BR=function(e){var t=function(u){return Math.round(u)};if(e.isEdge()){var n=e.source().position(),a=e.target().position();return ox([t(n.x),t(n.y),t(a.x),t(a.y)])}else{var i=e.position();return ox([t(i.x),t(i.y)])}},RE=function(e,t){var n=e._private,a,i=e.isEdge(),s=t==null?AE:LR(t),u=s===AE;if(n.bbCache==null?(a=OL(e,Cs),n.bbCache=a,n.bbCachePosKey=BR(e)):a=n.bbCache,!u){var f=e.isNode();a=Rt(),(t.includeNodes&&f||t.includeEdges&&!f)&&(t.includeOverlays?ma(a,n.overlayBounds):ma(a,n.bodyBounds)),t.includeLabels&&(t.includeMainLabels&&(!i||t.includeSourceLabels&&t.includeTargetLabels)?ma(a,n.labelBounds.all):(t.includeMainLabels&&ma(a,n.labelBounds.mainRot),t.includeSourceLabels&&ma(a,n.labelBounds.sourceRot),t.includeTargetLabels&&ma(a,n.labelBounds.targetRot))),a.w=a.x2-a.x1,a.h=a.y2-a.y1}return a},Cs={includeNodes:!0,includeEdges:!0,includeLabels:!0,includeMainLabels:!0,includeSourceLabels:!0,includeTargetLabels:!0,includeOverlays:!0,includeUnderlays:!0,includeOutlines:!0,useCache:!0},AE=LR(Cs),PE=dt(Cs);Ma.boundingBox=function(r){var e,t=r===void 0||r.useCache===void 0||r.useCache===!0,n=ao(function(d){var v=d._private;return v.bbCache==null||v.styleDirty||v.bbCachePosKey!==BR(d)},function(d){return d.id()});if(t&&this.length===1&&!n(this[0]))r===void 0?r=Cs:r=PE(r),e=RE(this[0],r);else{e=Rt(),r=r||Cs;var a=PE(r),i=this,s=i.cy(),u=s.styleEnabled();this.edges().forEach(n),this.nodes().forEach(n),u&&this.recalculateRenderedStyle(t),this.updateCompoundBounds(!t);for(var f=0;f<i.length;f++){var c=i[f];n(c)&&c.dirtyBoundingBoxCache(),ma(e,RE(c,a))}}return e.x1=rn(e.x1),e.y1=rn(e.y1),e.x2=rn(e.x2),e.y2=rn(e.y2),e.w=rn(e.x2-e.x1),e.h=rn(e.y2-e.y1),e};Ma.dirtyBoundingBoxCache=function(){for(var r=0;r<this.length;r++){var e=this[r]._private;e.bbCache=null,e.bbCachePosKey=null,e.bodyBounds=null,e.overlayBounds=null,e.labelBounds.all=null,e.labelBounds.source=null,e.labelBounds.target=null,e.labelBounds.main=null,e.labelBounds.sourceRot=null,e.labelBounds.targetRot=null,e.labelBounds.mainRot=null,e.arrowBounds.source=null,e.arrowBounds.target=null,e.arrowBounds["mid-source"]=null,e.arrowBounds["mid-target"]=null}return this.emitAndNotify("bounds"),this};Ma.boundingBoxAt=function(r){var e=this.nodes(),t=this.cy(),n=t.hasCompoundNodes(),a=t.collection();if(n&&(a=e.filter(function(c){return c.isParent()}),e=e.not(a)),cr(r)){var i=r;r=function(){return i}}var s=function(d,v){return d._private.bbAtOldPos=r(d,v)},u=function(d){return d._private.bbAtOldPos};t.startBatch(),e.forEach(s).silentPositions(r),n&&(a.dirtyCompoundBoundsCache(),a.dirtyBoundingBoxCache(),a.updateCompoundBounds(!0));var f=hO(this.boundingBox({useCache:!1}));return e.silentPositions(u),n&&(a.dirtyCompoundBoundsCache(),a.dirtyBoundingBoxCache(),a.updateCompoundBounds(!0)),t.endBatch(),f};no.boundingbox=no.bb=no.boundingBox;no.renderedBoundingbox=no.renderedBoundingBox;var NL=Ma,fs,Ns;fs=Ns={};var qR=function(e){e.uppercaseName=jb(e.name),e.autoName="auto"+e.uppercaseName,e.labelName="label"+e.uppercaseName,e.outerName="outer"+e.uppercaseName,e.uppercaseOuterName=jb(e.outerName),fs[e.name]=function(){var n=this[0],a=n._private,i=a.cy,s=i._private.styleEnabled;if(n)if(s){if(n.isParent())return n.updateCompoundBounds(),a[e.autoName]||0;var u=n.pstyle(e.name);switch(u.strValue){case"label":return n.recalculateRenderedStyle(),a.rstyle[e.labelName]||0;default:return u.pfValue}}else return 1},fs["outer"+e.uppercaseName]=function(){var n=this[0],a=n._private,i=a.cy,s=i._private.styleEnabled;if(n)if(s){var u=n[e.name](),f=n.pstyle("border-position").value,c;f==="center"?c=n.pstyle("border-width").pfValue:f==="outside"?c=2*n.pstyle("border-width").pfValue:c=0;var d=2*n.padding();return u+c+d}else return 1},fs["rendered"+e.uppercaseName]=function(){var n=this[0];if(n){var a=n[e.name]();return a*this.cy().zoom()}},fs["rendered"+e.uppercaseOuterName]=function(){var n=this[0];if(n){var a=n[e.outerName]();return a*this.cy().zoom()}}};qR({name:"width"});qR({name:"height"});Ns.padding=function(){var r=this[0],e=r._private;return r.isParent()?(r.updateCompoundBounds(),e.autoPadding!==void 0?e.autoPadding:r.pstyle("padding").pfValue):r.pstyle("padding").pfValue};Ns.paddedHeight=function(){var r=this[0];return r.height()+2*r.padding()};Ns.paddedWidth=function(){var r=this[0];return r.width()+2*r.padding()};var LL=Ns,BL=function(e,t){if(e.isEdge()&&e.takesUpSpace())return t(e)},qL=function(e,t){if(e.isEdge()&&e.takesUpSpace()){var n=e.cy();return Fl(t(e),n.zoom(),n.pan())}},FL=function(e,t){if(e.isEdge()&&e.takesUpSpace()){var n=e.cy(),a=n.pan(),i=n.zoom();return t(e).map(function(s){return Fl(s,i,a)})}},zL=function(e){return e.renderer().getControlPoints(e)},VL=function(e){return e.renderer().getSegmentPoints(e)},$L=function(e){return e.renderer().getSourceEndpoint(e)},UL=function(e){return e.renderer().getTargetEndpoint(e)},GL=function(e){return e.renderer().getEdgeMidpoint(e)},DE={controlPoints:{get:zL,mult:!0},segmentPoints:{get:VL,mult:!0},sourceEndpoint:{get:$L},targetEndpoint:{get:UL},midpoint:{get:GL}},jL=function(e){return"rendered"+e[0].toUpperCase()+e.substr(1)},HL=Object.keys(DE).reduce(function(r,e){var t=DE[e],n=jL(e);return r[e]=function(){return BL(this,t.get)},t.mult?r[n]=function(){return FL(this,t.get)}:r[n]=function(){return qL(this,t.get)},r},{}),WL=Ke({},IL,NL,LL,HL);/*!
Event object based on jQuery events, MIT license

https://jquery.org/license/
https://tldrlegal.com/license/mit-license
https://github.com/jquery/jquery/blob/master/src/event.js
*/var FR=function(e,t){this.recycle(e,t)};function as(){return!1}function nl(){return!0}FR.prototype={instanceString:function(){return"event"},recycle:function(e,t){if(this.isImmediatePropagationStopped=this.isPropagationStopped=this.isDefaultPrevented=as,e!=null&&e.preventDefault?(this.type=e.type,this.isDefaultPrevented=e.defaultPrevented?nl:as):e!=null&&e.type?t=e:this.type=e,t!=null&&(this.originalEvent=t.originalEvent,this.type=t.type!=null?t.type:this.type,this.cy=t.cy,this.target=t.target,this.position=t.position,this.renderedPosition=t.renderedPosition,this.namespace=t.namespace,this.layout=t.layout),this.cy!=null&&this.position!=null&&this.renderedPosition==null){var n=this.position,a=this.cy.zoom(),i=this.cy.pan();this.renderedPosition={x:n.x*a+i.x,y:n.y*a+i.y}}this.timeStamp=e&&e.timeStamp||Date.now()},preventDefault:function(){this.isDefaultPrevented=nl;var e=this.originalEvent;e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){this.isPropagationStopped=nl;var e=this.originalEvent;e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=nl,this.stopPropagation()},isDefaultPrevented:as,isPropagationStopped:as,isImmediatePropagationStopped:as};var zR=/^([^.]+)(\.(?:[^.]+))?$/,KL=".*",VR={qualifierCompare:function(e,t){return e===t},eventMatches:function(){return!0},addEventFields:function(){},callbackContext:function(e){return e},beforeEmit:function(){},afterEmit:function(){},bubble:function(){return!1},parent:function(){return null},context:null},IE=Object.keys(VR),YL={};function Hl(){for(var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:YL,e=arguments.length>1?arguments[1]:void 0,t=0;t<IE.length;t++){var n=IE[t];this[n]=r[n]||VR[n]}this.context=e||this.context,this.listeners=[],this.emitting=0}var Aa=Hl.prototype,$R=function(e,t,n,a,i,s,u){qr(a)&&(i=a,a=null),u&&(s==null?s=u:s=Ke({},s,u));for(var f=mr(n)?n:n.split(/\s+/),c=0;c<f.length;c++){var d=f[c];if(!Ca(d)){var v=d.match(zR);if(v){var p=v[1],g=v[2]?v[2]:null,y=t(e,d,p,g,a,i,s);if(y===!1)break}}}},ME=function(e,t){return e.addEventFields(e.context,t),new FR(t.type,t)},XL=function(e,t,n){if(tM(n)){t(e,n);return}else if(cr(n)){t(e,ME(e,n));return}for(var a=mr(n)?n:n.split(/\s+/),i=0;i<a.length;i++){var s=a[i];if(!Ca(s)){var u=s.match(zR);if(u){var f=u[1],c=u[2]?u[2]:null,d=ME(e,{type:f,namespace:c,target:e.context});t(e,d)}}}};Aa.on=Aa.addListener=function(r,e,t,n,a){return $R(this,function(i,s,u,f,c,d,v){qr(d)&&i.listeners.push({event:s,callback:d,type:u,namespace:f,qualifier:c,conf:v})},r,e,t,n,a),this};Aa.one=function(r,e,t,n){return this.on(r,e,t,n,{one:!0})};Aa.removeListener=Aa.off=function(r,e,t,n){var a=this;this.emitting!==0&&(this.listeners=qM(this.listeners));for(var i=this.listeners,s=function(c){var d=i[c];$R(a,function(v,p,g,y,x,w){if((d.type===g||r==="*")&&(!y&&d.namespace!==".*"||d.namespace===y)&&(!x||v.qualifierCompare(d.qualifier,x))&&(!w||d.callback===w))return i.splice(c,1),!1},r,e,t,n)},u=i.length-1;u>=0;u--)s(u);return this};Aa.removeAllListeners=function(){return this.removeListener("*")};Aa.emit=Aa.trigger=function(r,e,t){var n=this.listeners,a=n.length;return this.emitting++,mr(e)||(e=[e]),XL(this,function(i,s){t!=null&&(n=[{event:s.event,type:s.type,namespace:s.namespace,callback:t}],a=n.length);for(var u=function(){var d=n[f];if(d.type===s.type&&(!d.namespace||d.namespace===s.namespace||d.namespace===KL)&&i.eventMatches(i.context,d,s)){var v=[s];e!=null&&zM(v,e),i.beforeEmit(i.context,d,s),d.conf&&d.conf.one&&(i.listeners=i.listeners.filter(function(y){return y!==d}));var p=i.callbackContext(i.context,d,s),g=d.callback.apply(p,v);i.afterEmit(i.context,d,s),g===!1&&(s.stopPropagation(),s.preventDefault())}},f=0;f<a;f++)u();i.bubble(i.context)&&!s.isPropagationStopped()&&i.parent(i.context).emit(s,e)},r),this.emitting--,this};var ZL={qualifierCompare:function(e,t){return e==null||t==null?e==null&&t==null:e.sameText(t)},eventMatches:function(e,t,n){var a=t.qualifier;return a!=null?e!==n.target&&As(n.target)&&a.matches(n.target):!0},addEventFields:function(e,t){t.cy=e.cy(),t.target=e},callbackContext:function(e,t,n){return t.qualifier!=null?n.target:e},beforeEmit:function(e,t){t.conf&&t.conf.once&&t.conf.onceCollection.removeListener(t.event,t.qualifier,t.callback)},bubble:function(){return!0},parent:function(e){return e.isChild()?e.parent():e.cy()}},al=function(e){return je(e)?new ka(e):e},UR={createEmitter:function(){for(var e=0;e<this.length;e++){var t=this[e],n=t._private;n.emitter||(n.emitter=new Hl(ZL,t))}return this},emitter:function(){return this._private.emitter},on:function(e,t,n){for(var a=al(t),i=0;i<this.length;i++){var s=this[i];s.emitter().on(e,a,n)}return this},removeListener:function(e,t,n){for(var a=al(t),i=0;i<this.length;i++){var s=this[i];s.emitter().removeListener(e,a,n)}return this},removeAllListeners:function(){for(var e=0;e<this.length;e++){var t=this[e];t.emitter().removeAllListeners()}return this},one:function(e,t,n){for(var a=al(t),i=0;i<this.length;i++){var s=this[i];s.emitter().one(e,a,n)}return this},once:function(e,t,n){for(var a=al(t),i=0;i<this.length;i++){var s=this[i];s.emitter().on(e,a,n,{once:!0,onceCollection:this})}},emit:function(e,t){for(var n=0;n<this.length;n++){var a=this[n];a.emitter().emit(e,t)}return this},emitAndNotify:function(e,t){if(this.length!==0)return this.cy().notify(e,this),this.emit(e,t),this}};hr.eventAliasesOn(UR);var GR={nodes:function(e){return this.filter(function(t){return t.isNode()}).filter(e)},edges:function(e){return this.filter(function(t){return t.isEdge()}).filter(e)},byGroup:function(){for(var e=this.spawn(),t=this.spawn(),n=0;n<this.length;n++){var a=this[n];a.isNode()?e.push(a):t.push(a)}return{nodes:e,edges:t}},filter:function(e,t){if(e===void 0)return this;if(je(e)||Wt(e))return new ka(e).filter(this);if(qr(e)){for(var n=this.spawn(),a=this,i=0;i<a.length;i++){var s=a[i],u=t?e.apply(t,[s,i,a]):e(s,i,a);u&&n.push(s)}return n}return this.spawn()},not:function(e){if(e){je(e)&&(e=this.filter(e));for(var t=this.spawn(),n=0;n<this.length;n++){var a=this[n],i=e.has(a);i||t.push(a)}return t}else return this},absoluteComplement:function(){var e=this.cy();return e.mutableElements().not(this)},intersect:function(e){if(je(e)){var t=e;return this.filter(t)}for(var n=this.spawn(),a=this,i=e,s=this.length<e.length,u=s?a:i,f=s?i:a,c=0;c<u.length;c++){var d=u[c];f.has(d)&&n.push(d)}return n},xor:function(e){var t=this._private.cy;je(e)&&(e=t.$(e));var n=this.spawn(),a=this,i=e,s=function(f,c){for(var d=0;d<f.length;d++){var v=f[d],p=v._private.data.id,g=c.hasElementWithId(p);g||n.push(v)}};return s(a,i),s(i,a),n},diff:function(e){var t=this._private.cy;je(e)&&(e=t.$(e));var n=this.spawn(),a=this.spawn(),i=this.spawn(),s=this,u=e,f=function(d,v,p){for(var g=0;g<d.length;g++){var y=d[g],x=y._private.data.id,w=v.hasElementWithId(x);w?i.merge(y):p.push(y)}};return f(s,u,n),f(u,s,a),{left:n,right:a,both:i}},add:function(e){var t=this._private.cy;if(!e)return this;if(je(e)){var n=e;e=t.mutableElements().filter(n)}for(var a=this.spawnSelf(),i=0;i<e.length;i++){var s=e[i],u=!this.has(s);u&&a.push(s)}return a},merge:function(e){var t=this._private,n=t.cy;if(!e)return this;if(e&&je(e)){var a=e;e=n.mutableElements().filter(a)}for(var i=t.map,s=0;s<e.length;s++){var u=e[s],f=u._private.data.id,c=!i.has(f);if(c){var d=this.length++;this[d]=u,i.set(f,{ele:u,index:d})}}return this},unmergeAt:function(e){var t=this[e],n=t.id(),a=this._private,i=a.map;this[e]=void 0,i.delete(n);var s=e===this.length-1;if(this.length>1&&!s){var u=this.length-1,f=this[u],c=f._private.data.id;this[u]=void 0,this[e]=f,i.set(c,{ele:f,index:e})}return this.length--,this},unmergeOne:function(e){e=e[0];var t=this._private,n=e._private.data.id,a=t.map,i=a.get(n);if(!i)return this;var s=i.index;return this.unmergeAt(s),this},unmerge:function(e){var t=this._private.cy;if(!e)return this;if(e&&je(e)){var n=e;e=t.mutableElements().filter(n)}for(var a=0;a<e.length;a++)this.unmergeOne(e[a]);return this},unmergeBy:function(e){for(var t=this.length-1;t>=0;t--){var n=this[t];e(n)&&this.unmergeAt(t)}return this},map:function(e,t){for(var n=[],a=this,i=0;i<a.length;i++){var s=a[i],u=t?e.apply(t,[s,i,a]):e(s,i,a);n.push(u)}return n},reduce:function(e,t){for(var n=t,a=this,i=0;i<a.length;i++)n=e(n,a[i],i,a);return n},max:function(e,t){for(var n=-1/0,a,i=this,s=0;s<i.length;s++){var u=i[s],f=t?e.apply(t,[u,s,i]):e(u,s,i);f>n&&(n=f,a=u)}return{value:n,ele:a}},min:function(e,t){for(var n=1/0,a,i=this,s=0;s<i.length;s++){var u=i[s],f=t?e.apply(t,[u,s,i]):e(u,s,i);f<n&&(n=f,a=u)}return{value:n,ele:a}}},vr=GR;vr.u=vr["|"]=vr["+"]=vr.union=vr.or=vr.add;vr["\\"]=vr["!"]=vr["-"]=vr.difference=vr.relativeComplement=vr.subtract=vr.not;vr.n=vr["&"]=vr["."]=vr.and=vr.intersection=vr.intersect;vr["^"]=vr["(+)"]=vr["(-)"]=vr.symmetricDifference=vr.symdiff=vr.xor;vr.fnFilter=vr.filterFn=vr.stdFilter=vr.filter;vr.complement=vr.abscomp=vr.absoluteComplement;var QL={isNode:function(){return this.group()==="nodes"},isEdge:function(){return this.group()==="edges"},isLoop:function(){return this.isEdge()&&this.source()[0]===this.target()[0]},isSimple:function(){return this.isEdge()&&this.source()[0]!==this.target()[0]},group:function(){var e=this[0];if(e)return e._private.group}},jR=function(e,t){var n=e.cy(),a=n.hasCompoundNodes();function i(d){var v=d.pstyle("z-compound-depth");return v.value==="auto"?a?d.zDepth():0:v.value==="bottom"?-1:v.value==="top"?T0:0}var s=i(e)-i(t);if(s!==0)return s;function u(d){var v=d.pstyle("z-index-compare");return v.value==="auto"&&d.isNode()?1:0}var f=u(e)-u(t);if(f!==0)return f;var c=e.pstyle("z-index").value-t.pstyle("z-index").value;return c!==0?c:e.poolIndex()-t.poolIndex()},Rl={forEach:function(e,t){if(qr(e))for(var n=this.length,a=0;a<n;a++){var i=this[a],s=t?e.apply(t,[i,a,this]):e(i,a,this);if(s===!1)break}return this},toArray:function(){for(var e=[],t=0;t<this.length;t++)e.push(this[t]);return e},slice:function(e,t){var n=[],a=this.length;t==null&&(t=a),e==null&&(e=0),e<0&&(e=a+e),t<0&&(t=a+t);for(var i=e;i>=0&&i<t&&i<a;i++)n.push(this[i]);return this.spawn(n)},size:function(){return this.length},eq:function(e){return this[e]||this.spawn()},first:function(){return this[0]||this.spawn()},last:function(){return this[this.length-1]||this.spawn()},empty:function(){return this.length===0},nonempty:function(){return!this.empty()},sort:function(e){if(!qr(e))return this;var t=this.toArray().sort(e);return this.spawn(t)},sortByZIndex:function(){return this.sort(jR)},zDepth:function(){var e=this[0];if(e){var t=e._private,n=t.group;if(n==="nodes"){var a=t.data.parent?e.parents().size():0;return e.isParent()?a:T0-1}else{var i=t.source,s=t.target,u=i.zDepth(),f=s.zDepth();return Math.max(u,f,0)}}}};Rl.each=Rl.forEach;var JL=function(){var e="undefined",t=(typeof Symbol>"u"?"undefined":Jr(Symbol))!=e&&Jr(Symbol.iterator)!=e;t&&(Rl[Symbol.iterator]=function(){var n=this,a={value:void 0,done:!1},i=0,s=this.length;return Uk({next:function(){return i<s?a.value=n[i++]:(a.value=void 0,a.done=!0),a}},Symbol.iterator,function(){return this})})};JL();var eB=dt({nodeDimensionsIncludeLabels:!1}),vl={layoutDimensions:function(e){e=eB(e);var t;if(!this.takesUpSpace())t={w:0,h:0};else if(e.nodeDimensionsIncludeLabels){var n=this.boundingBox();t={w:n.w,h:n.h}}else t={w:this.outerWidth(),h:this.outerHeight()};return(t.w===0||t.h===0)&&(t.w=t.h=1),t},layoutPositions:function(e,t,n){var a=this.nodes().filter(function(R){return!R.isParent()}),i=this.cy(),s=t.eles,u=function(A){return A.id()},f=ao(n,u);e.emit({type:"layoutstart",layout:e}),e.animations=[];var c=function(A,k,P){var D={x:k.x1+k.w/2,y:k.y1+k.h/2},I={x:(P.x-D.x)*A,y:(P.y-D.y)*A};return{x:D.x+I.x,y:D.y+I.y}},d=t.spacingFactor&&t.spacingFactor!==1,v=function(){if(!d)return null;for(var A=Rt(),k=0;k<a.length;k++){var P=a[k],D=f(P,k);lR(A,D.x,D.y)}return A},p=v(),g=ao(function(R,A){var k=f(R,A);if(d){var P=Math.abs(t.spacingFactor);k=c(P,p,k)}return t.transform!=null&&(k=t.transform(R,k)),k},u);if(t.animate){for(var y=0;y<a.length;y++){var x=a[y],w=g(x,y),b=t.animateFilter==null||t.animateFilter(x,y);if(b){var E=x.animation({position:w,duration:t.animationDuration,easing:t.animationEasing});e.animations.push(E)}else x.position(w)}if(t.fit){var S=i.animation({fit:{boundingBox:s.boundingBoxAt(g),padding:t.padding},duration:t.animationDuration,easing:t.animationEasing});e.animations.push(S)}else if(t.zoom!==void 0&&t.pan!==void 0){var T=i.animation({zoom:t.zoom,pan:t.pan,duration:t.animationDuration,easing:t.animationEasing});e.animations.push(T)}e.animations.forEach(function(R){return R.play()}),e.one("layoutready",t.ready),e.emit({type:"layoutready",layout:e}),uo.all(e.animations.map(function(R){return R.promise()})).then(function(){e.one("layoutstop",t.stop),e.emit({type:"layoutstop",layout:e})})}else a.positions(g),t.fit&&i.fit(t.eles,t.padding),t.zoom!=null&&i.zoom(t.zoom),t.pan&&i.pan(t.pan),e.one("layoutready",t.ready),e.emit({type:"layoutready",layout:e}),e.one("layoutstop",t.stop),e.emit({type:"layoutstop",layout:e});return this},layout:function(e){var t=this.cy();return t.makeLayout(Ke({},e,{eles:this}))}};vl.createLayout=vl.makeLayout=vl.layout;function HR(r,e,t){var n=t._private,a=n.styleCache=n.styleCache||[],i;return(i=a[r])!=null||(i=a[r]=e(t)),i}function Wl(r,e){return r=ii(r),function(n){return HR(r,e,n)}}function Kl(r,e){r=ii(r);var t=function(a){return e.call(a)};return function(){var a=this[0];if(a)return HR(r,t,a)}}var ft={recalculateRenderedStyle:function(e){var t=this.cy(),n=t.renderer(),a=t.styleEnabled();return n&&a&&n.recalculateRenderedStyle(this,e),this},dirtyStyleCache:function(){var e=this.cy(),t=function(i){return i._private.styleCache=null};if(e.hasCompoundNodes()){var n;n=this.spawnSelf().merge(this.descendants()).merge(this.parents()),n.merge(n.connectedEdges()),n.forEach(t)}else this.forEach(function(a){t(a),a.connectedEdges().forEach(t)});return this},updateStyle:function(e){var t=this._private.cy;if(!t.styleEnabled())return this;if(t.batching()){var n=t._private.batchStyleEles;return n.merge(this),this}var a=t.hasCompoundNodes(),i=this;e=!!(e||e===void 0),a&&(i=this.spawnSelf().merge(this.descendants()).merge(this.parents()));var s=i;return e?s.emitAndNotify("style"):s.emit("style"),i.forEach(function(u){return u._private.styleDirty=!0}),this},cleanStyle:function(){var e=this.cy();if(e.styleEnabled())for(var t=0;t<this.length;t++){var n=this[t];n._private.styleDirty&&(n._private.styleDirty=!1,e.style().apply(n))}},parsedStyle:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,n=this[0],a=n.cy();if(a.styleEnabled()&&n){n._private.styleDirty&&(n._private.styleDirty=!1,a.style().apply(n));var i=n._private.style[e];return i??(t?a.style().getDefaultProperty(e):null)}},numericStyle:function(e){var t=this[0];if(t.cy().styleEnabled()&&t){var n=t.pstyle(e);return n.pfValue!==void 0?n.pfValue:n.value}},numericStyleUnits:function(e){var t=this[0];if(t.cy().styleEnabled()&&t)return t.pstyle(e).units},renderedStyle:function(e){var t=this.cy();if(!t.styleEnabled())return this;var n=this[0];if(n)return t.style().getRenderedStyle(n,e)},style:function(e,t){var n=this.cy();if(!n.styleEnabled())return this;var a=!1,i=n.style();if(cr(e)){var s=e;i.applyBypass(this,s,a),this.emitAndNotify("style")}else if(je(e))if(t===void 0){var u=this[0];return u?i.getStylePropertyValue(u,e):void 0}else i.applyBypass(this,e,t,a),this.emitAndNotify("style");else if(e===void 0){var f=this[0];return f?i.getRawStyle(f):void 0}return this},removeStyle:function(e){var t=this.cy();if(!t.styleEnabled())return this;var n=!1,a=t.style(),i=this;if(e===void 0)for(var s=0;s<i.length;s++){var u=i[s];a.removeAllBypasses(u,n)}else{e=e.split(/\s+/);for(var f=0;f<i.length;f++){var c=i[f];a.removeBypasses(c,e,n)}}return this.emitAndNotify("style"),this},show:function(){return this.css("display","element"),this},hide:function(){return this.css("display","none"),this},effectiveOpacity:function(){var e=this.cy();if(!e.styleEnabled())return 1;var t=e.hasCompoundNodes(),n=this[0];if(n){var a=n._private,i=n.pstyle("opacity").value;if(!t)return i;var s=a.data.parent?n.parents():null;if(s)for(var u=0;u<s.length;u++){var f=s[u],c=f.pstyle("opacity").value;i=c*i}return i}},transparent:function(){var e=this.cy();if(!e.styleEnabled())return!1;var t=this[0],n=t.cy().hasCompoundNodes();if(t)return n?t.effectiveOpacity()===0:t.pstyle("opacity").value===0},backgrounding:function(){var e=this.cy();if(!e.styleEnabled())return!1;var t=this[0];return!!t._private.backgrounding}};function _v(r,e){var t=r._private,n=t.data.parent?r.parents():null;if(n)for(var a=0;a<n.length;a++){var i=n[a];if(!e(i))return!1}return!0}function B0(r){var e=r.ok,t=r.edgeOkViaNode||r.ok,n=r.parentOk||r.ok;return function(){var a=this.cy();if(!a.styleEnabled())return!0;var i=this[0],s=a.hasCompoundNodes();if(i){var u=i._private;if(!e(i))return!1;if(i.isNode())return!s||_v(i,n);var f=u.source,c=u.target;return t(f)&&(!s||_v(f,t))&&(f===c||t(c)&&(!s||_v(c,t)))}}}var lo=Wl("eleTakesUpSpace",function(r){return r.pstyle("display").value==="element"&&r.width()!==0&&(r.isNode()?r.height()!==0:!0)});ft.takesUpSpace=Kl("takesUpSpace",B0({ok:lo}));var rB=Wl("eleInteractive",function(r){return r.pstyle("events").value==="yes"&&r.pstyle("visibility").value==="visible"&&lo(r)}),tB=Wl("parentInteractive",function(r){return r.pstyle("visibility").value==="visible"&&lo(r)});ft.interactive=Kl("interactive",B0({ok:rB,parentOk:tB,edgeOkViaNode:lo}));ft.noninteractive=function(){var r=this[0];if(r)return!r.interactive()};var nB=Wl("eleVisible",function(r){return r.pstyle("visibility").value==="visible"&&r.pstyle("opacity").pfValue!==0&&lo(r)}),aB=lo;ft.visible=Kl("visible",B0({ok:nB,edgeOkViaNode:aB}));ft.hidden=function(){var r=this[0];if(r)return!r.visible()};ft.isBundledBezier=Kl("isBundledBezier",function(){return this.cy().styleEnabled()?!this.removed()&&this.pstyle("curve-style").value==="bezier"&&this.takesUpSpace():!1});ft.bypass=ft.css=ft.style;ft.renderedCss=ft.renderedStyle;ft.removeBypass=ft.removeCss=ft.removeStyle;ft.pstyle=ft.parsedStyle;var Sa={};function OE(r){return function(){var e=arguments,t=[];if(e.length===2){var n=e[0],a=e[1];this.on(r.event,n,a)}else if(e.length===1&&qr(e[0])){var i=e[0];this.on(r.event,i)}else if(e.length===0||e.length===1&&mr(e[0])){for(var s=e.length===1?e[0]:null,u=0;u<this.length;u++){var f=this[u],c=!r.ableField||f._private[r.ableField],d=f._private[r.field]!=r.value;if(r.overrideAble){var v=r.overrideAble(f);if(v!==void 0&&(c=v,!v))return this}c&&(f._private[r.field]=r.value,d&&t.push(f))}var p=this.spawn(t);p.updateStyle(),p.emit(r.event),s&&p.emit(s)}return this}}function fo(r){Sa[r.field]=function(){var e=this[0];if(e){if(r.overrideField){var t=r.overrideField(e);if(t!==void 0)return t}return e._private[r.field]}},Sa[r.on]=OE({event:r.on,field:r.field,ableField:r.ableField,overrideAble:r.overrideAble,value:!0}),Sa[r.off]=OE({event:r.off,field:r.field,ableField:r.ableField,overrideAble:r.overrideAble,value:!1})}fo({field:"locked",overrideField:function(e){return e.cy().autolock()?!0:void 0},on:"lock",off:"unlock"});fo({field:"grabbable",overrideField:function(e){return e.cy().autoungrabify()||e.pannable()?!1:void 0},on:"grabify",off:"ungrabify"});fo({field:"selected",ableField:"selectable",overrideAble:function(e){return e.cy().autounselectify()?!1:void 0},on:"select",off:"unselect"});fo({field:"selectable",overrideField:function(e){return e.cy().autounselectify()?!1:void 0},on:"selectify",off:"unselectify"});Sa.deselect=Sa.unselect;Sa.grabbed=function(){var r=this[0];if(r)return r._private.grabbed};fo({field:"active",on:"activate",off:"unactivate"});fo({field:"pannable",on:"panify",off:"unpanify"});Sa.inactive=function(){var r=this[0];if(r)return!r._private.active};var bt={},NE=function(e){return function(n){for(var a=this,i=[],s=0;s<a.length;s++){var u=a[s];if(u.isNode()){for(var f=!1,c=u.connectedEdges(),d=0;d<c.length;d++){var v=c[d],p=v.source(),g=v.target();if(e.noIncomingEdges&&g===u&&p!==u||e.noOutgoingEdges&&p===u&&g!==u){f=!0;break}}f||i.push(u)}}return this.spawn(i,!0).filter(n)}},LE=function(e){return function(t){for(var n=this,a=[],i=0;i<n.length;i++){var s=n[i];if(s.isNode())for(var u=s.connectedEdges(),f=0;f<u.length;f++){var c=u[f],d=c.source(),v=c.target();e.outgoing&&d===s?(a.push(c),a.push(v)):e.incoming&&v===s&&(a.push(c),a.push(d))}}return this.spawn(a,!0).filter(t)}},BE=function(e){return function(t){for(var n=this,a=[],i={};;){var s=e.outgoing?n.outgoers():n.incomers();if(s.length===0)break;for(var u=!1,f=0;f<s.length;f++){var c=s[f],d=c.id();i[d]||(i[d]=!0,a.push(c),u=!0)}if(!u)break;n=s}return this.spawn(a,!0).filter(t)}};bt.clearTraversalCache=function(){for(var r=0;r<this.length;r++)this[r]._private.traversalCache=null};Ke(bt,{roots:NE({noIncomingEdges:!0}),leaves:NE({noOutgoingEdges:!0}),outgoers:tn(LE({outgoing:!0}),"outgoers"),successors:BE({outgoing:!0}),incomers:tn(LE({incoming:!0}),"incomers"),predecessors:BE({})});Ke(bt,{neighborhood:tn(function(r){for(var e=[],t=this.nodes(),n=0;n<t.length;n++)for(var a=t[n],i=a.connectedEdges(),s=0;s<i.length;s++){var u=i[s],f=u.source(),c=u.target(),d=a===f?c:f;d.length>0&&e.push(d[0]),e.push(u[0])}return this.spawn(e,!0).filter(r)},"neighborhood"),closedNeighborhood:function(e){return this.neighborhood().add(this).filter(e)},openNeighborhood:function(e){return this.neighborhood(e)}});bt.neighbourhood=bt.neighborhood;bt.closedNeighbourhood=bt.closedNeighborhood;bt.openNeighbourhood=bt.openNeighborhood;Ke(bt,{source:tn(function(e){var t=this[0],n;return t&&(n=t._private.source||t.cy().collection()),n&&e?n.filter(e):n},"source"),target:tn(function(e){var t=this[0],n;return t&&(n=t._private.target||t.cy().collection()),n&&e?n.filter(e):n},"target"),sources:qE({attr:"source"}),targets:qE({attr:"target"})});function qE(r){return function(t){for(var n=[],a=0;a<this.length;a++){var i=this[a],s=i._private[r.attr];s&&n.push(s)}return this.spawn(n,!0).filter(t)}}Ke(bt,{edgesWith:tn(FE(),"edgesWith"),edgesTo:tn(FE({thisIsSrc:!0}),"edgesTo")});function FE(r){return function(t){var n=[],a=this._private.cy,i=r||{};je(t)&&(t=a.$(t));for(var s=0;s<t.length;s++)for(var u=t[s]._private.edges,f=0;f<u.length;f++){var c=u[f],d=c._private.data,v=this.hasElementWithId(d.source)&&t.hasElementWithId(d.target),p=t.hasElementWithId(d.source)&&this.hasElementWithId(d.target),g=v||p;g&&((i.thisIsSrc||i.thisIsTgt)&&(i.thisIsSrc&&!v||i.thisIsTgt&&!p)||n.push(c))}return this.spawn(n,!0)}}Ke(bt,{connectedEdges:tn(function(r){for(var e=[],t=this,n=0;n<t.length;n++){var a=t[n];if(a.isNode())for(var i=a._private.edges,s=0;s<i.length;s++){var u=i[s];e.push(u)}}return this.spawn(e,!0).filter(r)},"connectedEdges"),connectedNodes:tn(function(r){for(var e=[],t=this,n=0;n<t.length;n++){var a=t[n];a.isEdge()&&(e.push(a.source()[0]),e.push(a.target()[0]))}return this.spawn(e,!0).filter(r)},"connectedNodes"),parallelEdges:tn(zE(),"parallelEdges"),codirectedEdges:tn(zE({codirected:!0}),"codirectedEdges")});function zE(r){var e={codirected:!1};return r=Ke({},e,r),function(n){for(var a=[],i=this.edges(),s=r,u=0;u<i.length;u++)for(var f=i[u],c=f._private,d=c.source,v=d._private.data.id,p=c.data.target,g=d._private.edges,y=0;y<g.length;y++){var x=g[y],w=x._private.data,b=w.target,E=w.source,S=b===p&&E===v,T=v===b&&p===E;(s.codirected&&S||!s.codirected&&(S||T))&&a.push(x)}return this.spawn(a,!0).filter(n)}}Ke(bt,{components:function(e){var t=this,n=t.cy(),a=n.collection(),i=e==null?t.nodes():e.nodes(),s=[];e!=null&&i.empty()&&(i=e.sources());var u=function(d,v){a.merge(d),i.unmerge(d),v.merge(d)};if(i.empty())return t.spawn();var f=function(){var d=n.collection();s.push(d);var v=i[0];u(v,d),t.bfs({directed:!1,roots:v,visit:function(g){return u(g,d)}}),d.forEach(function(p){p.connectedEdges().forEach(function(g){t.has(g)&&d.has(g.source())&&d.has(g.target())&&d.merge(g)})})};do f();while(i.length>0);return s},component:function(){var e=this[0];return e.cy().mutableElements().components(e)[0]}});bt.componentsOf=bt.components;var ct=function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(e===void 0){Pr("A collection must have a reference to the core");return}var i=new $n,s=!1;if(!t)t=[];else if(t.length>0&&cr(t[0])&&!As(t[0])){s=!0;for(var u=[],f=new so,c=0,d=t.length;c<d;c++){var v=t[c];v.data==null&&(v.data={});var p=v.data;if(p.id==null)p.id=oR();else if(e.hasElementWithId(p.id)||f.has(p.id))continue;var g=new ql(e,v,!1);u.push(g),f.add(p.id)}t=u}this.length=0;for(var y=0,x=t.length;y<x;y++){var w=t[y][0];if(w!=null){var b=w._private.data.id;(!n||!i.has(b))&&(n&&i.set(b,{index:this.length,ele:w}),this[this.length]=w,this.length++)}}this._private={eles:this,cy:e,get map(){return this.lazyMap==null&&this.rebuildMap(),this.lazyMap},set map(E){this.lazyMap=E},rebuildMap:function(){for(var S=this.lazyMap=new $n,T=this.eles,R=0;R<T.length;R++){var A=T[R];S.set(A.id(),{index:R,ele:A})}}},n&&(this._private.map=i),s&&!a&&this.restore()},xr=ql.prototype=ct.prototype=Object.create(Array.prototype);xr.instanceString=function(){return"collection"};xr.spawn=function(r,e){return new ct(this.cy(),r,e)};xr.spawnSelf=function(){return this.spawn(this)};xr.cy=function(){return this._private.cy};xr.renderer=function(){return this._private.cy.renderer()};xr.element=function(){return this[0]};xr.collection=function(){return Hk(this)?this:new ct(this._private.cy,[this])};xr.unique=function(){return new ct(this._private.cy,this,!0)};xr.hasElementWithId=function(r){return r=""+r,this._private.map.has(r)};xr.getElementById=function(r){r=""+r;var e=this._private.cy,t=this._private.map.get(r);return t?t.ele:new ct(e)};xr.$id=xr.getElementById;xr.poolIndex=function(){var r=this._private.cy,e=r._private.elements,t=this[0]._private.data.id;return e._private.map.get(t).index};xr.indexOf=function(r){var e=r[0]._private.data.id;return this._private.map.get(e).index};xr.indexOfId=function(r){return r=""+r,this._private.map.get(r).index};xr.json=function(r){var e=this.element(),t=this.cy();if(e==null&&r)return this;if(e!=null){var n=e._private;if(cr(r)){if(t.startBatch(),r.data){e.data(r.data);var a=n.data;if(e.isEdge()){var i=!1,s={},u=r.data.source,f=r.data.target;u!=null&&u!=a.source&&(s.source=""+u,i=!0),f!=null&&f!=a.target&&(s.target=""+f,i=!0),i&&(e=e.move(s))}else{var c="parent"in r.data,d=r.data.parent;c&&(d!=null||a.parent!=null)&&d!=a.parent&&(d===void 0&&(d=null),d!=null&&(d=""+d),e=e.move({parent:d}))}}r.position&&e.position(r.position);var v=function(x,w,b){var E=r[x];E!=null&&E!==n[x]&&(E?e[w]():e[b]())};return v("removed","remove","restore"),v("selected","select","unselect"),v("selectable","selectify","unselectify"),v("locked","lock","unlock"),v("grabbable","grabify","ungrabify"),v("pannable","panify","unpanify"),r.classes!=null&&e.classes(r.classes),t.endBatch(),this}else if(r===void 0){var p={data:_n(n.data),position:_n(n.position),group:n.group,removed:n.removed,selected:n.selected,selectable:n.selectable,locked:n.locked,grabbable:n.grabbable,pannable:n.pannable,classes:null};p.classes="";var g=0;return n.classes.forEach(function(y){return p.classes+=g++===0?y:" "+y}),p}}};xr.jsons=function(){for(var r=[],e=0;e<this.length;e++){var t=this[e],n=t.json();r.push(n)}return r};xr.clone=function(){for(var r=this.cy(),e=[],t=0;t<this.length;t++){var n=this[t],a=n.json(),i=new ql(r,a,!1);e.push(i)}return new ct(r,e)};xr.copy=xr.clone;xr.restore=function(){for(var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,t=this,n=t.cy(),a=n._private,i=[],s=[],u,f=0,c=t.length;f<c;f++){var d=t[f];e&&!d.removed()||(d.isNode()?i.push(d):s.push(d))}u=i.concat(s);var v,p=function(){u.splice(v,1),v--};for(v=0;v<u.length;v++){var g=u[v],y=g._private,x=y.data;if(g.clearTraversalCache(),!(!e&&!y.removed)){if(x.id===void 0)x.id=oR();else if(Te(x.id))x.id=""+x.id;else if(Ca(x.id)||!je(x.id)){Pr("Can not create element with invalid string ID `"+x.id+"`"),p();continue}else if(n.hasElementWithId(x.id)){Pr("Can not create second element with ID `"+x.id+"`"),p();continue}}var w=x.id;if(g.isNode()){var b=y.position;b.x==null&&(b.x=0),b.y==null&&(b.y=0)}if(g.isEdge()){for(var E=g,S=["source","target"],T=S.length,R=!1,A=0;A<T;A++){var k=S[A],P=x[k];Te(P)&&(P=x[k]=""+x[k]),P==null||P===""?(Pr("Can not create edge `"+w+"` with unspecified "+k),R=!0):n.hasElementWithId(P)||(Pr("Can not create edge `"+w+"` with nonexistant "+k+" `"+P+"`"),R=!0)}if(R){p();continue}var D=n.getElementById(x.source),I=n.getElementById(x.target);D.same(I)?D._private.edges.push(E):(D._private.edges.push(E),I._private.edges.push(E)),E._private.source=D,E._private.target=I}y.map=new $n,y.map.set(w,{ele:g,index:0}),y.removed=!1,e&&n.addToPool(g)}for(var M=0;M<i.length;M++){var L=i[M],N=L._private.data;Te(N.parent)&&(N.parent=""+N.parent);var z=N.parent,G=z!=null;if(G||L._private.parent){var H=L._private.parent?n.collection().merge(L._private.parent):n.getElementById(z);if(H.empty())N.parent=void 0;else if(H[0].removed())pr("Node added with missing parent, reference to parent removed"),N.parent=void 0,L._private.parent=null;else{for(var U=!1,F=H;!F.empty();){if(L.same(F)){U=!0,N.parent=void 0;break}F=F.parent()}U||(H[0]._private.children.push(L),L._private.parent=H[0],a.hasCompoundNodes=!0)}}}if(u.length>0){for(var X=u.length===t.length?t:new ct(n,u),K=0;K<X.length;K++){var B=X[K];B.isNode()||(B.parallelEdges().clearTraversalCache(),B.source().clearTraversalCache(),B.target().clearTraversalCache())}var V;a.hasCompoundNodes?V=n.collection().merge(X).merge(X.connectedNodes()).merge(X.parent()):V=X,V.dirtyCompoundBoundsCache().dirtyBoundingBoxCache().updateStyle(r),r?X.emitAndNotify("add"):e&&X.emit("add")}return t};xr.removed=function(){var r=this[0];return r&&r._private.removed};xr.inside=function(){var r=this[0];return r&&!r._private.removed};xr.remove=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,t=this,n=[],a={},i=t._private.cy;function s(z){for(var G=z._private.edges,H=0;H<G.length;H++)f(G[H])}function u(z){for(var G=z._private.children,H=0;H<G.length;H++)f(G[H])}function f(z){var G=a[z.id()];e&&z.removed()||G||(a[z.id()]=!0,z.isNode()?(n.push(z),s(z),u(z)):n.unshift(z))}for(var c=0,d=t.length;c<d;c++){var v=t[c];f(v)}function p(z,G){var H=z._private.edges;Ta(H,G),z.clearTraversalCache()}function g(z){z.clearTraversalCache()}var y=[];y.ids={};function x(z,G){G=G[0],z=z[0];var H=z._private.children,U=z.id();Ta(H,G),G._private.parent=null,y.ids[U]||(y.ids[U]=!0,y.push(z))}t.dirtyCompoundBoundsCache(),e&&i.removeFromPool(n);for(var w=0;w<n.length;w++){var b=n[w];if(b.isEdge()){var E=b.source()[0],S=b.target()[0];p(E,b),p(S,b);for(var T=b.parallelEdges(),R=0;R<T.length;R++){var A=T[R];g(A),A.isBundledBezier()&&A.dirtyBoundingBoxCache()}}else{var k=b.parent();k.length!==0&&x(k,b)}e&&(b._private.removed=!0)}var P=i._private.elements;i._private.hasCompoundNodes=!1;for(var D=0;D<P.length;D++){var I=P[D];if(I.isParent()){i._private.hasCompoundNodes=!0;break}}var M=new ct(this.cy(),n);M.size()>0&&(r?M.emitAndNotify("remove"):e&&M.emit("remove"));for(var L=0;L<y.length;L++){var N=y[L];(!e||!N.removed())&&N.updateStyle()}return M};xr.move=function(r){var e=this._private.cy,t=this,n=!1,a=!1,i=function(y){return y==null?y:""+y};if(r.source!==void 0||r.target!==void 0){var s=i(r.source),u=i(r.target),f=s!=null&&e.hasElementWithId(s),c=u!=null&&e.hasElementWithId(u);(f||c)&&(e.batch(function(){t.remove(n,a),t.emitAndNotify("moveout");for(var g=0;g<t.length;g++){var y=t[g],x=y._private.data;y.isEdge()&&(f&&(x.source=s),c&&(x.target=u))}t.restore(n,a)}),t.emitAndNotify("move"))}else if(r.parent!==void 0){var d=i(r.parent),v=d===null||e.hasElementWithId(d);if(v){var p=d===null?void 0:d;e.batch(function(){var g=t.remove(n,a);g.emitAndNotify("moveout");for(var y=0;y<t.length;y++){var x=t[y],w=x._private.data;x.isNode()&&(w.parent=p)}g.restore(n,a)}),t.emitAndNotify("move")}}return this};[mR,pL,dl,Ea,oo,DL,jl,WL,UR,GR,QL,Rl,vl,ft,Sa,bt].forEach(function(r){Ke(xr,r)});var iB={add:function(e){var t,n=this;if(Wt(e)){var a=e;if(a._private.cy===n)t=a.restore();else{for(var i=[],s=0;s<a.length;s++){var u=a[s];i.push(u.json())}t=new ct(n,i)}}else if(mr(e)){var f=e;t=new ct(n,f)}else if(cr(e)&&(mr(e.nodes)||mr(e.edges))){for(var c=e,d=[],v=["nodes","edges"],p=0,g=v.length;p<g;p++){var y=v[p],x=c[y];if(mr(x))for(var w=0,b=x.length;w<b;w++){var E=Ke({group:y},x[w]);d.push(E)}}t=new ct(n,d)}else{var S=e;t=new ql(n,S).collection()}return t},remove:function(e){if(!Wt(e)){if(je(e)){var t=e;e=this.$(t)}}return e.remove()}};/*! Bezier curve function generator. Copyright Gaetan Renaudeau. MIT License: http://en.wikipedia.org/wiki/MIT_License */function oB(r,e,t,n){var a=4,i=.001,s=1e-7,u=10,f=11,c=1/(f-1),d=typeof Float32Array<"u";if(arguments.length!==4)return!1;for(var v=0;v<4;++v)if(typeof arguments[v]!="number"||isNaN(arguments[v])||!isFinite(arguments[v]))return!1;r=Math.min(r,1),t=Math.min(t,1),r=Math.max(r,0),t=Math.max(t,0);var p=d?new Float32Array(f):new Array(f);function g(I,M){return 1-3*M+3*I}function y(I,M){return 3*M-6*I}function x(I){return 3*I}function w(I,M,L){return((g(M,L)*I+y(M,L))*I+x(M))*I}function b(I,M,L){return 3*g(M,L)*I*I+2*y(M,L)*I+x(M)}function E(I,M){for(var L=0;L<a;++L){var N=b(M,r,t);if(N===0)return M;var z=w(M,r,t)-I;M-=z/N}return M}function S(){for(var I=0;I<f;++I)p[I]=w(I*c,r,t)}function T(I,M,L){var N,z,G=0;do z=M+(L-M)/2,N=w(z,r,t)-I,N>0?L=z:M=z;while(Math.abs(N)>s&&++G<u);return z}function R(I){for(var M=0,L=1,N=f-1;L!==N&&p[L]<=I;++L)M+=c;--L;var z=(I-p[L])/(p[L+1]-p[L]),G=M+z*c,H=b(G,r,t);return H>=i?E(I,G):H===0?G:T(I,M,M+c)}var A=!1;function k(){A=!0,(r!==e||t!==n)&&S()}var P=function(M){return A||k(),r===e&&t===n?M:M===0?0:M===1?1:w(R(M),e,n)};P.getControlPoints=function(){return[{x:r,y:e},{x:t,y:n}]};var D="generateBezier("+[r,e,t,n]+")";return P.toString=function(){return D},P}/*! Runge-Kutta spring physics function generator. Adapted from Framer.js, copyright Koen Bok. MIT License: http://en.wikipedia.org/wiki/MIT_License */var sB=(function(){function r(n){return-n.tension*n.x-n.friction*n.v}function e(n,a,i){var s={x:n.x+i.dx*a,v:n.v+i.dv*a,tension:n.tension,friction:n.friction};return{dx:s.v,dv:r(s)}}function t(n,a){var i={dx:n.v,dv:r(n)},s=e(n,a*.5,i),u=e(n,a*.5,s),f=e(n,a,u),c=1/6*(i.dx+2*(s.dx+u.dx)+f.dx),d=1/6*(i.dv+2*(s.dv+u.dv)+f.dv);return n.x=n.x+c*a,n.v=n.v+d*a,n}return function n(a,i,s){var u={x:-1,v:0,tension:null,friction:null},f=[0],c=0,d=1/1e4,v=16/1e3,p,g,y;for(a=parseFloat(a)||500,i=parseFloat(i)||20,s=s||null,u.tension=a,u.friction=i,p=s!==null,p?(c=n(a,i),g=c/s*v):g=v;y=t(y||u,g),f.push(1+y.x),c+=16,Math.abs(y.x)>d&&Math.abs(y.v)>d;);return p?function(x){return f[x*(f.length-1)|0]}:c}})(),br=function(e,t,n,a){var i=oB(e,t,n,a);return function(s,u,f){return s+(u-s)*i(f)}},hl={linear:function(e,t,n){return e+(t-e)*n},ease:br(.25,.1,.25,1),"ease-in":br(.42,0,1,1),"ease-out":br(0,0,.58,1),"ease-in-out":br(.42,0,.58,1),"ease-in-sine":br(.47,0,.745,.715),"ease-out-sine":br(.39,.575,.565,1),"ease-in-out-sine":br(.445,.05,.55,.95),"ease-in-quad":br(.55,.085,.68,.53),"ease-out-quad":br(.25,.46,.45,.94),"ease-in-out-quad":br(.455,.03,.515,.955),"ease-in-cubic":br(.55,.055,.675,.19),"ease-out-cubic":br(.215,.61,.355,1),"ease-in-out-cubic":br(.645,.045,.355,1),"ease-in-quart":br(.895,.03,.685,.22),"ease-out-quart":br(.165,.84,.44,1),"ease-in-out-quart":br(.77,0,.175,1),"ease-in-quint":br(.755,.05,.855,.06),"ease-out-quint":br(.23,1,.32,1),"ease-in-out-quint":br(.86,0,.07,1),"ease-in-expo":br(.95,.05,.795,.035),"ease-out-expo":br(.19,1,.22,1),"ease-in-out-expo":br(1,0,0,1),"ease-in-circ":br(.6,.04,.98,.335),"ease-out-circ":br(.075,.82,.165,1),"ease-in-out-circ":br(.785,.135,.15,.86),spring:function(e,t,n){if(n===0)return hl.linear;var a=sB(e,t,n);return function(i,s,u){return i+(s-i)*a(u)}},"cubic-bezier":br};function VE(r,e,t,n,a){if(n===1||e===t)return t;var i=a(e,t,n);return r==null||((r.roundValue||r.color)&&(i=Math.round(i)),r.min!==void 0&&(i=Math.max(i,r.min)),r.max!==void 0&&(i=Math.min(i,r.max))),i}function $E(r,e){return r.pfValue!=null||r.value!=null?r.pfValue!=null&&(e==null||e.type.units!=="%")?r.pfValue:r.value:r}function Gi(r,e,t,n,a){var i=a!=null?a.type:null;t<0?t=0:t>1&&(t=1);var s=$E(r,a),u=$E(e,a);if(Te(s)&&Te(u))return VE(i,s,u,t,n);if(mr(s)&&mr(u)){for(var f=[],c=0;c<u.length;c++){var d=s[c],v=u[c];if(d!=null&&v!=null){var p=VE(i,d,v,t,n);f.push(p)}else f.push(v)}return f}}function uB(r,e,t,n){var a=!n,i=r._private,s=e._private,u=s.easing,f=s.startTime,c=n?r:r.cy(),d=c.style();if(!s.easingImpl)if(u==null)s.easingImpl=hl.linear;else{var v;if(je(u)){var p=d.parse("transition-timing-function",u);v=p.value}else v=u;var g,y;je(v)?(g=v,y=[]):(g=v[1],y=v.slice(2).map(function(X){return+X})),y.length>0?(g==="spring"&&y.push(s.duration),s.easingImpl=hl[g].apply(null,y)):s.easingImpl=hl[g]}var x=s.easingImpl,w;if(s.duration===0?w=1:w=(t-f)/s.duration,s.applying&&(w=s.progress),w<0?w=0:w>1&&(w=1),s.delay==null){var b=s.startPosition,E=s.position;if(E&&a&&!r.locked()){var S={};is(b.x,E.x)&&(S.x=Gi(b.x,E.x,w,x)),is(b.y,E.y)&&(S.y=Gi(b.y,E.y,w,x)),r.position(S)}var T=s.startPan,R=s.pan,A=i.pan,k=R!=null&&n;k&&(is(T.x,R.x)&&(A.x=Gi(T.x,R.x,w,x)),is(T.y,R.y)&&(A.y=Gi(T.y,R.y,w,x)),r.emit("pan"));var P=s.startZoom,D=s.zoom,I=D!=null&&n;I&&(is(P,D)&&(i.zoom=xs(i.minZoom,Gi(P,D,w,x),i.maxZoom)),r.emit("zoom")),(k||I)&&r.emit("viewport");var M=s.style;if(M&&M.length>0&&a){for(var L=0;L<M.length;L++){var N=M[L],z=N.name,G=N,H=s.startStyle[z],U=d.properties[H.name],F=Gi(H,G,w,x,U);d.overrideBypass(r,z,F)}r.emit("style")}}return s.progress=w,w}function is(r,e){return r==null||e==null?!1:Te(r)&&Te(e)?!0:!!(r&&e)}function lB(r,e,t,n){var a=e._private;a.started=!0,a.startTime=t-a.progress*a.duration}function UE(r,e){var t=e._private.aniEles,n=[];function a(d,v){var p=d._private,g=p.animation.current,y=p.animation.queue,x=!1;if(g.length===0){var w=y.shift();w&&g.push(w)}for(var b=function(A){for(var k=A.length-1;k>=0;k--){var P=A[k];P()}A.splice(0,A.length)},E=g.length-1;E>=0;E--){var S=g[E],T=S._private;if(T.stopped){g.splice(E,1),T.hooked=!1,T.playing=!1,T.started=!1,b(T.frames);continue}!T.playing&&!T.applying||(T.playing&&T.applying&&(T.applying=!1),T.started||lB(d,S,r),uB(d,S,r,v),T.applying&&(T.applying=!1),b(T.frames),T.step!=null&&T.step(r),S.completed()&&(g.splice(E,1),T.hooked=!1,T.playing=!1,T.started=!1,b(T.completes)),x=!0)}return!v&&g.length===0&&y.length===0&&n.push(d),x}for(var i=!1,s=0;s<t.length;s++){var u=t[s],f=a(u);i=i||f}var c=a(e,!0);(i||c)&&(t.length>0?e.notify("draw",t):e.notify("draw")),t.unmerge(n),e.emit("step")}var fB={animate:hr.animate(),animation:hr.animation(),animated:hr.animated(),clearQueue:hr.clearQueue(),delay:hr.delay(),delayAnimation:hr.delayAnimation(),stop:hr.stop(),addToAnimationPool:function(e){var t=this;t.styleEnabled()&&t._private.aniEles.merge(e)},stopAnimationLoop:function(){this._private.animationsRunning=!1},startAnimationLoop:function(){var e=this;if(e._private.animationsRunning=!0,!e.styleEnabled())return;function t(){e._private.animationsRunning&&Sl(function(i){UE(i,e),t()})}var n=e.renderer();n&&n.beforeRender?n.beforeRender(function(i,s){UE(s,e)},n.beforeRenderPriorities.animations):t()}},cB={qualifierCompare:function(e,t){return e==null||t==null?e==null&&t==null:e.sameText(t)},eventMatches:function(e,t,n){var a=t.qualifier;return a!=null?e!==n.target&&As(n.target)&&a.matches(n.target):!0},addEventFields:function(e,t){t.cy=e,t.target=e},callbackContext:function(e,t,n){return t.qualifier!=null?n.target:e}},il=function(e){return je(e)?new ka(e):e},WR={createEmitter:function(){var e=this._private;return e.emitter||(e.emitter=new Hl(cB,this)),this},emitter:function(){return this._private.emitter},on:function(e,t,n){return this.emitter().on(e,il(t),n),this},removeListener:function(e,t,n){return this.emitter().removeListener(e,il(t),n),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},one:function(e,t,n){return this.emitter().one(e,il(t),n),this},once:function(e,t,n){return this.emitter().one(e,il(t),n),this},emit:function(e,t){return this.emitter().emit(e,t),this},emitAndNotify:function(e,t){return this.emit(e),this.notify(e,t),this}};hr.eventAliasesOn(WR);var u0={png:function(e){var t=this._private.renderer;return e=e||{},t.png(e)},jpg:function(e){var t=this._private.renderer;return e=e||{},e.bg=e.bg||"#fff",t.jpg(e)}};u0.jpeg=u0.jpg;var pl={layout:function(e){var t=this;if(e==null){Pr("Layout options must be specified to make a layout");return}if(e.name==null){Pr("A `name` must be specified to make a layout");return}var n=e.name,a=t.extension("layout",n);if(a==null){Pr("No such layout `"+n+"` found.  Did you forget to import it and `cytoscape.use()` it?");return}var i;je(e.eles)?i=t.$(e.eles):i=e.eles!=null?e.eles:t.$();var s=new a(Ke({},e,{cy:t,eles:i}));return s}};pl.createLayout=pl.makeLayout=pl.layout;var dB={notify:function(e,t){var n=this._private;if(this.batching()){n.batchNotifications=n.batchNotifications||{};var a=n.batchNotifications[e]=n.batchNotifications[e]||this.collection();t!=null&&a.merge(t);return}if(n.notificationsEnabled){var i=this.renderer();this.destroyed()||!i||i.notify(e,t)}},notifications:function(e){var t=this._private;return e===void 0?t.notificationsEnabled:(t.notificationsEnabled=!!e,this)},noNotifications:function(e){this.notifications(!1),e(),this.notifications(!0)},batching:function(){return this._private.batchCount>0},startBatch:function(){var e=this._private;return e.batchCount==null&&(e.batchCount=0),e.batchCount===0&&(e.batchStyleEles=this.collection(),e.batchNotifications={}),e.batchCount++,this},endBatch:function(){var e=this._private;if(e.batchCount===0)return this;if(e.batchCount--,e.batchCount===0){e.batchStyleEles.updateStyle();var t=this.renderer();Object.keys(e.batchNotifications).forEach(function(n){var a=e.batchNotifications[n];a.empty()?t.notify(n):t.notify(n,a)})}return this},batch:function(e){return this.startBatch(),e(),this.endBatch(),this},batchData:function(e){var t=this;return this.batch(function(){for(var n=Object.keys(e),a=0;a<n.length;a++){var i=n[a],s=e[i],u=t.getElementById(i);u.data(s)}})}},vB=dt({hideEdgesOnViewport:!1,textureOnViewport:!1,motionBlur:!1,motionBlurOpacity:.05,pixelRatio:void 0,desktopTapThreshold:4,touchTapThreshold:8,wheelSensitivity:1,debug:!1,showFps:!1,webgl:!1,webglDebug:!1,webglDebugShowAtlases:!1,webglTexSize:2048,webglTexRows:36,webglTexRowsNodes:18,webglBatchSize:2048,webglTexPerBatch:14,webglBgColor:[255,255,255]}),l0={renderTo:function(e,t,n,a){var i=this._private.renderer;return i.renderTo(e,t,n,a),this},renderer:function(){return this._private.renderer},forceRender:function(){return this.notify("draw"),this},resize:function(){return this.invalidateSize(),this.emitAndNotify("resize"),this},initRenderer:function(e){var t=this,n=t.extension("renderer",e.name);if(n==null){Pr("Can not initialise: No such renderer `".concat(e.name,"` found. Did you forget to import it and `cytoscape.use()` it?"));return}e.wheelSensitivity!==void 0&&pr("You have set a custom wheel sensitivity.  This will make your app zoom unnaturally when using mainstream mice.  You should change this value from the default only if you can guarantee that all your users will use the same hardware and OS configuration as your current machine.");var a=vB(e);a.cy=t,t._private.renderer=new n(a),this.notify("init")},destroyRenderer:function(){var e=this;e.notify("destroy");var t=e.container();if(t)for(t._cyreg=null;t.childNodes.length>0;)t.removeChild(t.childNodes[0]);e._private.renderer=null,e.mutableElements().forEach(function(n){var a=n._private;a.rscratch={},a.rstyle={},a.animation.current=[],a.animation.queue=[]})},onRender:function(e){return this.on("render",e)},offRender:function(e){return this.off("render",e)}};l0.invalidateDimensions=l0.resize;var gl={collection:function(e,t){return je(e)?this.$(e):Wt(e)?e.collection():mr(e)?(t||(t={}),new ct(this,e,t.unique,t.removed)):new ct(this)},nodes:function(e){var t=this.$(function(n){return n.isNode()});return e?t.filter(e):t},edges:function(e){var t=this.$(function(n){return n.isEdge()});return e?t.filter(e):t},$:function(e){var t=this._private.elements;return e?t.filter(e):t.spawnSelf()},mutableElements:function(){return this._private.elements}};gl.elements=gl.filter=gl.$;var ot={},ps="t",hB="f";ot.apply=function(r){for(var e=this,t=e._private,n=t.cy,a=n.collection(),i=0;i<r.length;i++){var s=r[i],u=e.getContextMeta(s);if(!u.empty){var f=e.getContextStyle(u),c=e.applyContextStyle(u,f,s);s._private.appliedInitStyle?e.updateTransitions(s,c.diffProps):s._private.appliedInitStyle=!0;var d=e.updateStyleHints(s);d&&a.push(s)}}return a};ot.getPropertiesDiff=function(r,e){var t=this,n=t._private.propDiffs=t._private.propDiffs||{},a=r+"-"+e,i=n[a];if(i)return i;for(var s=[],u={},f=0;f<t.length;f++){var c=t[f],d=r[f]===ps,v=e[f]===ps,p=d!==v,g=c.mappedProperties.length>0;if(p||v&&g){var y=void 0;p&&g||p?y=c.properties:g&&(y=c.mappedProperties);for(var x=0;x<y.length;x++){for(var w=y[x],b=w.name,E=!1,S=f+1;S<t.length;S++){var T=t[S],R=e[S]===ps;if(R&&(E=T.properties[w.name]!=null,E))break}!u[b]&&!E&&(u[b]=!0,s.push(b))}}}return n[a]=s,s};ot.getContextMeta=function(r){for(var e=this,t="",n,a=r._private.styleCxtKey||"",i=0;i<e.length;i++){var s=e[i],u=s.selector&&s.selector.matches(r);u?t+=ps:t+=hB}return n=e.getPropertiesDiff(a,t),r._private.styleCxtKey=t,{key:t,diffPropNames:n,empty:n.length===0}};ot.getContextStyle=function(r){var e=r.key,t=this,n=this._private.contextStyles=this._private.contextStyles||{};if(n[e])return n[e];for(var a={_private:{key:e}},i=0;i<t.length;i++){var s=t[i],u=e[i]===ps;if(u)for(var f=0;f<s.properties.length;f++){var c=s.properties[f];a[c.name]=c}}return n[e]=a,a};ot.applyContextStyle=function(r,e,t){for(var n=this,a=r.diffPropNames,i={},s=n.types,u=0;u<a.length;u++){var f=a[u],c=e[f],d=t.pstyle(f);if(!c)if(d)d.bypass?c={name:f,deleteBypassed:!0}:c={name:f,delete:!0};else continue;if(d!==c){if(c.mapped===s.fn&&d!=null&&d.mapping!=null&&d.mapping.value===c.value){var v=d.mapping,p=v.fnValue=c.value(t);if(p===v.prevFnValue)continue}var g=i[f]={prev:d};n.applyParsedProperty(t,c),g.next=t.pstyle(f),g.next&&g.next.bypass&&(g.next=g.next.bypassed)}}return{diffProps:i}};ot.updateStyleHints=function(r){var e=r._private,t=this,n=t.propertyGroupNames,a=t.propertyGroupKeys,i=function(se,ce,me){return t.getPropertiesHash(se,ce,me)},s=e.styleKey;if(r.removed())return!1;var u=e.group==="nodes",f=r._private.style;n=Object.keys(f);for(var c=0;c<a.length;c++){var d=a[c];e.styleKeys[d]=[ti,Xi]}for(var v=function(se,ce){return e.styleKeys[ce][0]=ms(se,e.styleKeys[ce][0])},p=function(se,ce){return e.styleKeys[ce][1]=ws(se,e.styleKeys[ce][1])},g=function(se,ce){v(se,ce),p(se,ce)},y=function(se,ce){for(var me=0;me<se.length;me++){var xe=se.charCodeAt(me);v(xe,ce),p(xe,ce)}},x=2e9,w=function(se){return-128<se&&se<128&&Math.floor(se)!==se?x-(se*1024|0):se},b=0;b<n.length;b++){var E=n[b],S=f[E];if(S!=null){var T=this.properties[E],R=T.type,A=T.groupKey,k=void 0;T.hashOverride!=null?k=T.hashOverride(r,S):S.pfValue!=null&&(k=S.pfValue);var P=T.enums==null?S.value:null,D=k!=null,I=P!=null,M=D||I,L=S.units;if(R.number&&M&&!R.multiple){var N=D?k:P;g(w(N),A),!D&&L!=null&&y(L,A)}else y(S.strValue,A)}}for(var z=[ti,Xi],G=0;G<a.length;G++){var H=a[G],U=e.styleKeys[H];z[0]=ms(U[0],z[0]),z[1]=ws(U[1],z[1])}e.styleKey=PM(z[0],z[1]);var F=e.styleKeys;e.labelDimsKey=ga(F.labelDimensions);var X=i(r,["label"],F.labelDimensions);if(e.labelKey=ga(X),e.labelStyleKey=ga(Zu(F.commonLabel,X)),!u){var K=i(r,["source-label"],F.labelDimensions);e.sourceLabelKey=ga(K),e.sourceLabelStyleKey=ga(Zu(F.commonLabel,K));var B=i(r,["target-label"],F.labelDimensions);e.targetLabelKey=ga(B),e.targetLabelStyleKey=ga(Zu(F.commonLabel,B))}if(u){var V=e.styleKeys,te=V.nodeBody,$=V.nodeBorder,j=V.nodeOutline,Y=V.backgroundImage,ee=V.compound,le=V.pie,ie=V.stripe,Q=[te,$,j,Y,ee,le,ie].filter(function(re){return re!=null}).reduce(Zu,[ti,Xi]);e.nodeKey=ga(Q),e.hasPie=le!=null&&le[0]!==ti&&le[1]!==Xi,e.hasStripe=ie!=null&&ie[0]!==ti&&ie[1]!==Xi}return s!==e.styleKey};ot.clearStyleHints=function(r){var e=r._private;e.styleCxtKey="",e.styleKeys={},e.styleKey=null,e.labelKey=null,e.labelStyleKey=null,e.sourceLabelKey=null,e.sourceLabelStyleKey=null,e.targetLabelKey=null,e.targetLabelStyleKey=null,e.nodeKey=null,e.hasPie=null,e.hasStripe=null};ot.applyParsedProperty=function(r,e){var t=this,n=e,a=r._private.style,i,s=t.types,u=t.properties[n.name].type,f=n.bypass,c=a[n.name],d=c&&c.bypass,v=r._private,p="mapping",g=function(te){return te==null?null:te.pfValue!=null?te.pfValue:te.value},y=function(){var te=g(c),$=g(n);t.checkTriggers(r,n.name,te,$)};if(e.name==="curve-style"&&r.isEdge()&&(e.value!=="bezier"&&r.isLoop()||e.value==="haystack"&&(r.source().isParent()||r.target().isParent()))&&(n=e=this.parse(e.name,"bezier",f)),n.delete)return a[n.name]=void 0,y(),!0;if(n.deleteBypassed)return c?c.bypass?(c.bypassed=void 0,y(),!0):!1:(y(),!0);if(n.deleteBypass)return c?c.bypass?(a[n.name]=c.bypassed,y(),!0):!1:(y(),!0);var x=function(){pr("Do not assign mappings to elements without corresponding data (i.e. ele `"+r.id()+"` has no mapping for property `"+n.name+"` with data field `"+n.field+"`); try a `["+n.field+"]` selector to limit scope to elements with `"+n.field+"` defined")};switch(n.mapped){case s.mapData:{for(var w=n.field.split("."),b=v.data,E=0;E<w.length&&b;E++){var S=w[E];b=b[S]}if(b==null)return x(),!1;var T;if(Te(b)){var R=n.fieldMax-n.fieldMin;R===0?T=0:T=(b-n.fieldMin)/R}else return pr("Do not use continuous mappers without specifying numeric data (i.e. `"+n.field+": "+b+"` for `"+r.id()+"` is non-numeric)"),!1;if(T<0?T=0:T>1&&(T=1),u.color){var A=n.valueMin[0],k=n.valueMax[0],P=n.valueMin[1],D=n.valueMax[1],I=n.valueMin[2],M=n.valueMax[2],L=n.valueMin[3]==null?1:n.valueMin[3],N=n.valueMax[3]==null?1:n.valueMax[3],z=[Math.round(A+(k-A)*T),Math.round(P+(D-P)*T),Math.round(I+(M-I)*T),Math.round(L+(N-L)*T)];i={bypass:n.bypass,name:n.name,value:z,strValue:"rgb("+z[0]+", "+z[1]+", "+z[2]+")"}}else if(u.number){var G=n.valueMin+(n.valueMax-n.valueMin)*T;i=this.parse(n.name,G,n.bypass,p)}else return!1;if(!i)return x(),!1;i.mapping=n,n=i;break}case s.data:{for(var H=n.field.split("."),U=v.data,F=0;F<H.length&&U;F++){var X=H[F];U=U[X]}if(U!=null&&(i=this.parse(n.name,U,n.bypass,p)),!i)return x(),!1;i.mapping=n,n=i;break}case s.fn:{var K=n.value,B=n.fnValue!=null?n.fnValue:K(r);if(n.prevFnValue=B,B==null)return pr("Custom function mappers may not return null (i.e. `"+n.name+"` for ele `"+r.id()+"` is null)"),!1;if(i=this.parse(n.name,B,n.bypass,p),!i)return pr("Custom function mappers may not return invalid values for the property type (i.e. `"+n.name+"` for ele `"+r.id()+"` is invalid)"),!1;i.mapping=_n(n),n=i;break}case void 0:break;default:return!1}return f?(d?n.bypassed=c.bypassed:n.bypassed=c,a[n.name]=n):d?c.bypassed=n:a[n.name]=n,y(),!0};ot.cleanElements=function(r,e){for(var t=0;t<r.length;t++){var n=r[t];if(this.clearStyleHints(n),n.dirtyCompoundBoundsCache(),n.dirtyBoundingBoxCache(),!e)n._private.style={};else for(var a=n._private.style,i=Object.keys(a),s=0;s<i.length;s++){var u=i[s],f=a[u];f!=null&&(f.bypass?f.bypassed=null:a[u]=null)}}};ot.update=function(){var r=this._private.cy,e=r.mutableElements();e.updateStyle()};ot.updateTransitions=function(r,e){var t=this,n=r._private,a=r.pstyle("transition-property").value,i=r.pstyle("transition-duration").pfValue,s=r.pstyle("transition-delay").pfValue;if(a.length>0&&i>0){for(var u={},f=!1,c=0;c<a.length;c++){var d=a[c],v=r.pstyle(d),p=e[d];if(p){var g=p.prev,y=g,x=p.next!=null?p.next:v,w=!1,b=void 0,E=1e-6;y&&(Te(y.pfValue)&&Te(x.pfValue)?(w=x.pfValue-y.pfValue,b=y.pfValue+E*w):Te(y.value)&&Te(x.value)?(w=x.value-y.value,b=y.value+E*w):mr(y.value)&&mr(x.value)&&(w=y.value[0]!==x.value[0]||y.value[1]!==x.value[1]||y.value[2]!==x.value[2],b=y.strValue),w&&(u[d]=x.strValue,this.applyBypass(r,d,b),f=!0))}}if(!f)return;n.transitioning=!0,new uo(function(S){s>0?r.delayAnimation(s).play().promise().then(S):S()}).then(function(){return r.animation({style:u,duration:i,easing:r.pstyle("transition-timing-function").value,queue:!1}).play().promise()}).then(function(){t.removeBypasses(r,a),r.emitAndNotify("style"),n.transitioning=!1})}else n.transitioning&&(this.removeBypasses(r,a),r.emitAndNotify("style"),n.transitioning=!1)};ot.checkTrigger=function(r,e,t,n,a,i){var s=this.properties[e],u=a(s);r.removed()||u!=null&&u(t,n,r)&&i(s)};ot.checkZOrderTrigger=function(r,e,t,n){var a=this;this.checkTrigger(r,e,t,n,function(i){return i.triggersZOrder},function(){a._private.cy.notify("zorder",r)})};ot.checkBoundsTrigger=function(r,e,t,n){this.checkTrigger(r,e,t,n,function(a){return a.triggersBounds},function(a){r.dirtyCompoundBoundsCache(),r.dirtyBoundingBoxCache()})};ot.checkConnectedEdgesBoundsTrigger=function(r,e,t,n){this.checkTrigger(r,e,t,n,function(a){return a.triggersBoundsOfConnectedEdges},function(a){r.connectedEdges().forEach(function(i){i.dirtyBoundingBoxCache()})})};ot.checkParallelEdgesBoundsTrigger=function(r,e,t,n){this.checkTrigger(r,e,t,n,function(a){return a.triggersBoundsOfParallelEdges},function(a){r.parallelEdges().forEach(function(i){i.dirtyBoundingBoxCache()})})};ot.checkTriggers=function(r,e,t,n){r.dirtyStyleCache(),this.checkZOrderTrigger(r,e,t,n),this.checkBoundsTrigger(r,e,t,n),this.checkConnectedEdgesBoundsTrigger(r,e,t,n),this.checkParallelEdgesBoundsTrigger(r,e,t,n)};var Ls={};Ls.applyBypass=function(r,e,t,n){var a=this,i=[],s=!0;if(e==="*"||e==="**"){if(t!==void 0)for(var u=0;u<a.properties.length;u++){var f=a.properties[u],c=f.name,d=this.parse(c,t,!0);d&&i.push(d)}}else if(je(e)){var v=this.parse(e,t,!0);v&&i.push(v)}else if(cr(e)){var p=e;n=t;for(var g=Object.keys(p),y=0;y<g.length;y++){var x=g[y],w=p[x];if(w===void 0&&(w=p[Ll(x)]),w!==void 0){var b=this.parse(x,w,!0);b&&i.push(b)}}}else return!1;if(i.length===0)return!1;for(var E=!1,S=0;S<r.length;S++){for(var T=r[S],R={},A=void 0,k=0;k<i.length;k++){var P=i[k];if(n){var D=T.pstyle(P.name);A=R[P.name]={prev:D}}E=this.applyParsedProperty(T,_n(P))||E,n&&(A.next=T.pstyle(P.name))}E&&this.updateStyleHints(T),n&&this.updateTransitions(T,R,s)}return E};Ls.overrideBypass=function(r,e,t){e=S0(e);for(var n=0;n<r.length;n++){var a=r[n],i=a._private.style[e],s=this.properties[e].type,u=s.color,f=s.mutiple,c=i?i.pfValue!=null?i.pfValue:i.value:null;!i||!i.bypass?this.applyBypass(a,e,t):(i.value=t,i.pfValue!=null&&(i.pfValue=t),u?i.strValue="rgb("+t.join(",")+")":f?i.strValue=t.join(" "):i.strValue=""+t,this.updateStyleHints(a)),this.checkTriggers(a,e,c,t)}};Ls.removeAllBypasses=function(r,e){return this.removeBypasses(r,this.propertyNames,e)};Ls.removeBypasses=function(r,e,t){for(var n=!0,a=0;a<r.length;a++){for(var i=r[a],s={},u=0;u<e.length;u++){var f=e[u],c=this.properties[f],d=i.pstyle(c.name);if(!(!d||!d.bypass)){var v="",p=this.parse(f,v,!0),g=s[c.name]={prev:d};this.applyParsedProperty(i,p),g.next=i.pstyle(c.name)}}this.updateStyleHints(i),t&&this.updateTransitions(i,s,n)}};var q0={};q0.getEmSizeInPixels=function(){var r=this.containerCss("font-size");return r!=null?parseFloat(r):1};q0.containerCss=function(r){var e=this._private.cy,t=e.container(),n=e.window();if(n&&t&&n.getComputedStyle)return n.getComputedStyle(t).getPropertyValue(r)};var kn={};kn.getRenderedStyle=function(r,e){return e?this.getStylePropertyValue(r,e,!0):this.getRawStyle(r,!0)};kn.getRawStyle=function(r,e){var t=this;if(r=r[0],r){for(var n={},a=0;a<t.properties.length;a++){var i=t.properties[a],s=t.getStylePropertyValue(r,i.name,e);s!=null&&(n[i.name]=s,n[Ll(i.name)]=s)}return n}};kn.getIndexedStyle=function(r,e,t,n){var a=r.pstyle(e)[t][n];return a??r.cy().style().getDefaultProperty(e)[t][0]};kn.getStylePropertyValue=function(r,e,t){var n=this;if(r=r[0],r){var a=n.properties[e];a.alias&&(a=a.pointsTo);var i=a.type,s=r.pstyle(a.name);if(s){var u=s.value,f=s.units,c=s.strValue;if(t&&i.number&&u!=null&&Te(u)){var d=r.cy().zoom(),v=function(w){return w*d},p=function(w,b){return v(w)+b},g=mr(u),y=g?f.every(function(x){return x!=null}):f!=null;return y?g?u.map(function(x,w){return p(x,f[w])}).join(" "):p(u,f):g?u.map(function(x){return je(x)?x:""+v(x)}).join(" "):""+v(u)}else if(c!=null)return c}return null}};kn.getAnimationStartStyle=function(r,e){for(var t={},n=0;n<e.length;n++){var a=e[n],i=a.name,s=r.pstyle(i);s!==void 0&&(cr(s)?s=this.parse(i,s.strValue):s=this.parse(i,s)),s&&(t[i]=s)}return t};kn.getPropsList=function(r){var e=this,t=[],n=r,a=e.properties;if(n)for(var i=Object.keys(n),s=0;s<i.length;s++){var u=i[s],f=n[u],c=a[u]||a[S0(u)],d=this.parse(c.name,f);d&&t.push(d)}return t};kn.getNonDefaultPropertiesHash=function(r,e,t){var n=t.slice(),a,i,s,u,f,c;for(f=0;f<e.length;f++)if(a=e[f],i=r.pstyle(a,!1),i!=null)if(i.pfValue!=null)n[0]=ms(u,n[0]),n[1]=ws(u,n[1]);else for(s=i.strValue,c=0;c<s.length;c++)u=s.charCodeAt(c),n[0]=ms(u,n[0]),n[1]=ws(u,n[1]);return n};kn.getPropertiesHash=kn.getNonDefaultPropertiesHash;var Yl={};Yl.appendFromJson=function(r){for(var e=this,t=0;t<r.length;t++){var n=r[t],a=n.selector,i=n.style||n.css,s=Object.keys(i);e.selector(a);for(var u=0;u<s.length;u++){var f=s[u],c=i[f];e.css(f,c)}}return e};Yl.fromJson=function(r){var e=this;return e.resetToDefault(),e.appendFromJson(r),e};Yl.json=function(){for(var r=[],e=this.defaultLength;e<this.length;e++){for(var t=this[e],n=t.selector,a=t.properties,i={},s=0;s<a.length;s++){var u=a[s];i[u.name]=u.strValue}r.push({selector:n?n.toString():"core",style:i})}return r};var F0={};F0.appendFromString=function(r){var e=this,t=this,n=""+r,a,i,s;n=n.replace(/[/][*](\s|.)+?[*][/]/g,"");function u(){n.length>a.length?n=n.substr(a.length):n=""}function f(){i.length>s.length?i=i.substr(s.length):i=""}for(;;){var c=n.match(/^\s*$/);if(c)break;var d=n.match(/^\s*((?:.|\s)+?)\s*\{((?:.|\s)+?)\}/);if(!d){pr("Halting stylesheet parsing: String stylesheet contains more to parse but no selector and block found in: "+n);break}a=d[0];var v=d[1];if(v!=="core"){var p=new ka(v);if(p.invalid){pr("Skipping parsing of block: Invalid selector found in string stylesheet: "+v),u();continue}}var g=d[2],y=!1;i=g;for(var x=[];;){var w=i.match(/^\s*$/);if(w)break;var b=i.match(/^\s*(.+?)\s*:\s*(.+?)(?:\s*;|\s*$)/);if(!b){pr("Skipping parsing of block: Invalid formatting of style property and value definitions found in:"+g),y=!0;break}s=b[0];var E=b[1],S=b[2],T=e.properties[E];if(!T){pr("Skipping property: Invalid property name in: "+s),f();continue}var R=t.parse(E,S);if(!R){pr("Skipping property: Invalid property definition in: "+s),f();continue}x.push({name:E,val:S}),f()}if(y){u();break}t.selector(v);for(var A=0;A<x.length;A++){var k=x[A];t.css(k.name,k.val)}u()}return t};F0.fromString=function(r){var e=this;return e.resetToDefault(),e.appendFromString(r),e};var jr={};(function(){var r=Qr,e=uM,t=fM,n=cM,a=dM,i=function(re){return"^"+re+"\\s*\\(\\s*([\\w\\.]+)\\s*\\)$"},s=function(re){var se=r+"|\\w+|"+e+"|"+t+"|"+n+"|"+a;return"^"+re+"\\s*\\(([\\w\\.]+)\\s*\\,\\s*("+r+")\\s*\\,\\s*("+r+")\\s*,\\s*("+se+")\\s*\\,\\s*("+se+")\\)$"},u=[`^url\\s*\\(\\s*['"]?(.+?)['"]?\\s*\\)$`,"^(none)$","^(.+)$"];jr.types={time:{number:!0,min:0,units:"s|ms",implicitUnits:"ms"},percent:{number:!0,min:0,max:100,units:"%",implicitUnits:"%"},percentages:{number:!0,min:0,max:100,units:"%",implicitUnits:"%",multiple:!0},zeroOneNumber:{number:!0,min:0,max:1,unitless:!0},zeroOneNumbers:{number:!0,min:0,max:1,unitless:!0,multiple:!0},nOneOneNumber:{number:!0,min:-1,max:1,unitless:!0},nonNegativeInt:{number:!0,min:0,integer:!0,unitless:!0},nonNegativeNumber:{number:!0,min:0,unitless:!0},position:{enums:["parent","origin"]},nodeSize:{number:!0,min:0,enums:["label"]},number:{number:!0,unitless:!0},numbers:{number:!0,unitless:!0,multiple:!0},positiveNumber:{number:!0,unitless:!0,min:0,strictMin:!0},size:{number:!0,min:0},bidirectionalSize:{number:!0},bidirectionalSizeMaybePercent:{number:!0,allowPercent:!0},bidirectionalSizes:{number:!0,multiple:!0},sizeMaybePercent:{number:!0,min:0,allowPercent:!0},axisDirection:{enums:["horizontal","leftward","rightward","vertical","upward","downward","auto"]},axisDirectionExplicit:{enums:["leftward","rightward","upward","downward"]},axisDirectionPrimary:{enums:["horizontal","vertical"]},paddingRelativeTo:{enums:["width","height","average","min","max"]},bgWH:{number:!0,min:0,allowPercent:!0,enums:["auto"],multiple:!0},bgPos:{number:!0,allowPercent:!0,multiple:!0},bgRelativeTo:{enums:["inner","include-padding"],multiple:!0},bgRepeat:{enums:["repeat","repeat-x","repeat-y","no-repeat"],multiple:!0},bgFit:{enums:["none","contain","cover"],multiple:!0},bgCrossOrigin:{enums:["anonymous","use-credentials","null"],multiple:!0},bgClip:{enums:["none","node"],multiple:!0},bgContainment:{enums:["inside","over"],multiple:!0},boxSelection:{enums:["contain","overlap","none"]},color:{color:!0},colors:{color:!0,multiple:!0},fill:{enums:["solid","linear-gradient","radial-gradient"]},bool:{enums:["yes","no"]},bools:{enums:["yes","no"],multiple:!0},lineStyle:{enums:["solid","dotted","dashed"]},lineCap:{enums:["butt","round","square"]},linePosition:{enums:["center","inside","outside"]},lineJoin:{enums:["round","bevel","miter"]},borderStyle:{enums:["solid","dotted","dashed","double"]},curveStyle:{enums:["bezier","unbundled-bezier","haystack","segments","straight","straight-triangle","taxi","round-segments","round-taxi"]},radiusType:{enums:["arc-radius","influence-radius"],multiple:!0},fontFamily:{regex:'^([\\w- \\"]+(?:\\s*,\\s*[\\w- \\"]+)*)$'},fontStyle:{enums:["italic","normal","oblique"]},fontWeight:{enums:["normal","bold","bolder","lighter","100","200","300","400","500","600","800","900",100,200,300,400,500,600,700,800,900]},textDecoration:{enums:["none","underline","overline","line-through"]},textTransform:{enums:["none","uppercase","lowercase"]},textWrap:{enums:["none","wrap","ellipsis"]},textOverflowWrap:{enums:["whitespace","anywhere"]},textBackgroundShape:{enums:["rectangle","roundrectangle","round-rectangle","circle"]},nodeShape:{enums:["rectangle","roundrectangle","round-rectangle","cutrectangle","cut-rectangle","bottomroundrectangle","bottom-round-rectangle","barrel","ellipse","triangle","round-triangle","square","pentagon","round-pentagon","hexagon","round-hexagon","concavehexagon","concave-hexagon","heptagon","round-heptagon","octagon","round-octagon","tag","round-tag","star","diamond","round-diamond","vee","rhomboid","right-rhomboid","polygon"]},overlayShape:{enums:["roundrectangle","round-rectangle","ellipse"]},cornerRadius:{number:!0,min:0,units:"px|em",implicitUnits:"px",enums:["auto"]},compoundIncludeLabels:{enums:["include","exclude"]},arrowShape:{enums:["tee","triangle","triangle-tee","circle-triangle","triangle-cross","triangle-backcurve","vee","square","circle","diamond","chevron","none"]},arrowFill:{enums:["filled","hollow"]},arrowWidth:{number:!0,units:"%|px|em",implicitUnits:"px",enums:["match-line"]},display:{enums:["element","none"]},visibility:{enums:["hidden","visible"]},zCompoundDepth:{enums:["bottom","orphan","auto","top"]},zIndexCompare:{enums:["auto","manual"]},valign:{enums:["top","center","bottom"]},halign:{enums:["left","center","right"]},justification:{enums:["left","center","right","auto"]},text:{string:!0},data:{mapping:!0,regex:i("data")},layoutData:{mapping:!0,regex:i("layoutData")},scratch:{mapping:!0,regex:i("scratch")},mapData:{mapping:!0,regex:s("mapData")},mapLayoutData:{mapping:!0,regex:s("mapLayoutData")},mapScratch:{mapping:!0,regex:s("mapScratch")},fn:{mapping:!0,fn:!0},url:{regexes:u,singleRegexMatchValue:!0},urls:{regexes:u,singleRegexMatchValue:!0,multiple:!0},propList:{propList:!0},angle:{number:!0,units:"deg|rad",implicitUnits:"rad"},textRotation:{number:!0,units:"deg|rad",implicitUnits:"rad",enums:["none","autorotate"]},polygonPointList:{number:!0,multiple:!0,evenMultiple:!0,min:-1,max:1,unitless:!0},edgeDistances:{enums:["intersection","node-position","endpoints"]},edgeEndpoint:{number:!0,multiple:!0,units:"%|px|em|deg|rad",implicitUnits:"px",enums:["inside-to-node","outside-to-node","outside-to-node-or-label","outside-to-line","outside-to-line-or-label"],singleEnum:!0,validate:function(re,se){switch(re.length){case 2:return se[0]!=="deg"&&se[0]!=="rad"&&se[1]!=="deg"&&se[1]!=="rad";case 1:return je(re[0])||se[0]==="deg"||se[0]==="rad";default:return!1}}},easing:{regexes:["^(spring)\\s*\\(\\s*("+r+")\\s*,\\s*("+r+")\\s*\\)$","^(cubic-bezier)\\s*\\(\\s*("+r+")\\s*,\\s*("+r+")\\s*,\\s*("+r+")\\s*,\\s*("+r+")\\s*\\)$"],enums:["linear","ease","ease-in","ease-out","ease-in-out","ease-in-sine","ease-out-sine","ease-in-out-sine","ease-in-quad","ease-out-quad","ease-in-out-quad","ease-in-cubic","ease-out-cubic","ease-in-out-cubic","ease-in-quart","ease-out-quart","ease-in-out-quart","ease-in-quint","ease-out-quint","ease-in-out-quint","ease-in-expo","ease-out-expo","ease-in-out-expo","ease-in-circ","ease-out-circ","ease-in-out-circ"]},gradientDirection:{enums:["to-bottom","to-top","to-left","to-right","to-bottom-right","to-bottom-left","to-top-right","to-top-left","to-right-bottom","to-left-bottom","to-right-top","to-left-top"]},boundsExpansion:{number:!0,multiple:!0,min:0,validate:function(re){var se=re.length;return se===1||se===2||se===4}}};var f={zeroNonZero:function(re,se){return(re==null||se==null)&&re!==se||re==0&&se!=0?!0:re!=0&&se==0},any:function(re,se){return re!=se},emptyNonEmpty:function(re,se){var ce=Ca(re),me=Ca(se);return ce&&!me||!ce&&me}},c=jr.types,d=[{name:"label",type:c.text,triggersBounds:f.any,triggersZOrder:f.emptyNonEmpty},{name:"text-rotation",type:c.textRotation,triggersBounds:f.any},{name:"text-margin-x",type:c.bidirectionalSize,triggersBounds:f.any},{name:"text-margin-y",type:c.bidirectionalSize,triggersBounds:f.any}],v=[{name:"source-label",type:c.text,triggersBounds:f.any},{name:"source-text-rotation",type:c.textRotation,triggersBounds:f.any},{name:"source-text-margin-x",type:c.bidirectionalSize,triggersBounds:f.any},{name:"source-text-margin-y",type:c.bidirectionalSize,triggersBounds:f.any},{name:"source-text-offset",type:c.size,triggersBounds:f.any}],p=[{name:"target-label",type:c.text,triggersBounds:f.any},{name:"target-text-rotation",type:c.textRotation,triggersBounds:f.any},{name:"target-text-margin-x",type:c.bidirectionalSize,triggersBounds:f.any},{name:"target-text-margin-y",type:c.bidirectionalSize,triggersBounds:f.any},{name:"target-text-offset",type:c.size,triggersBounds:f.any}],g=[{name:"font-family",type:c.fontFamily,triggersBounds:f.any},{name:"font-style",type:c.fontStyle,triggersBounds:f.any},{name:"font-weight",type:c.fontWeight,triggersBounds:f.any},{name:"font-size",type:c.size,triggersBounds:f.any},{name:"text-transform",type:c.textTransform,triggersBounds:f.any},{name:"text-wrap",type:c.textWrap,triggersBounds:f.any},{name:"text-overflow-wrap",type:c.textOverflowWrap,triggersBounds:f.any},{name:"text-max-width",type:c.size,triggersBounds:f.any},{name:"text-outline-width",type:c.size,triggersBounds:f.any},{name:"line-height",type:c.positiveNumber,triggersBounds:f.any}],y=[{name:"text-valign",type:c.valign,triggersBounds:f.any},{name:"text-halign",type:c.halign,triggersBounds:f.any},{name:"color",type:c.color},{name:"text-outline-color",type:c.color},{name:"text-outline-opacity",type:c.zeroOneNumber},{name:"text-background-color",type:c.color},{name:"text-background-opacity",type:c.zeroOneNumber},{name:"text-background-padding",type:c.size,triggersBounds:f.any},{name:"text-border-opacity",type:c.zeroOneNumber},{name:"text-border-color",type:c.color},{name:"text-border-width",type:c.size,triggersBounds:f.any},{name:"text-border-style",type:c.borderStyle,triggersBounds:f.any},{name:"text-background-shape",type:c.textBackgroundShape,triggersBounds:f.any},{name:"text-justification",type:c.justification},{name:"box-select-labels",type:c.bool,triggersBounds:f.any}],x=[{name:"events",type:c.bool,triggersZOrder:f.any},{name:"text-events",type:c.bool,triggersZOrder:f.any},{name:"box-selection",type:c.boxSelection,triggersZOrder:f.any}],w=[{name:"display",type:c.display,triggersZOrder:f.any,triggersBounds:f.any,triggersBoundsOfConnectedEdges:f.any,triggersBoundsOfParallelEdges:function(re,se,ce){return re===se?!1:ce.pstyle("curve-style").value==="bezier"}},{name:"visibility",type:c.visibility,triggersZOrder:f.any},{name:"opacity",type:c.zeroOneNumber,triggersZOrder:f.zeroNonZero},{name:"text-opacity",type:c.zeroOneNumber},{name:"min-zoomed-font-size",type:c.size},{name:"z-compound-depth",type:c.zCompoundDepth,triggersZOrder:f.any},{name:"z-index-compare",type:c.zIndexCompare,triggersZOrder:f.any},{name:"z-index",type:c.number,triggersZOrder:f.any}],b=[{name:"overlay-padding",type:c.size,triggersBounds:f.any},{name:"overlay-color",type:c.color},{name:"overlay-opacity",type:c.zeroOneNumber,triggersBounds:f.zeroNonZero},{name:"overlay-shape",type:c.overlayShape,triggersBounds:f.any},{name:"overlay-corner-radius",type:c.cornerRadius}],E=[{name:"underlay-padding",type:c.size,triggersBounds:f.any},{name:"underlay-color",type:c.color},{name:"underlay-opacity",type:c.zeroOneNumber,triggersBounds:f.zeroNonZero},{name:"underlay-shape",type:c.overlayShape,triggersBounds:f.any},{name:"underlay-corner-radius",type:c.cornerRadius}],S=[{name:"transition-property",type:c.propList},{name:"transition-duration",type:c.time},{name:"transition-delay",type:c.time},{name:"transition-timing-function",type:c.easing}],T=function(re,se){return se.value==="label"?-re.poolIndex():se.pfValue},R=[{name:"height",type:c.nodeSize,triggersBounds:f.any,hashOverride:T},{name:"width",type:c.nodeSize,triggersBounds:f.any,hashOverride:T},{name:"shape",type:c.nodeShape,triggersBounds:f.any},{name:"shape-polygon-points",type:c.polygonPointList,triggersBounds:f.any},{name:"corner-radius",type:c.cornerRadius},{name:"background-color",type:c.color},{name:"background-fill",type:c.fill},{name:"background-opacity",type:c.zeroOneNumber},{name:"background-blacken",type:c.nOneOneNumber},{name:"background-gradient-stop-colors",type:c.colors},{name:"background-gradient-stop-positions",type:c.percentages},{name:"background-gradient-direction",type:c.gradientDirection},{name:"padding",type:c.sizeMaybePercent,triggersBounds:f.any},{name:"padding-relative-to",type:c.paddingRelativeTo,triggersBounds:f.any},{name:"bounds-expansion",type:c.boundsExpansion,triggersBounds:f.any}],A=[{name:"border-color",type:c.color},{name:"border-opacity",type:c.zeroOneNumber},{name:"border-width",type:c.size,triggersBounds:f.any},{name:"border-style",type:c.borderStyle},{name:"border-cap",type:c.lineCap},{name:"border-join",type:c.lineJoin},{name:"border-dash-pattern",type:c.numbers},{name:"border-dash-offset",type:c.number},{name:"border-position",type:c.linePosition}],k=[{name:"outline-color",type:c.color},{name:"outline-opacity",type:c.zeroOneNumber},{name:"outline-width",type:c.size,triggersBounds:f.any},{name:"outline-style",type:c.borderStyle},{name:"outline-offset",type:c.size,triggersBounds:f.any}],P=[{name:"background-image",type:c.urls},{name:"background-image-crossorigin",type:c.bgCrossOrigin},{name:"background-image-opacity",type:c.zeroOneNumbers},{name:"background-image-containment",type:c.bgContainment},{name:"background-image-smoothing",type:c.bools},{name:"background-position-x",type:c.bgPos},{name:"background-position-y",type:c.bgPos},{name:"background-width-relative-to",type:c.bgRelativeTo},{name:"background-height-relative-to",type:c.bgRelativeTo},{name:"background-repeat",type:c.bgRepeat},{name:"background-fit",type:c.bgFit},{name:"background-clip",type:c.bgClip},{name:"background-width",type:c.bgWH},{name:"background-height",type:c.bgWH},{name:"background-offset-x",type:c.bgPos},{name:"background-offset-y",type:c.bgPos}],D=[{name:"position",type:c.position,triggersBounds:f.any},{name:"compound-sizing-wrt-labels",type:c.compoundIncludeLabels,triggersBounds:f.any},{name:"min-width",type:c.size,triggersBounds:f.any},{name:"min-width-bias-left",type:c.sizeMaybePercent,triggersBounds:f.any},{name:"min-width-bias-right",type:c.sizeMaybePercent,triggersBounds:f.any},{name:"min-height",type:c.size,triggersBounds:f.any},{name:"min-height-bias-top",type:c.sizeMaybePercent,triggersBounds:f.any},{name:"min-height-bias-bottom",type:c.sizeMaybePercent,triggersBounds:f.any}],I=[{name:"line-style",type:c.lineStyle},{name:"line-color",type:c.color},{name:"line-fill",type:c.fill},{name:"line-cap",type:c.lineCap},{name:"line-opacity",type:c.zeroOneNumber},{name:"line-dash-pattern",type:c.numbers},{name:"line-dash-offset",type:c.number},{name:"line-outline-width",type:c.size},{name:"line-outline-color",type:c.color},{name:"line-gradient-stop-colors",type:c.colors},{name:"line-gradient-stop-positions",type:c.percentages},{name:"curve-style",type:c.curveStyle,triggersBounds:f.any,triggersBoundsOfParallelEdges:function(re,se){return re===se?!1:re==="bezier"||se==="bezier"}},{name:"haystack-radius",type:c.zeroOneNumber,triggersBounds:f.any},{name:"source-endpoint",type:c.edgeEndpoint,triggersBounds:f.any},{name:"target-endpoint",type:c.edgeEndpoint,triggersBounds:f.any},{name:"control-point-step-size",type:c.size,triggersBounds:f.any},{name:"control-point-distances",type:c.bidirectionalSizes,triggersBounds:f.any},{name:"control-point-weights",type:c.numbers,triggersBounds:f.any},{name:"segment-distances",type:c.bidirectionalSizes,triggersBounds:f.any},{name:"segment-weights",type:c.numbers,triggersBounds:f.any},{name:"segment-radii",type:c.numbers,triggersBounds:f.any},{name:"radius-type",type:c.radiusType,triggersBounds:f.any},{name:"taxi-turn",type:c.bidirectionalSizeMaybePercent,triggersBounds:f.any},{name:"taxi-turn-min-distance",type:c.size,triggersBounds:f.any},{name:"taxi-direction",type:c.axisDirection,triggersBounds:f.any},{name:"taxi-radius",type:c.number,triggersBounds:f.any},{name:"edge-distances",type:c.edgeDistances,triggersBounds:f.any},{name:"arrow-scale",type:c.positiveNumber,triggersBounds:f.any},{name:"loop-direction",type:c.angle,triggersBounds:f.any},{name:"loop-sweep",type:c.angle,triggersBounds:f.any},{name:"source-distance-from-node",type:c.size,triggersBounds:f.any},{name:"target-distance-from-node",type:c.size,triggersBounds:f.any}],M=[{name:"ghost",type:c.bool,triggersBounds:f.any},{name:"ghost-offset-x",type:c.bidirectionalSize,triggersBounds:f.any},{name:"ghost-offset-y",type:c.bidirectionalSize,triggersBounds:f.any},{name:"ghost-opacity",type:c.zeroOneNumber}],L=[{name:"selection-box-color",type:c.color},{name:"selection-box-opacity",type:c.zeroOneNumber},{name:"selection-box-border-color",type:c.color},{name:"selection-box-border-width",type:c.size},{name:"active-bg-color",type:c.color},{name:"active-bg-opacity",type:c.zeroOneNumber},{name:"active-bg-size",type:c.size},{name:"outside-texture-bg-color",type:c.color},{name:"outside-texture-bg-opacity",type:c.zeroOneNumber}],N=[];jr.pieBackgroundN=16,N.push({name:"pie-size",type:c.sizeMaybePercent}),N.push({name:"pie-hole",type:c.sizeMaybePercent}),N.push({name:"pie-start-angle",type:c.angle});for(var z=1;z<=jr.pieBackgroundN;z++)N.push({name:"pie-"+z+"-background-color",type:c.color}),N.push({name:"pie-"+z+"-background-size",type:c.percent}),N.push({name:"pie-"+z+"-background-opacity",type:c.zeroOneNumber});var G=[];jr.stripeBackgroundN=16,G.push({name:"stripe-size",type:c.sizeMaybePercent}),G.push({name:"stripe-direction",type:c.axisDirectionPrimary});for(var H=1;H<=jr.stripeBackgroundN;H++)G.push({name:"stripe-"+H+"-background-color",type:c.color}),G.push({name:"stripe-"+H+"-background-size",type:c.percent}),G.push({name:"stripe-"+H+"-background-opacity",type:c.zeroOneNumber});var U=[],F=jr.arrowPrefixes=["source","mid-source","target","mid-target"];[{name:"arrow-shape",type:c.arrowShape,triggersBounds:f.any},{name:"arrow-color",type:c.color},{name:"arrow-fill",type:c.arrowFill},{name:"arrow-width",type:c.arrowWidth}].forEach(function(Q){F.forEach(function(re){var se=re+"-"+Q.name,ce=Q.type,me=Q.triggersBounds;U.push({name:se,type:ce,triggersBounds:me})})},{});var X=jr.properties=[].concat(x,S,w,b,E,M,y,g,d,v,p,R,A,k,P,N,G,D,I,U,L),K=jr.propertyGroups={behavior:x,transition:S,visibility:w,overlay:b,underlay:E,ghost:M,commonLabel:y,labelDimensions:g,mainLabel:d,sourceLabel:v,targetLabel:p,nodeBody:R,nodeBorder:A,nodeOutline:k,backgroundImage:P,pie:N,stripe:G,compound:D,edgeLine:I,edgeArrow:U,core:L},B=jr.propertyGroupNames={},V=jr.propertyGroupKeys=Object.keys(K);V.forEach(function(Q){B[Q]=K[Q].map(function(re){return re.name}),K[Q].forEach(function(re){return re.groupKey=Q})});var te=jr.aliases=[{name:"content",pointsTo:"label"},{name:"control-point-distance",pointsTo:"control-point-distances"},{name:"control-point-weight",pointsTo:"control-point-weights"},{name:"segment-distance",pointsTo:"segment-distances"},{name:"segment-weight",pointsTo:"segment-weights"},{name:"segment-radius",pointsTo:"segment-radii"},{name:"edge-text-rotation",pointsTo:"text-rotation"},{name:"padding-left",pointsTo:"padding"},{name:"padding-right",pointsTo:"padding"},{name:"padding-top",pointsTo:"padding"},{name:"padding-bottom",pointsTo:"padding"}];jr.propertyNames=X.map(function(Q){return Q.name});for(var $=0;$<X.length;$++){var j=X[$];X[j.name]=j}for(var Y=0;Y<te.length;Y++){var ee=te[Y],le=X[ee.pointsTo],ie={name:ee.name,alias:!0,pointsTo:le};X.push(ie),X[ee.name]=ie}})();jr.getDefaultProperty=function(r){return this.getDefaultProperties()[r]};jr.getDefaultProperties=function(){var r=this._private;if(r.defaultProperties!=null)return r.defaultProperties;for(var e=Ke({"selection-box-color":"#ddd","selection-box-opacity":.65,"selection-box-border-color":"#aaa","selection-box-border-width":1,"active-bg-color":"black","active-bg-opacity":.15,"active-bg-size":30,"outside-texture-bg-color":"#000","outside-texture-bg-opacity":.125,events:"yes","text-events":"no","text-valign":"top","text-halign":"center","text-justification":"auto","line-height":1,color:"#000","box-selection":"contain","text-outline-color":"#000","text-outline-width":0,"text-outline-opacity":1,"text-opacity":1,"text-decoration":"none","text-transform":"none","text-wrap":"none","text-overflow-wrap":"whitespace","text-max-width":9999,"text-background-color":"#000","text-background-opacity":0,"text-background-shape":"rectangle","text-background-padding":0,"text-border-opacity":0,"text-border-width":0,"text-border-style":"solid","text-border-color":"#000","font-family":"Helvetica Neue, Helvetica, sans-serif","font-style":"normal","font-weight":"normal","font-size":16,"min-zoomed-font-size":0,"text-rotation":"none","source-text-rotation":"none","target-text-rotation":"none",visibility:"visible",display:"element",opacity:1,"z-compound-depth":"auto","z-index-compare":"auto","z-index":0,label:"","text-margin-x":0,"text-margin-y":0,"source-label":"","source-text-offset":0,"source-text-margin-x":0,"source-text-margin-y":0,"target-label":"","target-text-offset":0,"target-text-margin-x":0,"target-text-margin-y":0,"overlay-opacity":0,"overlay-color":"#000","overlay-padding":10,"overlay-shape":"round-rectangle","overlay-corner-radius":"auto","underlay-opacity":0,"underlay-color":"#000","underlay-padding":10,"underlay-shape":"round-rectangle","underlay-corner-radius":"auto","transition-property":"none","transition-duration":0,"transition-delay":0,"transition-timing-function":"linear","box-select-labels":"no","background-blacken":0,"background-color":"#999","background-fill":"solid","background-opacity":1,"background-image":"none","background-image-crossorigin":"anonymous","background-image-opacity":1,"background-image-containment":"inside","background-image-smoothing":"yes","background-position-x":"50%","background-position-y":"50%","background-offset-x":0,"background-offset-y":0,"background-width-relative-to":"include-padding","background-height-relative-to":"include-padding","background-repeat":"no-repeat","background-fit":"none","background-clip":"node","background-width":"auto","background-height":"auto","border-color":"#000","border-opacity":1,"border-width":0,"border-style":"solid","border-dash-pattern":[4,2],"border-dash-offset":0,"border-cap":"butt","border-join":"miter","border-position":"center","outline-color":"#999","outline-opacity":1,"outline-width":0,"outline-offset":0,"outline-style":"solid",height:30,width:30,shape:"ellipse","shape-polygon-points":"-1, -1,   1, -1,   1, 1,   -1, 1","corner-radius":"auto","bounds-expansion":0,"background-gradient-direction":"to-bottom","background-gradient-stop-colors":"#999","background-gradient-stop-positions":"0%",ghost:"no","ghost-offset-y":0,"ghost-offset-x":0,"ghost-opacity":0,padding:0,"padding-relative-to":"width",position:"origin","compound-sizing-wrt-labels":"include","min-width":0,"min-width-bias-left":0,"min-width-bias-right":0,"min-height":0,"min-height-bias-top":0,"min-height-bias-bottom":0},{"pie-size":"100%","pie-hole":0,"pie-start-angle":"0deg"},[{name:"pie-{{i}}-background-color",value:"black"},{name:"pie-{{i}}-background-size",value:"0%"},{name:"pie-{{i}}-background-opacity",value:1}].reduce(function(f,c){for(var d=1;d<=jr.pieBackgroundN;d++){var v=c.name.replace("{{i}}",d),p=c.value;f[v]=p}return f},{}),{"stripe-size":"100%","stripe-direction":"horizontal"},[{name:"stripe-{{i}}-background-color",value:"black"},{name:"stripe-{{i}}-background-size",value:"0%"},{name:"stripe-{{i}}-background-opacity",value:1}].reduce(function(f,c){for(var d=1;d<=jr.stripeBackgroundN;d++){var v=c.name.replace("{{i}}",d),p=c.value;f[v]=p}return f},{}),{"line-style":"solid","line-color":"#999","line-fill":"solid","line-cap":"butt","line-opacity":1,"line-outline-width":0,"line-outline-color":"#000","line-gradient-stop-colors":"#999","line-gradient-stop-positions":"0%","control-point-step-size":40,"control-point-weights":.5,"segment-weights":.5,"segment-distances":20,"segment-radii":15,"radius-type":"arc-radius","taxi-turn":"50%","taxi-radius":15,"taxi-turn-min-distance":10,"taxi-direction":"auto","edge-distances":"intersection","curve-style":"haystack","haystack-radius":0,"arrow-scale":1,"loop-direction":"-45deg","loop-sweep":"-90deg","source-distance-from-node":0,"target-distance-from-node":0,"source-endpoint":"outside-to-node","target-endpoint":"outside-to-node","line-dash-pattern":[6,3],"line-dash-offset":0},[{name:"arrow-shape",value:"none"},{name:"arrow-color",value:"#999"},{name:"arrow-fill",value:"filled"},{name:"arrow-width",value:1}].reduce(function(f,c){return jr.arrowPrefixes.forEach(function(d){var v=d+"-"+c.name,p=c.value;f[v]=p}),f},{})),t={},n=0;n<this.properties.length;n++){var a=this.properties[n];if(!a.pointsTo){var i=a.name,s=e[i],u=this.parse(i,s);t[i]=u}}return r.defaultProperties=t,r.defaultProperties};jr.addDefaultStylesheet=function(){this.selector(":parent").css({shape:"rectangle",padding:10,"background-color":"#eee","border-color":"#ccc","border-width":1}).selector("edge").css({width:3}).selector(":loop").css({"curve-style":"bezier"}).selector("edge:compound").css({"curve-style":"bezier","source-endpoint":"outside-to-line","target-endpoint":"outside-to-line"}).selector(":selected").css({"background-color":"#0169D9","line-color":"#0169D9","source-arrow-color":"#0169D9","target-arrow-color":"#0169D9","mid-source-arrow-color":"#0169D9","mid-target-arrow-color":"#0169D9"}).selector(":parent:selected").css({"background-color":"#CCE1F9","border-color":"#aec8e5"}).selector(":active").css({"overlay-color":"black","overlay-padding":10,"overlay-opacity":.25}),this.defaultLength=this.length};var Xl={};Xl.parse=function(r,e,t,n){var a=this;if(qr(e))return a.parseImplWarn(r,e,t,n);var i=n==="mapping"||n===!0||n===!1||n==null?"dontcare":n,s=t?"t":"f",u=""+e,f=nR(r,u,s,i),c=a.propCache=a.propCache||[],d;return(d=c[f])||(d=c[f]=a.parseImplWarn(r,e,t,n)),(t||n==="mapping")&&(d=_n(d),d&&(d.value=_n(d.value))),d};Xl.parseImplWarn=function(r,e,t,n){var a=this.parseImpl(r,e,t,n);return!a&&e!=null&&pr("The style property `".concat(r,": ").concat(e,"` is invalid")),a&&(a.name==="width"||a.name==="height")&&e==="label"&&pr("The style value of `label` is deprecated for `"+a.name+"`"),a};Xl.parseImpl=function(r,e,t,n){var a=this;r=S0(r);var i=a.properties[r],s=e,u=a.types;if(!i||e===void 0)return null;i.alias&&(i=i.pointsTo,r=i.name);var f=je(e);f&&(e=e.trim());var c=i.type;if(!c)return null;if(t&&(e===""||e===null))return{name:r,value:e,bypass:!0,deleteBypass:!0};if(qr(e))return{name:r,value:e,strValue:"fn",mapped:u.fn,bypass:t};var d,v;if(!(!f||n||e.length<7||e[1]!=="a")){if(e.length>=7&&e[0]==="d"&&(d=new RegExp(u.data.regex).exec(e))){if(t)return!1;var p=u.data;return{name:r,value:d,strValue:""+e,mapped:p,field:d[1],bypass:t}}else if(e.length>=10&&e[0]==="m"&&(v=new RegExp(u.mapData.regex).exec(e))){if(t||c.multiple)return!1;var g=u.mapData;if(!(c.color||c.number))return!1;var y=this.parse(r,v[4]);if(!y||y.mapped)return!1;var x=this.parse(r,v[5]);if(!x||x.mapped)return!1;if(y.pfValue===x.pfValue||y.strValue===x.strValue)return pr("`"+r+": "+e+"` is not a valid mapper because the output range is zero; converting to `"+r+": "+y.strValue+"`"),this.parse(r,y.strValue);if(c.color){var w=y.value,b=x.value,E=w[0]===b[0]&&w[1]===b[1]&&w[2]===b[2]&&(w[3]===b[3]||(w[3]==null||w[3]===1)&&(b[3]==null||b[3]===1));if(E)return!1}return{name:r,value:v,strValue:""+e,mapped:g,field:v[1],fieldMin:parseFloat(v[2]),fieldMax:parseFloat(v[3]),valueMin:y.value,valueMax:x.value,bypass:t}}}if(c.multiple&&n!=="multiple"){var S;if(f?S=e.split(/\s+/):mr(e)?S=e:S=[e],c.evenMultiple&&S.length%2!==0)return null;for(var T=[],R=[],A=[],k="",P=!1,D=0;D<S.length;D++){var I=a.parse(r,S[D],t,"multiple");P=P||je(I.value),T.push(I.value),A.push(I.pfValue!=null?I.pfValue:I.value),R.push(I.units),k+=(D>0?" ":"")+I.strValue}return c.validate&&!c.validate(T,R)?null:c.singleEnum&&P?T.length===1&&je(T[0])?{name:r,value:T[0],strValue:T[0],bypass:t}:null:{name:r,value:T,pfValue:A,strValue:k,bypass:t,units:R}}var M=function(){for(var ie=0;ie<c.enums.length;ie++){var Q=c.enums[ie];if(Q===e)return{name:r,value:e,strValue:""+e,bypass:t}}return null};if(c.number){var L,N="px";if(c.units&&(L=c.units),c.implicitUnits&&(N=c.implicitUnits),!c.unitless)if(f){var z="px|em"+(c.allowPercent?"|\\%":"");L&&(z=L);var G=e.match("^("+Qr+")("+z+")?$");G&&(e=G[1],L=G[2]||N)}else(!L||c.implicitUnits)&&(L=N);if(e=parseFloat(e),isNaN(e)&&c.enums===void 0)return null;if(isNaN(e)&&c.enums!==void 0)return e=s,M();if(c.integer&&!rM(e)||c.min!==void 0&&(e<c.min||c.strictMin&&e===c.min)||c.max!==void 0&&(e>c.max||c.strictMax&&e===c.max))return null;var H={name:r,value:e,strValue:""+e+(L||""),units:L,bypass:t};return c.unitless||L!=="px"&&L!=="em"?H.pfValue=e:H.pfValue=L==="px"||!L?e:this.getEmSizeInPixels()*e,(L==="ms"||L==="s")&&(H.pfValue=L==="ms"?e:1e3*e),(L==="deg"||L==="rad")&&(H.pfValue=L==="rad"?e:cO(e)),L==="%"&&(H.pfValue=e/100),H}else if(c.propList){var U=[],F=""+e;if(F!=="none"){for(var X=F.split(/\s*,\s*|\s+/),K=0;K<X.length;K++){var B=X[K].trim();a.properties[B]?U.push(B):pr("`"+B+"` is not a valid property name")}if(U.length===0)return null}return{name:r,value:U,strValue:U.length===0?"none":U.join(" "),bypass:t}}else if(c.color){var V=Xk(e);return V?{name:r,value:V,pfValue:V,strValue:"rgb("+V[0]+","+V[1]+","+V[2]+")",bypass:t}:null}else if(c.regex||c.regexes){if(c.enums){var te=M();if(te)return te}for(var $=c.regexes?c.regexes:[c.regex],j=0;j<$.length;j++){var Y=new RegExp($[j]),ee=Y.exec(e);if(ee)return{name:r,value:c.singleRegexMatchValue?ee[1]:ee,strValue:""+e,bypass:t}}return null}else return c.string?{name:r,value:""+e,strValue:""+e,bypass:t}:c.enums?M():null};var it=function(e){if(!(this instanceof it))return new it(e);if(!E0(e)){Pr("A style must have a core reference");return}this._private={cy:e,coreStyle:{}},this.length=0,this.resetToDefault()},xt=it.prototype;xt.instanceString=function(){return"style"};xt.clear=function(){for(var r=this._private,e=r.cy,t=e.elements(),n=0;n<this.length;n++)this[n]=void 0;return this.length=0,r.contextStyles={},r.propDiffs={},this.cleanElements(t,!0),t.forEach(function(a){var i=a[0]._private;i.styleDirty=!0,i.appliedInitStyle=!1}),this};xt.resetToDefault=function(){return this.clear(),this.addDefaultStylesheet(),this};xt.core=function(r){return this._private.coreStyle[r]||this.getDefaultProperty(r)};xt.selector=function(r){var e=r==="core"?null:new ka(r),t=this.length++;return this[t]={selector:e,properties:[],mappedProperties:[],index:t},this};xt.css=function(){var r=this,e=arguments;if(e.length===1)for(var t=e[0],n=0;n<r.properties.length;n++){var a=r.properties[n],i=t[a.name];i===void 0&&(i=t[Ll(a.name)]),i!==void 0&&this.cssRule(a.name,i)}else e.length===2&&this.cssRule(e[0],e[1]);return this};xt.style=xt.css;xt.cssRule=function(r,e){var t=this.parse(r,e);if(t){var n=this.length-1;this[n].properties.push(t),this[n].properties[t.name]=t,t.name.match(/pie-(\d+)-background-size/)&&t.value&&(this._private.hasPie=!0),t.name.match(/stripe-(\d+)-background-size/)&&t.value&&(this._private.hasStripe=!0),t.mapped&&this[n].mappedProperties.push(t);var a=!this[n].selector;a&&(this._private.coreStyle[t.name]=t)}return this};xt.append=function(r){return Wk(r)?r.appendToStyle(this):mr(r)?this.appendFromJson(r):je(r)&&this.appendFromString(r),this};it.fromJson=function(r,e){var t=new it(r);return t.fromJson(e),t};it.fromString=function(r,e){return new it(r).fromString(e)};[ot,Ls,q0,kn,Yl,F0,jr,Xl].forEach(function(r){Ke(xt,r)});it.types=xt.types;it.properties=xt.properties;it.propertyGroups=xt.propertyGroups;it.propertyGroupNames=xt.propertyGroupNames;it.propertyGroupKeys=xt.propertyGroupKeys;var pB={style:function(e){if(e){var t=this.setStyle(e);t.update()}return this._private.style},setStyle:function(e){var t=this._private;return Wk(e)?t.style=e.generateStyle(this):mr(e)?t.style=it.fromJson(this,e):je(e)?t.style=it.fromString(this,e):t.style=it(this),t.style},updateStyle:function(){this.mutableElements().updateStyle()}},gB="single",ui={autolock:function(e){if(e!==void 0)this._private.autolock=!!e;else return this._private.autolock;return this},autoungrabify:function(e){if(e!==void 0)this._private.autoungrabify=!!e;else return this._private.autoungrabify;return this},autounselectify:function(e){if(e!==void 0)this._private.autounselectify=!!e;else return this._private.autounselectify;return this},selectionType:function(e){var t=this._private;if(t.selectionType==null&&(t.selectionType=gB),e!==void 0)(e==="additive"||e==="single")&&(t.selectionType=e);else return t.selectionType;return this},panningEnabled:function(e){if(e!==void 0)this._private.panningEnabled=!!e;else return this._private.panningEnabled;return this},userPanningEnabled:function(e){if(e!==void 0)this._private.userPanningEnabled=!!e;else return this._private.userPanningEnabled;return this},zoomingEnabled:function(e){if(e!==void 0)this._private.zoomingEnabled=!!e;else return this._private.zoomingEnabled;return this},userZoomingEnabled:function(e){if(e!==void 0)this._private.userZoomingEnabled=!!e;else return this._private.userZoomingEnabled;return this},boxSelectionEnabled:function(e){if(e!==void 0)this._private.boxSelectionEnabled=!!e;else return this._private.boxSelectionEnabled;return this},pan:function(){var e=arguments,t=this._private.pan,n,a,i,s,u;switch(e.length){case 0:return t;case 1:if(je(e[0]))return n=e[0],t[n];if(cr(e[0])){if(!this._private.panningEnabled)return this;i=e[0],s=i.x,u=i.y,Te(s)&&(t.x=s),Te(u)&&(t.y=u),this.emit("pan viewport")}break;case 2:if(!this._private.panningEnabled)return this;n=e[0],a=e[1],(n==="x"||n==="y")&&Te(a)&&(t[n]=a),this.emit("pan viewport");break}return this.notify("viewport"),this},panBy:function(e,t){var n=arguments,a=this._private.pan,i,s,u,f,c;if(!this._private.panningEnabled)return this;switch(n.length){case 1:cr(e)&&(u=n[0],f=u.x,c=u.y,Te(f)&&(a.x+=f),Te(c)&&(a.y+=c),this.emit("pan viewport"));break;case 2:i=e,s=t,(i==="x"||i==="y")&&Te(s)&&(a[i]+=s),this.emit("pan viewport");break}return this.notify("viewport"),this},gc:function(){this.notify("gc")},fit:function(e,t){var n=this.getFitViewport(e,t);if(n){var a=this._private;a.zoom=n.zoom,a.pan=n.pan,this.emit("pan zoom viewport"),this.notify("viewport")}return this},getFitViewport:function(e,t){if(Te(e)&&t===void 0&&(t=e,e=void 0),!(!this._private.panningEnabled||!this._private.zoomingEnabled)){var n;if(je(e)){var a=e;e=this.$(a)}else if(aM(e)){var i=e;n={x1:i.x1,y1:i.y1,x2:i.x2,y2:i.y2},n.w=n.x2-n.x1,n.h=n.y2-n.y1}else Wt(e)||(e=this.mutableElements());if(!(Wt(e)&&e.empty())){n=n||e.boundingBox();var s=this.width(),u=this.height(),f;if(t=Te(t)?t:0,!isNaN(s)&&!isNaN(u)&&s>0&&u>0&&!isNaN(n.w)&&!isNaN(n.h)&&n.w>0&&n.h>0){f=Math.min((s-2*t)/n.w,(u-2*t)/n.h),f=f>this._private.maxZoom?this._private.maxZoom:f,f=f<this._private.minZoom?this._private.minZoom:f;var c={x:(s-f*(n.x1+n.x2))/2,y:(u-f*(n.y1+n.y2))/2};return{zoom:f,pan:c}}}}},zoomRange:function(e,t){var n=this._private;if(t==null){var a=e;e=a.min,t=a.max}return Te(e)&&Te(t)&&e<=t?(n.minZoom=e,n.maxZoom=t):Te(e)&&t===void 0&&e<=n.maxZoom?n.minZoom=e:Te(t)&&e===void 0&&t>=n.minZoom&&(n.maxZoom=t),this},minZoom:function(e){return e===void 0?this._private.minZoom:this.zoomRange({min:e})},maxZoom:function(e){return e===void 0?this._private.maxZoom:this.zoomRange({max:e})},getZoomedViewport:function(e){var t=this._private,n=t.pan,a=t.zoom,i,s,u=!1;if(t.zoomingEnabled||(u=!0),Te(e)?s=e:cr(e)&&(s=e.level,e.position!=null?i=Fl(e.position,a,n):e.renderedPosition!=null&&(i=e.renderedPosition),i!=null&&!t.panningEnabled&&(u=!0)),s=s>t.maxZoom?t.maxZoom:s,s=s<t.minZoom?t.minZoom:s,u||!Te(s)||s===a||i!=null&&(!Te(i.x)||!Te(i.y)))return null;if(i!=null){var f=n,c=a,d=s,v={x:-d/c*(i.x-f.x)+i.x,y:-d/c*(i.y-f.y)+i.y};return{zoomed:!0,panned:!0,zoom:d,pan:v}}else return{zoomed:!0,panned:!1,zoom:s,pan:n}},zoom:function(e){if(e===void 0)return this._private.zoom;var t=this.getZoomedViewport(e),n=this._private;return t==null||!t.zoomed?this:(n.zoom=t.zoom,t.panned&&(n.pan.x=t.pan.x,n.pan.y=t.pan.y),this.emit("zoom"+(t.panned?" pan":"")+" viewport"),this.notify("viewport"),this)},viewport:function(e){var t=this._private,n=!0,a=!0,i=[],s=!1,u=!1;if(!e)return this;if(Te(e.zoom)||(n=!1),cr(e.pan)||(a=!1),!n&&!a)return this;if(n){var f=e.zoom;f<t.minZoom||f>t.maxZoom||!t.zoomingEnabled?s=!0:(t.zoom=f,i.push("zoom"))}if(a&&(!s||!e.cancelOnFailedZoom)&&t.panningEnabled){var c=e.pan;Te(c.x)&&(t.pan.x=c.x,u=!1),Te(c.y)&&(t.pan.y=c.y,u=!1),u||i.push("pan")}return i.length>0&&(i.push("viewport"),this.emit(i.join(" ")),this.notify("viewport")),this},center:function(e){var t=this.getCenterPan(e);return t&&(this._private.pan=t,this.emit("pan viewport"),this.notify("viewport")),this},getCenterPan:function(e,t){if(this._private.panningEnabled){if(je(e)){var n=e;e=this.mutableElements().filter(n)}else Wt(e)||(e=this.mutableElements());if(e.length!==0){var a=e.boundingBox(),i=this.width(),s=this.height();t=t===void 0?this._private.zoom:t;var u={x:(i-t*(a.x1+a.x2))/2,y:(s-t*(a.y1+a.y2))/2};return u}}},reset:function(){return!this._private.panningEnabled||!this._private.zoomingEnabled?this:(this.viewport({pan:{x:0,y:0},zoom:1}),this)},invalidateSize:function(){this._private.sizeCache=null},size:function(){var e=this._private,t=e.container,n=this;return e.sizeCache=e.sizeCache||(t?(function(){var a=n.window().getComputedStyle(t),i=function(u){return parseFloat(a.getPropertyValue(u))};return{width:t.clientWidth-i("padding-left")-i("padding-right"),height:t.clientHeight-i("padding-top")-i("padding-bottom")}})():{width:1,height:1})},width:function(){return this.size().width},height:function(){return this.size().height},extent:function(){var e=this._private.pan,t=this._private.zoom,n=this.renderedExtent(),a={x1:(n.x1-e.x)/t,x2:(n.x2-e.x)/t,y1:(n.y1-e.y)/t,y2:(n.y2-e.y)/t};return a.w=a.x2-a.x1,a.h=a.y2-a.y1,a},renderedExtent:function(){var e=this.width(),t=this.height();return{x1:0,y1:0,x2:e,y2:t,w:e,h:t}},multiClickDebounceTime:function(e){if(e)this._private.multiClickDebounceTime=e;else return this._private.multiClickDebounceTime;return this}};ui.centre=ui.center;ui.autolockNodes=ui.autolock;ui.autoungrabifyNodes=ui.autoungrabify;var Ts={data:hr.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeData:hr.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),scratch:hr.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:hr.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0})};Ts.attr=Ts.data;Ts.removeAttr=Ts.removeData;var _s=function(e){var t=this;e=Ke({},e);var n=e.container;n&&!El(n)&&El(n[0])&&(n=n[0]);var a=n?n._cyreg:null;a=a||{},a&&a.cy&&(a.cy.destroy(),a={});var i=a.readies=a.readies||[];n&&(n._cyreg=a),a.cy=t;var s=Zr!==void 0&&n!==void 0&&!e.headless,u=e;u.layout=Ke({name:s?"grid":"null"},u.layout),u.renderer=Ke({name:s?"canvas":"null"},u.renderer);var f=function(y,x,w){return x!==void 0?x:w!==void 0?w:y},c=this._private={container:n,ready:!1,options:u,elements:new ct(this),listeners:[],aniEles:new ct(this),data:u.data||{},scratch:{},layout:null,renderer:null,destroyed:!1,notificationsEnabled:!0,minZoom:1e-50,maxZoom:1e50,zoomingEnabled:f(!0,u.zoomingEnabled),userZoomingEnabled:f(!0,u.userZoomingEnabled),panningEnabled:f(!0,u.panningEnabled),userPanningEnabled:f(!0,u.userPanningEnabled),boxSelectionEnabled:f(!0,u.boxSelectionEnabled),autolock:f(!1,u.autolock,u.autolockNodes),autoungrabify:f(!1,u.autoungrabify,u.autoungrabifyNodes),autounselectify:f(!1,u.autounselectify),styleEnabled:u.styleEnabled===void 0?s:u.styleEnabled,zoom:Te(u.zoom)?u.zoom:1,pan:{x:cr(u.pan)&&Te(u.pan.x)?u.pan.x:0,y:cr(u.pan)&&Te(u.pan.y)?u.pan.y:0},animation:{current:[],queue:[]},hasCompoundNodes:!1,multiClickDebounceTime:f(250,u.multiClickDebounceTime)};this.createEmitter(),this.selectionType(u.selectionType),this.zoomRange({min:u.minZoom,max:u.maxZoom});var d=function(y,x){var w=y.some(iM);if(w)return uo.all(y).then(x);x(y)};c.styleEnabled&&t.setStyle([]);var v=Ke({},u,u.renderer);t.initRenderer(v);var p=function(y,x,w){t.notifications(!1);var b=t.mutableElements();b.length>0&&b.remove(),y!=null&&(cr(y)||mr(y))&&t.add(y),t.one("layoutready",function(S){t.notifications(!0),t.emit(S),t.one("load",x),t.emitAndNotify("load")}).one("layoutstop",function(){t.one("done",w),t.emit("done")});var E=Ke({},t._private.options.layout);E.eles=t.elements(),t.layout(E).run()};d([u.style,u.elements],function(g){var y=g[0],x=g[1];c.styleEnabled&&t.style().append(y),p(x,function(){t.startAnimationLoop(),c.ready=!0,qr(u.ready)&&t.on("ready",u.ready);for(var w=0;w<i.length;w++){var b=i[w];t.on("ready",b)}a&&(a.readies=[]),t.emit("ready")},u.done)})},Al=_s.prototype;Ke(Al,{instanceString:function(){return"core"},isReady:function(){return this._private.ready},destroyed:function(){return this._private.destroyed},ready:function(e){return this.isReady()?this.emitter().emit("ready",[],e):this.on("ready",e),this},destroy:function(){var e=this;if(!e.destroyed())return e.stopAnimationLoop(),e.destroyRenderer(),this.emit("destroy"),e._private.destroyed=!0,e},hasElementWithId:function(e){return this._private.elements.hasElementWithId(e)},getElementById:function(e){return this._private.elements.getElementById(e)},hasCompoundNodes:function(){return this._private.hasCompoundNodes},headless:function(){return this._private.renderer.isHeadless()},styleEnabled:function(){return this._private.styleEnabled},addToPool:function(e){return this._private.elements.merge(e),this},removeFromPool:function(e){return this._private.elements.unmerge(e),this},container:function(){return this._private.container||null},window:function(){var e=this._private.container;if(e==null)return Zr;var t=this._private.container.ownerDocument;return t===void 0||t==null?Zr:t.defaultView||Zr},mount:function(e){if(e!=null){var t=this,n=t._private,a=n.options;return!El(e)&&El(e[0])&&(e=e[0]),t.stopAnimationLoop(),t.destroyRenderer(),n.container=e,n.styleEnabled=!0,t.invalidateSize(),t.initRenderer(Ke({},a,a.renderer,{name:a.renderer.name==="null"?"canvas":a.renderer.name})),t.startAnimationLoop(),t.style(a.style),t.emit("mount"),t}},unmount:function(){var e=this;return e.stopAnimationLoop(),e.destroyRenderer(),e.initRenderer({name:"null"}),e.emit("unmount"),e},options:function(){return _n(this._private.options)},json:function(e){var t=this,n=t._private,a=t.mutableElements(),i=function(T){return t.getElementById(T.id())};if(cr(e)){if(t.startBatch(),e.elements){var s={},u=function(T,R){for(var A=[],k=[],P=0;P<T.length;P++){var D=T[P];if(!D.data.id){pr("cy.json() cannot handle elements without an ID attribute");continue}var I=""+D.data.id,M=t.getElementById(I);s[I]=!0,M.length!==0?k.push({ele:M,json:D}):(R&&(D.group=R),A.push(D))}t.add(A);for(var L=0;L<k.length;L++){var N=k[L],z=N.ele,G=N.json;z.json(G)}};if(mr(e.elements))u(e.elements);else for(var f=["nodes","edges"],c=0;c<f.length;c++){var d=f[c],v=e.elements[d];mr(v)&&u(v,d)}var p=t.collection();a.filter(function(S){return!s[S.id()]}).forEach(function(S){S.isParent()?p.merge(S):S.remove()}),p.forEach(function(S){return S.children().move({parent:null})}),p.forEach(function(S){return i(S).remove()})}e.style&&t.style(e.style),e.zoom!=null&&e.zoom!==n.zoom&&t.zoom(e.zoom),e.pan&&(e.pan.x!==n.pan.x||e.pan.y!==n.pan.y)&&t.pan(e.pan),e.data&&t.data(e.data);for(var g=["minZoom","maxZoom","zoomingEnabled","userZoomingEnabled","panningEnabled","userPanningEnabled","boxSelectionEnabled","autolock","autoungrabify","autounselectify","multiClickDebounceTime"],y=0;y<g.length;y++){var x=g[y];e[x]!=null&&t[x](e[x])}return t.endBatch(),this}else{var w=!!e,b={};w?b.elements=this.elements().map(function(S){return S.json()}):(b.elements={},a.forEach(function(S){var T=S.group();b.elements[T]||(b.elements[T]=[]),b.elements[T].push(S.json())})),this._private.styleEnabled&&(b.style=t.style().json()),b.data=_n(t.data());var E=n.options;return b.zoomingEnabled=n.zoomingEnabled,b.userZoomingEnabled=n.userZoomingEnabled,b.zoom=n.zoom,b.minZoom=n.minZoom,b.maxZoom=n.maxZoom,b.panningEnabled=n.panningEnabled,b.userPanningEnabled=n.userPanningEnabled,b.pan=_n(n.pan),b.boxSelectionEnabled=n.boxSelectionEnabled,b.renderer=_n(E.renderer),b.hideEdgesOnViewport=E.hideEdgesOnViewport,b.textureOnViewport=E.textureOnViewport,b.wheelSensitivity=E.wheelSensitivity,b.motionBlur=E.motionBlur,b.multiClickDebounceTime=E.multiClickDebounceTime,b}}});Al.$id=Al.getElementById;[iB,fB,WR,u0,pl,dB,l0,gl,pB,ui,Ts].forEach(function(r){Ke(Al,r)});var yB={fit:!0,directed:!1,direction:"downward",padding:30,circle:!1,grid:!1,spacingFactor:1.75,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,roots:void 0,depthSort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,t){return!0},ready:void 0,stop:void 0,transform:function(e,t){return t}},mB={maximal:!1,acyclic:!1},ji=function(e){return e.scratch("breadthfirst")},GE=function(e,t){return e.scratch("breadthfirst",t)};function KR(r){this.options=Ke({},yB,mB,r)}KR.prototype.run=function(){var r=this.options,e=r.cy,t=r.eles,n=t.nodes().filter(function(Oe){return Oe.isChildless()}),a=t,i=r.directed,s=r.acyclic||r.maximal||r.maximalAdjustments>0,u=!!r.boundingBox,f=Rt(u?r.boundingBox:structuredClone(e.extent())),c;if(Wt(r.roots))c=r.roots;else if(mr(r.roots)){for(var d=[],v=0;v<r.roots.length;v++){var p=r.roots[v],g=e.getElementById(p);d.push(g)}c=e.collection(d)}else if(je(r.roots))c=e.$(r.roots);else if(i)c=n.roots();else{var y=t.components();c=e.collection();for(var x=function(){var Ce=y[w],Ae=Ce.maxDegree(!1),Pe=Ce.filter(function(Ne){return Ne.degree(!1)===Ae});c=c.add(Pe)},w=0;w<y.length;w++)x()}var b=[],E={},S=function(Ce,Ae){b[Ae]==null&&(b[Ae]=[]);var Pe=b[Ae].length;b[Ae].push(Ce),GE(Ce,{index:Pe,depth:Ae})},T=function(Ce,Ae){var Pe=ji(Ce),Ne=Pe.depth,Be=Pe.index;b[Ne][Be]=null,Ce.isChildless()&&S(Ce,Ae)};a.bfs({roots:c,directed:r.directed,visit:function(Ce,Ae,Pe,Ne,Be){var Ye=Ce[0],ar=Ye.id();Ye.isChildless()&&S(Ye,Be),E[ar]=!0}});for(var R=[],A=0;A<n.length;A++){var k=n[A];E[k.id()]||R.push(k)}var P=function(Ce){for(var Ae=b[Ce],Pe=0;Pe<Ae.length;Pe++){var Ne=Ae[Pe];if(Ne==null){Ae.splice(Pe,1),Pe--;continue}GE(Ne,{depth:Ce,index:Pe})}},D=function(Ce,Ae){for(var Pe=ji(Ce),Ne=Ce.incomers().filter(function(Ge){return Ge.isNode()&&t.has(Ge)}),Be=-1,Ye=Ce.id(),ar=0;ar<Ne.length;ar++){var sr=Ne[ar],er=ji(sr);Be=Math.max(Be,er.depth)}if(Pe.depth<=Be){if(!r.acyclic&&Ae[Ye])return null;var ur=Be+1;return T(Ce,ur),Ae[Ye]=ur,!0}return!1};if(i&&s){var I=[],M={},L=function(Ce){return I.push(Ce)},N=function(){return I.shift()};for(n.forEach(function(Oe){return I.push(Oe)});I.length>0;){var z=N(),G=D(z,M);if(G)z.outgoers().filter(function(Oe){return Oe.isNode()&&t.has(Oe)}).forEach(L);else if(G===null){pr("Detected double maximal shift for node `"+z.id()+"`.  Bailing maximal adjustment due to cycle.  Use `options.maximal: true` only on DAGs.");break}}}var H=0;if(r.avoidOverlap)for(var U=0;U<n.length;U++){var F=n[U],X=F.layoutDimensions(r),K=X.w,B=X.h;H=Math.max(H,K,B)}var V={},te=function(Ce){if(V[Ce.id()])return V[Ce.id()];for(var Ae=ji(Ce).depth,Pe=Ce.neighborhood(),Ne=0,Be=0,Ye=0;Ye<Pe.length;Ye++){var ar=Pe[Ye];if(!(ar.isEdge()||ar.isParent()||!n.has(ar))){var sr=ji(ar);if(sr!=null){var er=sr.index,ur=sr.depth;if(!(er==null||ur==null)){var Ge=b[ur].length;ur<Ae&&(Ne+=er/Ge,Be++)}}}}return Be=Math.max(1,Be),Ne=Ne/Be,Be===0&&(Ne=0),V[Ce.id()]=Ne,Ne},$=function(Ce,Ae){var Pe=te(Ce),Ne=te(Ae),Be=Pe-Ne;return Be===0?Yk(Ce.id(),Ae.id()):Be};r.depthSort!==void 0&&($=r.depthSort);for(var j=b.length,Y=0;Y<j;Y++)b[Y].sort($),P(Y);for(var ee=[],le=0;le<R.length;le++)ee.push(R[le]);var ie=function(){for(var Ce=0;Ce<j;Ce++)P(Ce)};ee.length&&(b.unshift(ee),j=b.length,ie());for(var Q=0,re=0;re<j;re++)Q=Math.max(b[re].length,Q);var se={x:f.x1+f.w/2,y:f.y1+f.h/2},ce=n.reduce(function(Oe,Ce){return(function(Ae){return{w:Oe.w===-1?Ae.w:(Oe.w+Ae.w)/2,h:Oe.h===-1?Ae.h:(Oe.h+Ae.h)/2}})(Ce.boundingBox({includeLabels:r.nodeDimensionsIncludeLabels}))},{w:-1,h:-1}),me=Math.max(j===1?0:u?(f.h-r.padding*2-ce.h)/(j-1):(f.h-r.padding*2-ce.h)/(j+1),H),xe=b.reduce(function(Oe,Ce){return Math.max(Oe,Ce.length)},0),Ze=function(Ce){var Ae=ji(Ce),Pe=Ae.depth,Ne=Ae.index;if(r.circle){var Be=Math.min(f.w/2/j,f.h/2/j);Be=Math.max(Be,H);var Ye=Be*Pe+Be-(j>0&&b[0].length<=3?Be/2:0),ar=2*Math.PI/b[Pe].length*Ne;return Pe===0&&b[0].length===1&&(Ye=1),{x:se.x+Ye*Math.cos(ar),y:se.y+Ye*Math.sin(ar)}}else{var sr=b[Pe].length,er=Math.max(sr===1?0:u?(f.w-r.padding*2-ce.w)/((r.grid?xe:sr)-1):(f.w-r.padding*2-ce.w)/((r.grid?xe:sr)+1),H),ur={x:se.x+(Ne+1-(sr+1)/2)*er,y:se.y+(Pe+1-(j+1)/2)*me};return ur}},Se={downward:0,leftward:90,upward:180,rightward:-90};Object.keys(Se).indexOf(r.direction)===-1&&Pr("Invalid direction '".concat(r.direction,"' specified for breadthfirst layout. Valid values are: ").concat(Object.keys(Se).join(", ")));var Ve=function(Ce){return OM(Ze(Ce),f,Se[r.direction])};return t.nodes().layoutPositions(this,r,Ve),this};var wB={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,radius:void 0,startAngle:3/2*Math.PI,sweep:void 0,clockwise:!0,sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,t){return!0},ready:void 0,stop:void 0,transform:function(e,t){return t}};function YR(r){this.options=Ke({},wB,r)}YR.prototype.run=function(){var r=this.options,e=r,t=r.cy,n=e.eles,a=e.counterclockwise!==void 0?!e.counterclockwise:e.clockwise,i=n.nodes().not(":parent");e.sort&&(i=i.sort(e.sort));for(var s=Rt(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:t.width(),h:t.height()}),u={x:s.x1+s.w/2,y:s.y1+s.h/2},f=e.sweep===void 0?2*Math.PI-2*Math.PI/i.length:e.sweep,c=f/Math.max(1,i.length-1),d,v=0,p=0;p<i.length;p++){var g=i[p],y=g.layoutDimensions(e),x=y.w,w=y.h;v=Math.max(v,x,w)}if(Te(e.radius)?d=e.radius:i.length<=1?d=0:d=Math.min(s.h,s.w)/2-v,i.length>1&&e.avoidOverlap){v*=1.75;var b=Math.cos(c)-Math.cos(0),E=Math.sin(c)-Math.sin(0),S=Math.sqrt(v*v/(b*b+E*E));d=Math.max(S,d)}var T=function(A,k){var P=e.startAngle+k*c*(a?1:-1),D=d*Math.cos(P),I=d*Math.sin(P),M={x:u.x+D,y:u.y+I};return M};return n.nodes().layoutPositions(this,e,T),this};var bB={fit:!0,padding:30,startAngle:3/2*Math.PI,sweep:void 0,clockwise:!0,equidistant:!1,minNodeSpacing:10,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,height:void 0,width:void 0,spacingFactor:void 0,concentric:function(e){return e.degree()},levelWidth:function(e){return e.maxDegree()/4},animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,t){return!0},ready:void 0,stop:void 0,transform:function(e,t){return t}};function XR(r){this.options=Ke({},bB,r)}XR.prototype.run=function(){for(var r=this.options,e=r,t=e.counterclockwise!==void 0?!e.counterclockwise:e.clockwise,n=r.cy,a=e.eles,i=a.nodes().not(":parent"),s=Rt(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:n.width(),h:n.height()}),u={x:s.x1+s.w/2,y:s.y1+s.h/2},f=[],c=0,d=0;d<i.length;d++){var v=i[d],p=void 0;p=e.concentric(v),f.push({value:p,node:v}),v._private.scratch.concentric=p}i.updateStyle();for(var g=0;g<i.length;g++){var y=i[g],x=y.layoutDimensions(e);c=Math.max(c,x.w,x.h)}f.sort(function(me,xe){return xe.value-me.value});for(var w=e.levelWidth(i),b=[[]],E=b[0],S=0;S<f.length;S++){var T=f[S];if(E.length>0){var R=Math.abs(E[0].value-T.value);R>=w&&(E=[],b.push(E))}E.push(T)}var A=c+e.minNodeSpacing;if(!e.avoidOverlap){var k=b.length>0&&b[0].length>1,P=Math.min(s.w,s.h)/2-A,D=P/(b.length+k?1:0);A=Math.min(A,D)}for(var I=0,M=0;M<b.length;M++){var L=b[M],N=e.sweep===void 0?2*Math.PI-2*Math.PI/L.length:e.sweep,z=L.dTheta=N/Math.max(1,L.length-1);if(L.length>1&&e.avoidOverlap){var G=Math.cos(z)-Math.cos(0),H=Math.sin(z)-Math.sin(0),U=Math.sqrt(A*A/(G*G+H*H));I=Math.max(U,I)}L.r=I,I+=A}if(e.equidistant){for(var F=0,X=0,K=0;K<b.length;K++){var B=b[K],V=B.r-X;F=Math.max(F,V)}X=0;for(var te=0;te<b.length;te++){var $=b[te];te===0&&(X=$.r),$.r=X,X+=F}}for(var j={},Y=0;Y<b.length;Y++)for(var ee=b[Y],le=ee.dTheta,ie=ee.r,Q=0;Q<ee.length;Q++){var re=ee[Q],se=e.startAngle+(t?1:-1)*le*Q,ce={x:u.x+ie*Math.cos(se),y:u.y+ie*Math.sin(se)};j[re.node.id()]=ce}return a.nodes().layoutPositions(this,e,function(me){var xe=me.id();return j[xe]}),this};var kv,xB={ready:function(){},stop:function(){},animate:!0,animationEasing:void 0,animationDuration:void 0,animateFilter:function(e,t){return!0},animationThreshold:250,refresh:20,fit:!0,padding:30,boundingBox:void 0,nodeDimensionsIncludeLabels:!1,randomize:!1,componentSpacing:40,nodeRepulsion:function(e){return 2048},nodeOverlap:4,idealEdgeLength:function(e){return 32},edgeElasticity:function(e){return 32},nestingFactor:1.2,gravity:1,numIter:1e3,initialTemp:1e3,coolingFactor:.99,minTemp:1};function Zl(r){this.options=Ke({},xB,r),this.options.layout=this;var e=this.options.eles.nodes(),t=this.options.eles.edges(),n=t.filter(function(a){var i=a.source().data("id"),s=a.target().data("id"),u=e.some(function(c){return c.data("id")===i}),f=e.some(function(c){return c.data("id")===s});return!u||!f});this.options.eles=this.options.eles.not(n)}Zl.prototype.run=function(){var r=this.options,e=r.cy,t=this;t.stopped=!1,(r.animate===!0||r.animate===!1)&&t.emit({type:"layoutstart",layout:t}),r.debug===!0?kv=!0:kv=!1;var n=EB(e,t,r);kv&&CB(n),r.randomize&&TB(n);var a=Un(),i=function(){_B(n,e,r),r.fit===!0&&e.fit(r.padding)},s=function(p){return!(t.stopped||p>=r.numIter||(kB(n,r),n.temperature=n.temperature*r.coolingFactor,n.temperature<r.minTemp))},u=function(){if(r.animate===!0||r.animate===!1)i(),t.one("layoutstop",r.stop),t.emit({type:"layoutstop",layout:t});else{var p=r.eles.nodes(),g=QR(n,r,p);p.layoutPositions(t,r,g)}},f=0,c=!0;if(r.animate===!0){var d=function(){for(var p=0;c&&p<r.refresh;)c=s(f),f++,p++;if(!c)HE(n,r),u();else{var g=Un();g-a>=r.animationThreshold&&i(),Sl(d)}};d()}else{for(;c;)c=s(f),f++;HE(n,r),u()}return this};Zl.prototype.stop=function(){return this.stopped=!0,this.thread&&this.thread.stop(),this.emit("layoutstop"),this};Zl.prototype.destroy=function(){return this.thread&&this.thread.stop(),this};var EB=function(e,t,n){for(var a=n.eles.edges(),i=n.eles.nodes(),s=Rt(n.boundingBox?n.boundingBox:{x1:0,y1:0,w:e.width(),h:e.height()}),u={isCompound:e.hasCompoundNodes(),layoutNodes:[],idToIndex:{},nodeSize:i.size(),graphSet:[],indexToGraph:[],layoutEdges:[],edgeSize:a.size(),temperature:n.initialTemp,clientWidth:s.w,clientHeight:s.h,boundingBox:s},f=n.eles.components(),c={},d=0;d<f.length;d++)for(var v=f[d],p=0;p<v.length;p++){var g=v[p];c[g.id()]=d}for(var d=0;d<u.nodeSize;d++){var y=i[d],x=y.layoutDimensions(n),w={};w.isLocked=y.locked(),w.id=y.data("id"),w.parentId=y.data("parent"),w.cmptId=c[y.id()],w.children=[],w.positionX=y.position("x"),w.positionY=y.position("y"),w.offsetX=0,w.offsetY=0,w.height=x.w,w.width=x.h,w.maxX=w.positionX+w.width/2,w.minX=w.positionX-w.width/2,w.maxY=w.positionY+w.height/2,w.minY=w.positionY-w.height/2,w.padLeft=parseFloat(y.style("padding")),w.padRight=parseFloat(y.style("padding")),w.padTop=parseFloat(y.style("padding")),w.padBottom=parseFloat(y.style("padding")),w.nodeRepulsion=qr(n.nodeRepulsion)?n.nodeRepulsion(y):n.nodeRepulsion,u.layoutNodes.push(w),u.idToIndex[w.id]=d}for(var b=[],E=0,S=-1,T=[],d=0;d<u.nodeSize;d++){var y=u.layoutNodes[d],R=y.parentId;R!=null?u.layoutNodes[u.idToIndex[R]].children.push(y.id):(b[++S]=y.id,T.push(y.id))}for(u.graphSet.push(T);E<=S;){var A=b[E++],k=u.idToIndex[A],g=u.layoutNodes[k],P=g.children;if(P.length>0){u.graphSet.push(P);for(var d=0;d<P.length;d++)b[++S]=P[d]}}for(var d=0;d<u.graphSet.length;d++)for(var D=u.graphSet[d],p=0;p<D.length;p++){var I=u.idToIndex[D[p]];u.indexToGraph[I]=d}for(var d=0;d<u.edgeSize;d++){var M=a[d],L={};L.id=M.data("id"),L.sourceId=M.data("source"),L.targetId=M.data("target");var N=qr(n.idealEdgeLength)?n.idealEdgeLength(M):n.idealEdgeLength,z=qr(n.edgeElasticity)?n.edgeElasticity(M):n.edgeElasticity,G=u.idToIndex[L.sourceId],H=u.idToIndex[L.targetId],U=u.indexToGraph[G],F=u.indexToGraph[H];if(U!=F){for(var X=SB(L.sourceId,L.targetId,u),K=u.graphSet[X],B=0,w=u.layoutNodes[G];K.indexOf(w.id)===-1;)w=u.layoutNodes[u.idToIndex[w.parentId]],B++;for(w=u.layoutNodes[H];K.indexOf(w.id)===-1;)w=u.layoutNodes[u.idToIndex[w.parentId]],B++;N*=B*n.nestingFactor}L.idealLength=N,L.elasticity=z,u.layoutEdges.push(L)}return u},SB=function(e,t,n){var a=ZR(e,t,0,n);return 2>a.count?0:a.graph},ZR=function(e,t,n,a){var i=a.graphSet[n];if(-1<i.indexOf(e)&&-1<i.indexOf(t))return{count:2,graph:n};for(var s=0,u=0;u<i.length;u++){var f=i[u],c=a.idToIndex[f],d=a.layoutNodes[c].children;if(d.length!==0){var v=a.indexToGraph[a.idToIndex[d[0]]],p=ZR(e,t,v,a);if(p.count!==0)if(p.count===1){if(s++,s===2)break}else return p}}return{count:s,graph:n}},CB,TB=function(e,t){for(var n=e.clientWidth,a=e.clientHeight,i=0;i<e.nodeSize;i++){var s=e.layoutNodes[i];s.children.length===0&&!s.isLocked&&(s.positionX=Math.random()*n,s.positionY=Math.random()*a)}},QR=function(e,t,n){var a=e.boundingBox,i={x1:1/0,x2:-1/0,y1:1/0,y2:-1/0};return t.boundingBox&&(n.forEach(function(s){var u=e.layoutNodes[e.idToIndex[s.data("id")]];i.x1=Math.min(i.x1,u.positionX),i.x2=Math.max(i.x2,u.positionX),i.y1=Math.min(i.y1,u.positionY),i.y2=Math.max(i.y2,u.positionY)}),i.w=i.x2-i.x1,i.h=i.y2-i.y1),function(s,u){var f=e.layoutNodes[e.idToIndex[s.data("id")]];if(t.boundingBox){var c=i.w===0?.5:(f.positionX-i.x1)/i.w,d=i.h===0?.5:(f.positionY-i.y1)/i.h;return{x:a.x1+c*a.w,y:a.y1+d*a.h}}else return{x:f.positionX,y:f.positionY}}},_B=function(e,t,n){var a=n.layout,i=n.eles.nodes(),s=QR(e,n,i);i.positions(s),e.ready!==!0&&(e.ready=!0,a.one("layoutready",n.ready),a.emit({type:"layoutready",layout:this}))},kB=function(e,t,n){RB(e,t),DB(e),IB(e,t),MB(e),OB(e)},RB=function(e,t){for(var n=0;n<e.graphSet.length;n++)for(var a=e.graphSet[n],i=a.length,s=0;s<i;s++)for(var u=e.layoutNodes[e.idToIndex[a[s]]],f=s+1;f<i;f++){var c=e.layoutNodes[e.idToIndex[a[f]]];AB(u,c,e,t)}},jE=function(e){return-1+2*e*Math.random()},AB=function(e,t,n,a){var i=e.cmptId,s=t.cmptId;if(!(i!==s&&!n.isCompound)){var u=t.positionX-e.positionX,f=t.positionY-e.positionY,c=1;u===0&&f===0&&(u=jE(c),f=jE(c));var d=PB(e,t,u,f);if(d>0)var v=a.nodeOverlap*d,p=Math.sqrt(u*u+f*f),g=v*u/p,y=v*f/p;else var x=Pl(e,u,f),w=Pl(t,-1*u,-1*f),b=w.x-x.x,E=w.y-x.y,S=b*b+E*E,p=Math.sqrt(S),v=(e.nodeRepulsion+t.nodeRepulsion)/S,g=v*b/p,y=v*E/p;e.isLocked||(e.offsetX-=g,e.offsetY-=y),t.isLocked||(t.offsetX+=g,t.offsetY+=y)}},PB=function(e,t,n,a){if(n>0)var i=e.maxX-t.minX;else var i=t.maxX-e.minX;if(a>0)var s=e.maxY-t.minY;else var s=t.maxY-e.minY;return i>=0&&s>=0?Math.sqrt(i*i+s*s):0},Pl=function(e,t,n){var a=e.positionX,i=e.positionY,s=e.height||1,u=e.width||1,f=n/t,c=s/u,d={};return t===0&&0<n||t===0&&0>n?(d.x=a,d.y=i+s/2,d):0<t&&-1*c<=f&&f<=c?(d.x=a+u/2,d.y=i+u*n/2/t,d):0>t&&-1*c<=f&&f<=c?(d.x=a-u/2,d.y=i-u*n/2/t,d):0<n&&(f<=-1*c||f>=c)?(d.x=a+s*t/2/n,d.y=i+s/2,d):(0>n&&(f<=-1*c||f>=c)&&(d.x=a-s*t/2/n,d.y=i-s/2),d)},DB=function(e,t){for(var n=0;n<e.edgeSize;n++){var a=e.layoutEdges[n],i=e.idToIndex[a.sourceId],s=e.layoutNodes[i],u=e.idToIndex[a.targetId],f=e.layoutNodes[u],c=f.positionX-s.positionX,d=f.positionY-s.positionY;if(!(c===0&&d===0)){var v=Pl(s,c,d),p=Pl(f,-1*c,-1*d),g=p.x-v.x,y=p.y-v.y,x=Math.sqrt(g*g+y*y),w=Math.pow(a.idealLength-x,2)/a.elasticity;if(x!==0)var b=w*g/x,E=w*y/x;else var b=0,E=0;s.isLocked||(s.offsetX+=b,s.offsetY+=E),f.isLocked||(f.offsetX-=b,f.offsetY-=E)}}},IB=function(e,t){if(t.gravity!==0)for(var n=1,a=0;a<e.graphSet.length;a++){var i=e.graphSet[a],s=i.length;if(a===0)var u=e.clientHeight/2,f=e.clientWidth/2;else var c=e.layoutNodes[e.idToIndex[i[0]]],d=e.layoutNodes[e.idToIndex[c.parentId]],u=d.positionX,f=d.positionY;for(var v=0;v<s;v++){var p=e.layoutNodes[e.idToIndex[i[v]]];if(!p.isLocked){var g=u-p.positionX,y=f-p.positionY,x=Math.sqrt(g*g+y*y);if(x>n){var w=t.gravity*g/x,b=t.gravity*y/x;p.offsetX+=w,p.offsetY+=b}}}}},MB=function(e,t){var n=[],a=0,i=-1;for(n.push.apply(n,e.graphSet[0]),i+=e.graphSet[0].length;a<=i;){var s=n[a++],u=e.idToIndex[s],f=e.layoutNodes[u],c=f.children;if(0<c.length&&!f.isLocked){for(var d=f.offsetX,v=f.offsetY,p=0;p<c.length;p++){var g=e.layoutNodes[e.idToIndex[c[p]]];g.offsetX+=d,g.offsetY+=v,n[++i]=c[p]}f.offsetX=0,f.offsetY=0}}},OB=function(e,t){for(var n=0;n<e.nodeSize;n++){var a=e.layoutNodes[n];0<a.children.length&&(a.maxX=void 0,a.minX=void 0,a.maxY=void 0,a.minY=void 0)}for(var n=0;n<e.nodeSize;n++){var a=e.layoutNodes[n];if(!(0<a.children.length||a.isLocked)){var i=NB(a.offsetX,a.offsetY,e.temperature);a.positionX+=i.x,a.positionY+=i.y,a.offsetX=0,a.offsetY=0,a.minX=a.positionX-a.width,a.maxX=a.positionX+a.width,a.minY=a.positionY-a.height,a.maxY=a.positionY+a.height,JR(a,e)}}for(var n=0;n<e.nodeSize;n++){var a=e.layoutNodes[n];0<a.children.length&&!a.isLocked&&(a.positionX=(a.maxX+a.minX)/2,a.positionY=(a.maxY+a.minY)/2,a.width=a.maxX-a.minX,a.height=a.maxY-a.minY)}},NB=function(e,t,n){var a=Math.sqrt(e*e+t*t);if(a>n)var i={x:n*e/a,y:n*t/a};else var i={x:e,y:t};return i},JR=function(e,t){var n=e.parentId;if(n!=null){var a=t.layoutNodes[t.idToIndex[n]],i=!1;if((a.maxX==null||e.maxX+a.padRight>a.maxX)&&(a.maxX=e.maxX+a.padRight,i=!0),(a.minX==null||e.minX-a.padLeft<a.minX)&&(a.minX=e.minX-a.padLeft,i=!0),(a.maxY==null||e.maxY+a.padBottom>a.maxY)&&(a.maxY=e.maxY+a.padBottom,i=!0),(a.minY==null||e.minY-a.padTop<a.minY)&&(a.minY=e.minY-a.padTop,i=!0),i)return JR(a,t)}},HE=function(e,t){for(var n=e.layoutNodes,a=[],i=0;i<n.length;i++){var s=n[i],u=s.cmptId,f=a[u]=a[u]||[];f.push(s)}for(var c=0,i=0;i<a.length;i++){var d=a[i];if(d){d.x1=1/0,d.x2=-1/0,d.y1=1/0,d.y2=-1/0;for(var v=0;v<d.length;v++){var p=d[v];d.x1=Math.min(d.x1,p.positionX-p.width/2),d.x2=Math.max(d.x2,p.positionX+p.width/2),d.y1=Math.min(d.y1,p.positionY-p.height/2),d.y2=Math.max(d.y2,p.positionY+p.height/2)}d.w=d.x2-d.x1,d.h=d.y2-d.y1,c+=d.w*d.h}}a.sort(function(E,S){return S.w*S.h-E.w*E.h});for(var g=0,y=0,x=0,w=0,b=Math.sqrt(c)*e.clientWidth/e.clientHeight,i=0;i<a.length;i++){var d=a[i];if(d){for(var v=0;v<d.length;v++){var p=d[v];p.isLocked||(p.positionX+=g-d.x1,p.positionY+=y-d.y1)}g+=d.w+t.componentSpacing,x+=d.w+t.componentSpacing,w=Math.max(w,d.h),x>b&&(y+=w+t.componentSpacing,g=0,x=0,w=0)}}},LB={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,avoidOverlapPadding:10,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,condense:!1,rows:void 0,cols:void 0,position:function(e){},sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,t){return!0},ready:void 0,stop:void 0,transform:function(e,t){return t}};function eA(r){this.options=Ke({},LB,r)}eA.prototype.run=function(){var r=this.options,e=r,t=r.cy,n=e.eles,a=n.nodes().not(":parent");e.sort&&(a=a.sort(e.sort));var i=Rt(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:t.width(),h:t.height()});if(i.h===0||i.w===0)n.nodes().layoutPositions(this,e,function(te){return{x:i.x1,y:i.y1}});else{var s=a.size(),u=Math.sqrt(s*i.h/i.w),f=Math.round(u),c=Math.round(i.w/i.h*u),d=function($){if($==null)return Math.min(f,c);var j=Math.min(f,c);j==f?f=$:c=$},v=function($){if($==null)return Math.max(f,c);var j=Math.max(f,c);j==f?f=$:c=$},p=e.rows,g=e.cols!=null?e.cols:e.columns;if(p!=null&&g!=null)f=p,c=g;else if(p!=null&&g==null)f=p,c=Math.ceil(s/f);else if(p==null&&g!=null)c=g,f=Math.ceil(s/c);else if(c*f>s){var y=d(),x=v();(y-1)*x>=s?d(y-1):(x-1)*y>=s&&v(x-1)}else for(;c*f<s;){var w=d(),b=v();(b+1)*w>=s?v(b+1):d(w+1)}var E=i.w/c,S=i.h/f;if(e.condense&&(E=0,S=0),e.avoidOverlap)for(var T=0;T<a.length;T++){var R=a[T],A=R._private.position;(A.x==null||A.y==null)&&(A.x=0,A.y=0);var k=R.layoutDimensions(e),P=e.avoidOverlapPadding,D=k.w+P,I=k.h+P;E=Math.max(E,D),S=Math.max(S,I)}for(var M={},L=function($,j){return!!M["c-"+$+"-"+j]},N=function($,j){M["c-"+$+"-"+j]=!0},z=0,G=0,H=function(){G++,G>=c&&(G=0,z++)},U={},F=0;F<a.length;F++){var X=a[F],K=e.position(X);if(K&&(K.row!==void 0||K.col!==void 0)){var B={row:K.row,col:K.col};if(B.col===void 0)for(B.col=0;L(B.row,B.col);)B.col++;else if(B.row===void 0)for(B.row=0;L(B.row,B.col);)B.row++;U[X.id()]=B,N(B.row,B.col)}}var V=function($,j){var Y,ee;if($.locked()||$.isParent())return!1;var le=U[$.id()];if(le)Y=le.col*E+E/2+i.x1,ee=le.row*S+S/2+i.y1;else{for(;L(z,G);)H();Y=G*E+E/2+i.x1,ee=z*S+S/2+i.y1,N(z,G),H()}return{x:Y,y:ee}};a.layoutPositions(this,e,V)}return this};var BB={ready:function(){},stop:function(){}};function z0(r){this.options=Ke({},BB,r)}z0.prototype.run=function(){var r=this.options,e=r.eles,t=this;return r.cy,t.emit("layoutstart"),e.nodes().positions(function(){return{x:0,y:0}}),t.one("layoutready",r.ready),t.emit("layoutready"),t.one("layoutstop",r.stop),t.emit("layoutstop"),this};z0.prototype.stop=function(){return this};var qB={positions:void 0,zoom:void 0,pan:void 0,fit:!0,padding:30,spacingFactor:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,t){return!0},ready:void 0,stop:void 0,transform:function(e,t){return t}};function rA(r){this.options=Ke({},qB,r)}rA.prototype.run=function(){var r=this.options,e=r.eles,t=e.nodes(),n=qr(r.positions);function a(i){if(r.positions==null)return oO(i.position());if(n)return r.positions(i);var s=r.positions[i._private.data.id];return s??null}return t.layoutPositions(this,r,function(i,s){var u=a(i);return i.locked()||u==null?!1:u}),this};var FB={fit:!0,padding:30,boundingBox:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,t){return!0},ready:void 0,stop:void 0,transform:function(e,t){return t}};function tA(r){this.options=Ke({},FB,r)}tA.prototype.run=function(){var r=this.options,e=r.cy,t=r.eles,n=Rt(r.boundingBox?r.boundingBox:{x1:0,y1:0,w:e.width(),h:e.height()}),a=function(s,u){return{x:n.x1+Math.round(Math.random()*n.w),y:n.y1+Math.round(Math.random()*n.h)}};return t.nodes().layoutPositions(this,r,a),this};var zB=[{name:"breadthfirst",impl:KR},{name:"circle",impl:YR},{name:"concentric",impl:XR},{name:"cose",impl:Zl},{name:"grid",impl:eA},{name:"null",impl:z0},{name:"preset",impl:rA},{name:"random",impl:tA}];function nA(r){this.options=r,this.notifications=0}var WE=function(){},KE=function(){throw new Error("A headless instance can not render images")};nA.prototype={recalculateRenderedStyle:WE,notify:function(){this.notifications++},init:WE,isHeadless:function(){return!0},png:KE,jpg:KE};var V0={};V0.arrowShapeWidth=.3;V0.registerArrowShapes=function(){var r=this.arrowShapes={},e=this,t=function(c,d,v,p,g,y,x){var w=g.x-v/2-x,b=g.x+v/2+x,E=g.y-v/2-x,S=g.y+v/2+x,T=w<=c&&c<=b&&E<=d&&d<=S;return T},n=function(c,d,v,p,g){var y=c*Math.cos(p)-d*Math.sin(p),x=c*Math.sin(p)+d*Math.cos(p),w=y*v,b=x*v,E=w+g.x,S=b+g.y;return{x:E,y:S}},a=function(c,d,v,p){for(var g=[],y=0;y<c.length;y+=2){var x=c[y],w=c[y+1];g.push(n(x,w,d,v,p))}return g},i=function(c){for(var d=[],v=0;v<c.length;v++){var p=c[v];d.push(p.x,p.y)}return d},s=function(c){return c.pstyle("width").pfValue*c.pstyle("arrow-scale").pfValue*2},u=function(c,d){je(d)&&(d=r[d]),r[c]=Ke({name:c,points:[-.15,-.3,.15,-.3,.15,.3,-.15,.3],collide:function(p,g,y,x,w,b){var E=i(a(this.points,y+2*b,x,w)),S=Bt(p,g,E);return S},roughCollide:t,draw:function(p,g,y,x){var w=a(this.points,g,y,x);e.arrowShapeImpl("polygon")(p,w)},spacing:function(p){return 0},gap:s},d)};u("none",{collide:Cl,roughCollide:Cl,draw:_0,spacing:ux,gap:ux}),u("triangle",{points:[-.15,-.3,0,0,.15,-.3]}),u("arrow","triangle"),u("triangle-backcurve",{points:r.triangle.points,controlPoint:[0,-.15],roughCollide:t,draw:function(c,d,v,p,g){var y=a(this.points,d,v,p),x=this.controlPoint,w=n(x[0],x[1],d,v,p);e.arrowShapeImpl(this.name)(c,y,w)},gap:function(c){return s(c)*.8}}),u("triangle-tee",{points:[0,0,.15,-.3,-.15,-.3,0,0],pointsTee:[-.15,-.4,-.15,-.5,.15,-.5,.15,-.4],collide:function(c,d,v,p,g,y,x){var w=i(a(this.points,v+2*x,p,g)),b=i(a(this.pointsTee,v+2*x,p,g)),E=Bt(c,d,w)||Bt(c,d,b);return E},draw:function(c,d,v,p,g){var y=a(this.points,d,v,p),x=a(this.pointsTee,d,v,p);e.arrowShapeImpl(this.name)(c,y,x)}}),u("circle-triangle",{radius:.15,pointsTr:[0,-.15,.15,-.45,-.15,-.45,0,-.15],collide:function(c,d,v,p,g,y,x){var w=g,b=Math.pow(w.x-c,2)+Math.pow(w.y-d,2)<=Math.pow((v+2*x)*this.radius,2),E=i(a(this.points,v+2*x,p,g));return Bt(c,d,E)||b},draw:function(c,d,v,p,g){var y=a(this.pointsTr,d,v,p);e.arrowShapeImpl(this.name)(c,y,p.x,p.y,this.radius*d)},spacing:function(c){return e.getArrowWidth(c.pstyle("width").pfValue,c.pstyle("arrow-scale").value)*this.radius}}),u("triangle-cross",{points:[0,0,.15,-.3,-.15,-.3,0,0],baseCrossLinePts:[-.15,-.4,-.15,-.4,.15,-.4,.15,-.4],crossLinePts:function(c,d){var v=this.baseCrossLinePts.slice(),p=d/c,g=3,y=5;return v[g]=v[g]-p,v[y]=v[y]-p,v},collide:function(c,d,v,p,g,y,x){var w=i(a(this.points,v+2*x,p,g)),b=i(a(this.crossLinePts(v,y),v+2*x,p,g)),E=Bt(c,d,w)||Bt(c,d,b);return E},draw:function(c,d,v,p,g){var y=a(this.points,d,v,p),x=a(this.crossLinePts(d,g),d,v,p);e.arrowShapeImpl(this.name)(c,y,x)}}),u("vee",{points:[-.15,-.3,0,0,.15,-.3,0,-.15],gap:function(c){return s(c)*.525}}),u("circle",{radius:.15,collide:function(c,d,v,p,g,y,x){var w=g,b=Math.pow(w.x-c,2)+Math.pow(w.y-d,2)<=Math.pow((v+2*x)*this.radius,2);return b},draw:function(c,d,v,p,g){e.arrowShapeImpl(this.name)(c,p.x,p.y,this.radius*d)},spacing:function(c){return e.getArrowWidth(c.pstyle("width").pfValue,c.pstyle("arrow-scale").value)*this.radius}}),u("tee",{points:[-.15,0,-.15,-.1,.15,-.1,.15,0],spacing:function(c){return 1},gap:function(c){return 1}}),u("square",{points:[-.15,0,.15,0,.15,-.3,-.15,-.3]}),u("diamond",{points:[-.15,-.15,0,-.3,.15,-.15,0,0],gap:function(c){return c.pstyle("width").pfValue*c.pstyle("arrow-scale").value}}),u("chevron",{points:[0,0,-.15,-.15,-.1,-.2,0,-.1,.1,-.2,.15,-.15],gap:function(c){return .95*c.pstyle("width").pfValue*c.pstyle("arrow-scale").value}})};var fi={};fi.projectIntoViewport=function(r,e){var t=this.cy,n=this.findContainerClientCoords(),a=n[0],i=n[1],s=n[4],u=t.pan(),f=t.zoom(),c=((r-a)/s-u.x)/f,d=((e-i)/s-u.y)/f;return[c,d]};fi.findContainerClientCoords=function(){if(this.containerBB)return this.containerBB;var r=this.container,e=r.getBoundingClientRect(),t=this.cy.window().getComputedStyle(r),n=function(b){return parseFloat(t.getPropertyValue(b))},a={left:n("padding-left"),right:n("padding-right"),top:n("padding-top"),bottom:n("padding-bottom")},i={left:n("border-left-width"),right:n("border-right-width"),top:n("border-top-width"),bottom:n("border-bottom-width")},s=r.clientWidth,u=r.clientHeight,f=a.left+a.right,c=a.top+a.bottom,d=i.left+i.right,v=e.width/(s+d),p=s-f,g=u-c,y=e.left+a.left+i.left,x=e.top+a.top+i.top;return this.containerBB=[y,x,p,g,v]};fi.invalidateContainerClientCoordsCache=function(){this.containerBB=null};fi.findNearestElement=function(r,e,t,n){return this.findNearestElements(r,e,t,n)[0]};fi.findNearestElements=function(r,e,t,n){var a=this,i=this,s=i.getCachedZSortedEles(),u=[],f=i.cy.zoom(),c=i.cy.hasCompoundNodes(),d=(n?24:8)/f,v=(n?8:2)/f,p=(n?8:2)/f,g=1/0,y,x;t&&(s=s.interactive);function w(k,P){if(k.isNode()){if(x)return;x=k,u.push(k)}if(k.isEdge()&&(P==null||P<g))if(y){if(y.pstyle("z-compound-depth").value===k.pstyle("z-compound-depth").value&&y.pstyle("z-compound-depth").value===k.pstyle("z-compound-depth").value){for(var D=0;D<u.length;D++)if(u[D].isEdge()){u[D]=k,y=k,g=P??g;break}}}else u.push(k),y=k,g=P??g}function b(k){var P=k.outerWidth()+2*v,D=k.outerHeight()+2*v,I=P/2,M=D/2,L=k.position(),N=k.pstyle("corner-radius").value==="auto"?"auto":k.pstyle("corner-radius").pfValue,z=k._private.rscratch;if(L.x-I<=r&&r<=L.x+I&&L.y-M<=e&&e<=L.y+M){var G=i.nodeShapes[a.getNodeShape(k)];if(G.checkPoint(r,e,0,P,D,L.x,L.y,N,z))return w(k,0),!0}}function E(k){var P=k._private,D=P.rscratch,I=k.pstyle("width").pfValue,M=k.pstyle("arrow-scale").value,L=I/2+d,N=L*L,z=L*2,F=P.source,X=P.target,G;if(D.edgeType==="segments"||D.edgeType==="straight"||D.edgeType==="haystack"){for(var H=D.allpts,U=0;U+3<H.length;U+=2)if(bO(r,e,H[U],H[U+1],H[U+2],H[U+3],z)&&N>(G=TO(r,e,H[U],H[U+1],H[U+2],H[U+3])))return w(k,G),!0}else if(D.edgeType==="bezier"||D.edgeType==="multibezier"||D.edgeType==="self"||D.edgeType==="compound"){for(var H=D.allpts,U=0;U+5<D.allpts.length;U+=4)if(xO(r,e,H[U],H[U+1],H[U+2],H[U+3],H[U+4],H[U+5],z)&&N>(G=CO(r,e,H[U],H[U+1],H[U+2],H[U+3],H[U+4],H[U+5])))return w(k,G),!0}for(var F=F||P.source,X=X||P.target,K=a.getArrowWidth(I,M),B=[{name:"source",x:D.arrowStartX,y:D.arrowStartY,angle:D.srcArrowAngle},{name:"target",x:D.arrowEndX,y:D.arrowEndY,angle:D.tgtArrowAngle},{name:"mid-source",x:D.midX,y:D.midY,angle:D.midsrcArrowAngle},{name:"mid-target",x:D.midX,y:D.midY,angle:D.midtgtArrowAngle}],U=0;U<B.length;U++){var V=B[U],te=i.arrowShapes[k.pstyle(V.name+"-arrow-shape").value],$=k.pstyle("width").pfValue;if(te.roughCollide(r,e,K,V.angle,{x:V.x,y:V.y},$,d)&&te.collide(r,e,K,V.angle,{x:V.x,y:V.y},$,d))return w(k),!0}c&&u.length>0&&(b(F),b(X))}function S(k,P,D){return Lt(k,P,D)}function T(k,P){var D=k._private,I=p,M;P?M=P+"-":M="",k.boundingBox();var L=D.labelBounds[P||"main"],N=k.pstyle(M+"label").value,z=k.pstyle("text-events").strValue==="yes";if(!(!z||!N)){var G=S(D.rscratch,"labelX",P),H=S(D.rscratch,"labelY",P),U=S(D.rscratch,"labelAngle",P),F=k.pstyle(M+"text-margin-x").pfValue,X=k.pstyle(M+"text-margin-y").pfValue,K=L.x1-I-F,B=L.x2+I-F,V=L.y1-I-X,te=L.y2+I-X;if(U){var $=Math.cos(U),j=Math.sin(U),Y=function(ce,me){return ce=ce-G,me=me-H,{x:ce*$-me*j+G,y:ce*j+me*$+H}},ee=Y(K,V),le=Y(K,te),ie=Y(B,V),Q=Y(B,te),re=[ee.x+F,ee.y+X,ie.x+F,ie.y+X,Q.x+F,Q.y+X,le.x+F,le.y+X];if(Bt(r,e,re))return w(k),!0}else if(ba(L,r,e))return w(k),!0}}for(var R=s.length-1;R>=0;R--){var A=s[R];A.isNode()?b(A)||T(A):E(A)||T(A)||T(A,"source")||T(A,"target")}return u};fi.getAllInBox=function(r,e,t,n){var a=this.getCachedZSortedEles().interactive,i=this.cy.zoom(),s=2/i,u=[],f=Math.min(r,t),c=Math.max(r,t),d=Math.min(e,n),v=Math.max(e,n);r=f,t=c,e=d,n=v;var p=Rt({x1:r,y1:e,x2:t,y2:n}),g=[{x:p.x1,y:p.y1},{x:p.x2,y:p.y1},{x:p.x2,y:p.y2},{x:p.x1,y:p.y2}],y=[[g[0],g[1]],[g[1],g[2]],[g[2],g[3]],[g[3],g[0]]];function x(ce,me,xe){return Lt(ce,me,xe)}function w(ce,me){var xe=ce._private,Ze=s,Se="";ce.boundingBox();var Ve=xe.labelBounds.main;if(!Ve)return null;var Oe=x(xe.rscratch,"labelX",me),Ce=x(xe.rscratch,"labelY",me),Ae=x(xe.rscratch,"labelAngle",me),Pe=ce.pstyle(Se+"text-margin-x").pfValue,Ne=ce.pstyle(Se+"text-margin-y").pfValue,Be=Ve.x1-Ze-Pe,Ye=Ve.x2+Ze-Pe,ar=Ve.y1-Ze-Ne,sr=Ve.y2+Ze-Ne;if(Ae){var er=Math.cos(Ae),ur=Math.sin(Ae),Ge=function(he,q){return he=he-Oe,q=q-Ce,{x:he*er-q*ur+Oe,y:he*ur+q*er+Ce}};return[Ge(Be,ar),Ge(Ye,ar),Ge(Ye,sr),Ge(Be,sr)]}else return[{x:Be,y:ar},{x:Ye,y:ar},{x:Ye,y:sr},{x:Be,y:sr}]}function b(ce,me,xe,Ze){function Se(Ve,Oe,Ce){return(Ce.y-Ve.y)*(Oe.x-Ve.x)>(Oe.y-Ve.y)*(Ce.x-Ve.x)}return Se(ce,xe,Ze)!==Se(me,xe,Ze)&&Se(ce,me,xe)!==Se(ce,me,Ze)}for(var E=0;E<a.length;E++){var S=a[E];if(S.isNode()){var T=S,R=T.pstyle("text-events").strValue==="yes",A=T.pstyle("box-selection").strValue,k=T.pstyle("box-select-labels").strValue==="yes";if(A==="none")continue;var P=(A==="overlap"||k)&&R,D=T.boundingBox({includeNodes:!0,includeEdges:!1,includeLabels:P});if(A==="contain"){var I=!1;if(k&&R){var M=w(T);M&&Td(M,g)&&(u.push(T),I=!0)}!I&&fR(p,D)&&u.push(T)}else if(A==="overlap"&&P0(p,D)){var L=T.boundingBox({includeNodes:!0,includeEdges:!0,includeLabels:!1,includeMainLabels:!1,includeSourceLabels:!1,includeTargetLabels:!1}),N=[{x:L.x1,y:L.y1},{x:L.x2,y:L.y1},{x:L.x2,y:L.y2},{x:L.x1,y:L.y2}];if(Td(N,g))u.push(T);else{var z=w(T);z&&Td(z,g)&&u.push(T)}}}else{var G=S,H=G._private,U=H.rscratch,F=G.pstyle("box-selection").strValue;if(F==="none")continue;if(F==="contain"){if(U.startX!=null&&U.startY!=null&&!ba(p,U.startX,U.startY)||U.endX!=null&&U.endY!=null&&!ba(p,U.endX,U.endY))continue;if(U.edgeType==="bezier"||U.edgeType==="multibezier"||U.edgeType==="self"||U.edgeType==="compound"||U.edgeType==="segments"||U.edgeType==="haystack"){for(var X=H.rstyle.bezierPts||H.rstyle.linePts||H.rstyle.haystackPts,K=!0,B=0;B<X.length;B++)if(!vx(p,X[B])){K=!1;break}K&&u.push(G)}else U.edgeType==="straight"&&u.push(G)}else if(F==="overlap"){var V=!1;if(U.startX!=null&&U.startY!=null&&U.endX!=null&&U.endY!=null&&(ba(p,U.startX,U.startY)||ba(p,U.endX,U.endY)))u.push(G),V=!0;else if(!V&&U.edgeType==="haystack"){for(var te=H.rstyle.haystackPts,$=0;$<te.length;$++)if(vx(p,te[$])){u.push(G),V=!0;break}}if(!V){var j=H.rstyle.bezierPts||H.rstyle.linePts||H.rstyle.haystackPts;if((!j||j.length<2)&&U.edgeType==="straight"&&U.startX!=null&&U.startY!=null&&U.endX!=null&&U.endY!=null&&(j=[{x:U.startX,y:U.startY},{x:U.endX,y:U.endY}]),!j||j.length<2)continue;for(var Y=0;Y<j.length-1;Y++){for(var ee=j[Y],le=j[Y+1],ie=0;ie<y.length;ie++){var Q=Hr(y[ie],2),re=Q[0],se=Q[1];if(b(ee,le,re,se)){u.push(G),V=!0;break}}if(V)break}}}}}return u};var Dl={};Dl.calculateArrowAngles=function(r){var e=r._private.rscratch,t=e.edgeType==="haystack",n=e.edgeType==="bezier",a=e.edgeType==="multibezier",i=e.edgeType==="segments",s=e.edgeType==="compound",u=e.edgeType==="self",f,c,d,v,p,g,b,E;if(t?(d=e.haystackPts[0],v=e.haystackPts[1],p=e.haystackPts[2],g=e.haystackPts[3]):(d=e.arrowStartX,v=e.arrowStartY,p=e.arrowEndX,g=e.arrowEndY),b=e.midX,E=e.midY,i)f=d-e.segpts[0],c=v-e.segpts[1];else if(a||s||u||n){var y=e.allpts,x=at(y[0],y[2],y[4],.1),w=at(y[1],y[3],y[5],.1);f=d-x,c=v-w}else f=d-b,c=v-E;e.srcArrowAngle=Qu(f,c);var b=e.midX,E=e.midY;if(t&&(b=(d+p)/2,E=(v+g)/2),f=p-d,c=g-v,i){var y=e.allpts;if(y.length/2%2===0){var S=y.length/2,T=S-2;f=y[S]-y[T],c=y[S+1]-y[T+1]}else if(e.isRound)f=e.midVector[1],c=-e.midVector[0];else{var S=y.length/2-1,T=S-2;f=y[S]-y[T],c=y[S+1]-y[T+1]}}else if(a||s||u){var y=e.allpts,R=e.ctrlpts,A,k,P,D;if(R.length/2%2===0){var I=y.length/2-1,M=I+2,L=M+2;A=at(y[I],y[M],y[L],0),k=at(y[I+1],y[M+1],y[L+1],0),P=at(y[I],y[M],y[L],1e-4),D=at(y[I+1],y[M+1],y[L+1],1e-4)}else{var M=y.length/2-1,I=M-2,L=M+2;A=at(y[I],y[M],y[L],.4999),k=at(y[I+1],y[M+1],y[L+1],.4999),P=at(y[I],y[M],y[L],.5),D=at(y[I+1],y[M+1],y[L+1],.5)}f=P-A,c=D-k}if(e.midtgtArrowAngle=Qu(f,c),e.midDispX=f,e.midDispY=c,f*=-1,c*=-1,i){var y=e.allpts;if(y.length/2%2!==0){if(!e.isRound){var S=y.length/2-1,N=S+2;f=-(y[N]-y[S]),c=-(y[N+1]-y[S+1])}}}if(e.midsrcArrowAngle=Qu(f,c),i)f=p-e.segpts[e.segpts.length-2],c=g-e.segpts[e.segpts.length-1];else if(a||s||u||n){var y=e.allpts,z=y.length,x=at(y[z-6],y[z-4],y[z-2],.9),w=at(y[z-5],y[z-3],y[z-1],.9);f=p-x,c=g-w}else f=p-b,c=g-E;e.tgtArrowAngle=Qu(f,c)};Dl.getArrowWidth=Dl.getArrowHeight=function(r,e){var t=this.arrowWidthCache=this.arrowWidthCache||{},n=t[r+", "+e];return n||(n=Math.max(Math.pow(r*13.37,.9),29)*e,t[r+", "+e]=n,n)};var f0,c0,Tn={},en={},YE,XE,ni,yl,Fn,Qa,ri,Sn,Hi,ol,aA,iA,d0,v0,ZE,QE=function(e,t,n){n.x=t.x-e.x,n.y=t.y-e.y,n.len=Math.sqrt(n.x*n.x+n.y*n.y),n.nx=n.x/n.len,n.ny=n.y/n.len,n.ang=Math.atan2(n.ny,n.nx)},VB=function(e,t){t.x=e.x*-1,t.y=e.y*-1,t.nx=e.nx*-1,t.ny=e.ny*-1,t.ang=e.ang>0?-(Math.PI-e.ang):Math.PI+e.ang},$B=function(e,t,n,a,i){if(e!==ZE?QE(t,e,Tn):VB(en,Tn),QE(t,n,en),YE=Tn.nx*en.ny-Tn.ny*en.nx,XE=Tn.nx*en.nx-Tn.ny*-en.ny,Fn=Math.asin(Math.max(-1,Math.min(1,YE))),Math.abs(Fn)<1e-6){f0=t.x,c0=t.y,ri=Hi=0;return}ni=1,yl=!1,XE<0?Fn<0?Fn=Math.PI+Fn:(Fn=Math.PI-Fn,ni=-1,yl=!0):Fn>0&&(ni=-1,yl=!0),t.radius!==void 0?Hi=t.radius:Hi=a,Qa=Fn/2,ol=Math.min(Tn.len/2,en.len/2),i?(Sn=Math.abs(Math.cos(Qa)*Hi/Math.sin(Qa)),Sn>ol?(Sn=ol,ri=Math.abs(Sn*Math.sin(Qa)/Math.cos(Qa))):ri=Hi):(Sn=Math.min(ol,Hi),ri=Math.abs(Sn*Math.sin(Qa)/Math.cos(Qa))),d0=t.x+en.nx*Sn,v0=t.y+en.ny*Sn,f0=d0-en.ny*ri*ni,c0=v0+en.nx*ri*ni,aA=t.x+Tn.nx*Sn,iA=t.y+Tn.ny*Sn,ZE=t};function oA(r,e){e.radius===0?r.lineTo(e.cx,e.cy):r.arc(e.cx,e.cy,e.radius,e.startAngle,e.endAngle,e.counterClockwise)}function $0(r,e,t,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0;return n===0||e.radius===0?{cx:e.x,cy:e.y,radius:0,startX:e.x,startY:e.y,stopX:e.x,stopY:e.y,startAngle:void 0,endAngle:void 0,counterClockwise:void 0}:($B(r,e,t,n,a),{cx:f0,cy:c0,radius:ri,startX:aA,startY:iA,stopX:d0,stopY:v0,startAngle:Tn.ang+Math.PI/2*ni,endAngle:en.ang-Math.PI/2*ni,counterClockwise:yl})}var ks=.01,UB=Math.sqrt(2*ks),Et={};Et.findMidptPtsEtc=function(r,e){var t=e.posPts,n=e.intersectionPts,a=e.vectorNormInverse,i,s=r.pstyle("source-endpoint"),u=r.pstyle("target-endpoint"),f=s.units!=null&&u.units!=null,c=function(R,A,k,P){var D=P-A,I=k-R,M=Math.sqrt(I*I+D*D);return{x:-D/M,y:I/M}},d=r.pstyle("edge-distances").value;switch(d){case"node-position":i=t;break;case"intersection":i=n;break;case"endpoints":{if(f){var v=this.manualEndptToPx(r.source()[0],s),p=Hr(v,2),g=p[0],y=p[1],x=this.manualEndptToPx(r.target()[0],u),w=Hr(x,2),b=w[0],E=w[1],S={x1:g,y1:y,x2:b,y2:E};a=c(g,y,b,E),i=S}else pr("Edge ".concat(r.id()," has edge-distances:endpoints specified without manual endpoints specified via source-endpoint and target-endpoint.  Falling back on edge-distances:intersection (default).")),i=n;break}}return{midptPts:i,vectorNormInverse:a}};Et.findHaystackPoints=function(r){for(var e=0;e<r.length;e++){var t=r[e],n=t._private,a=n.rscratch;if(!a.haystack){var i=Math.random()*2*Math.PI;a.source={x:Math.cos(i),y:Math.sin(i)},i=Math.random()*2*Math.PI,a.target={x:Math.cos(i),y:Math.sin(i)}}var s=n.source,u=n.target,f=s.position(),c=u.position(),d=s.width(),v=u.width(),p=s.height(),g=u.height(),y=t.pstyle("haystack-radius").value,x=y/2;a.haystackPts=a.allpts=[a.source.x*d*x+f.x,a.source.y*p*x+f.y,a.target.x*v*x+c.x,a.target.y*g*x+c.y],a.midX=(a.allpts[0]+a.allpts[2])/2,a.midY=(a.allpts[1]+a.allpts[3])/2,a.edgeType="haystack",a.haystack=!0,this.storeEdgeProjections(t),this.calculateArrowAngles(t),this.recalculateEdgeLabelProjections(t),this.calculateLabelAngles(t)}};Et.findSegmentsPoints=function(r,e){var t=r._private.rscratch,n=r.pstyle("segment-weights"),a=r.pstyle("segment-distances"),i=r.pstyle("segment-radii"),s=r.pstyle("radius-type"),u=Math.min(n.pfValue.length,a.pfValue.length),f=i.pfValue[i.pfValue.length-1],c=s.pfValue[s.pfValue.length-1];t.edgeType="segments",t.segpts=[],t.radii=[],t.isArcRadius=[];for(var d=0;d<u;d++){var v=n.pfValue[d],p=a.pfValue[d],g=1-v,y=v,x=this.findMidptPtsEtc(r,e),w=x.midptPts,b=x.vectorNormInverse,E={x:w.x1*g+w.x2*y,y:w.y1*g+w.y2*y};t.segpts.push(E.x+b.x*p,E.y+b.y*p),t.radii.push(i.pfValue[d]!==void 0?i.pfValue[d]:f),t.isArcRadius.push((s.pfValue[d]!==void 0?s.pfValue[d]:c)==="arc-radius")}};Et.findLoopPoints=function(r,e,t,n){var a=r._private.rscratch,i=e.dirCounts,s=e.srcPos,u=r.pstyle("control-point-distances"),f=u?u.pfValue[0]:void 0,c=r.pstyle("loop-direction").pfValue,d=r.pstyle("loop-sweep").pfValue,v=r.pstyle("control-point-step-size").pfValue;a.edgeType="self";var p=t,g=v;n&&(p=0,g=f);var y=c-Math.PI/2,x=y-d/2,w=y+d/2,b=c+"_"+d;p=i[b]===void 0?i[b]=0:++i[b],a.ctrlpts=[s.x+Math.cos(x)*1.4*g*(p/3+1),s.y+Math.sin(x)*1.4*g*(p/3+1),s.x+Math.cos(w)*1.4*g*(p/3+1),s.y+Math.sin(w)*1.4*g*(p/3+1)]};Et.findCompoundLoopPoints=function(r,e,t,n){var a=r._private.rscratch;a.edgeType="compound";var i=e.srcPos,s=e.tgtPos,u=e.srcW,f=e.srcH,c=e.tgtW,d=e.tgtH,v=r.pstyle("control-point-step-size").pfValue,p=r.pstyle("control-point-distances"),g=p?p.pfValue[0]:void 0,y=t,x=v;n&&(y=0,x=g);var w=50,b={x:i.x-u/2,y:i.y-f/2},E={x:s.x-c/2,y:s.y-d/2},S={x:Math.min(b.x,E.x),y:Math.min(b.y,E.y)},T=.5,R=Math.max(T,Math.log(u*ks)),A=Math.max(T,Math.log(c*ks));a.ctrlpts=[S.x,S.y-(1+Math.pow(w,1.12)/100)*x*(y/3+1)*R,S.x-(1+Math.pow(w,1.12)/100)*x*(y/3+1)*A,S.y]};Et.findStraightEdgePoints=function(r){r._private.rscratch.edgeType="straight"};Et.findBezierPoints=function(r,e,t,n,a){var i=r._private.rscratch,s=r.pstyle("control-point-step-size").pfValue,u=r.pstyle("control-point-distances"),f=r.pstyle("control-point-weights"),c=u&&f?Math.min(u.value.length,f.value.length):1,d=u?u.pfValue[0]:void 0,v=f.value[0],p=n;i.edgeType=p?"multibezier":"bezier",i.ctrlpts=[];for(var g=0;g<c;g++){var y=(.5-e.eles.length/2+t)*s*(a?-1:1),x=void 0,w=A0(y);p&&(d=u?u.pfValue[g]:s,v=f.value[g]),n?x=d:x=d!==void 0?w*d:void 0;var b=x!==void 0?x:y,E=1-v,S=v,T=this.findMidptPtsEtc(r,e),R=T.midptPts,A=T.vectorNormInverse,k={x:R.x1*E+R.x2*S,y:R.y1*E+R.y2*S};i.ctrlpts.push(k.x+A.x*b,k.y+A.y*b)}};Et.findTaxiPoints=function(r,e){var t=r._private.rscratch;t.edgeType="segments";var n="vertical",a="horizontal",i="leftward",s="rightward",u="downward",f="upward",c="auto",d=e.posPts,v=e.srcW,p=e.srcH,g=e.tgtW,y=e.tgtH,x=r.pstyle("edge-distances").value,w=x!=="node-position",b=r.pstyle("taxi-direction").value,E=b,S=r.pstyle("taxi-turn"),T=S.units==="%",R=S.pfValue,A=R<0,k=r.pstyle("taxi-turn-min-distance").pfValue,P=w?(v+g)/2:0,D=w?(p+y)/2:0,I=d.x2-d.x1,M=d.y2-d.y1,L=function(q,ne){return q>0?Math.max(q-ne,0):Math.min(q+ne,0)},N=L(I,P),z=L(M,D),G=!1;E===c?b=Math.abs(N)>Math.abs(z)?a:n:E===f||E===u?(b=n,G=!0):(E===i||E===s)&&(b=a,G=!0);var H=b===n,U=H?z:N,F=H?M:I,X=A0(F),K=!1;!(G&&(T||A))&&(E===u&&F<0||E===f&&F>0||E===i&&F>0||E===s&&F<0)&&(X*=-1,U=X*Math.abs(U),K=!0);var B;if(T){var V=R<0?1+R:R;B=V*U}else{var te=R<0?U:0;B=te+R*X}var $=function(q){return Math.abs(q)<k||Math.abs(q)>=Math.abs(U)},j=$(B),Y=$(Math.abs(U)-Math.abs(B)),ee=j||Y;if(ee&&!K)if(H){var le=Math.abs(F)<=p/2,ie=Math.abs(I)<=g/2;if(le){var Q=(d.x1+d.x2)/2,re=d.y1,se=d.y2;t.segpts=[Q,re,Q,se]}else if(ie){var ce=(d.y1+d.y2)/2,me=d.x1,xe=d.x2;t.segpts=[me,ce,xe,ce]}else t.segpts=[d.x1,d.y2]}else{var Ze=Math.abs(F)<=v/2,Se=Math.abs(M)<=y/2;if(Ze){var Ve=(d.y1+d.y2)/2,Oe=d.x1,Ce=d.x2;t.segpts=[Oe,Ve,Ce,Ve]}else if(Se){var Ae=(d.x1+d.x2)/2,Pe=d.y1,Ne=d.y2;t.segpts=[Ae,Pe,Ae,Ne]}else t.segpts=[d.x2,d.y1]}else if(H){var Be=d.y1+B+(w?p/2*X:0),Ye=d.x1,ar=d.x2;t.segpts=[Ye,Be,ar,Be]}else{var sr=d.x1+B+(w?v/2*X:0),er=d.y1,ur=d.y2;t.segpts=[sr,er,sr,ur]}if(t.isRound){var Ge=r.pstyle("taxi-radius").value,_e=r.pstyle("radius-type").value[0]==="arc-radius";t.radii=new Array(t.segpts.length/2).fill(Ge),t.isArcRadius=new Array(t.segpts.length/2).fill(_e)}};Et.tryToCorrectInvalidPoints=function(r,e){var t=r._private.rscratch;if(t.edgeType==="bezier"){var n=e.srcPos,a=e.tgtPos,i=e.srcW,s=e.srcH,u=e.tgtW,f=e.tgtH,c=e.srcShape,d=e.tgtShape,v=e.srcCornerRadius,p=e.tgtCornerRadius,g=e.srcRs,y=e.tgtRs,x=!Te(t.startX)||!Te(t.startY),w=!Te(t.arrowStartX)||!Te(t.arrowStartY),b=!Te(t.endX)||!Te(t.endY),E=!Te(t.arrowEndX)||!Te(t.arrowEndY),S=3,T=this.getArrowWidth(r.pstyle("width").pfValue,r.pstyle("arrow-scale").value)*this.arrowShapeWidth,R=S*T,A=oi({x:t.ctrlpts[0],y:t.ctrlpts[1]},{x:t.startX,y:t.startY}),k=A<R,P=oi({x:t.ctrlpts[0],y:t.ctrlpts[1]},{x:t.endX,y:t.endY}),D=P<R,I=!1;if(x||w||k){I=!0;var M={x:t.ctrlpts[0]-n.x,y:t.ctrlpts[1]-n.y},L=Math.sqrt(M.x*M.x+M.y*M.y),N={x:M.x/L,y:M.y/L},z=Math.max(i,s),G={x:t.ctrlpts[0]+N.x*2*z,y:t.ctrlpts[1]+N.y*2*z},H=c.intersectLine(n.x,n.y,i,s,G.x,G.y,0,v,g);k?(t.ctrlpts[0]=t.ctrlpts[0]+N.x*(R-A),t.ctrlpts[1]=t.ctrlpts[1]+N.y*(R-A)):(t.ctrlpts[0]=H[0]+N.x*R,t.ctrlpts[1]=H[1]+N.y*R)}if(b||E||D){I=!0;var U={x:t.ctrlpts[0]-a.x,y:t.ctrlpts[1]-a.y},F=Math.sqrt(U.x*U.x+U.y*U.y),X={x:U.x/F,y:U.y/F},K=Math.max(i,s),B={x:t.ctrlpts[0]+X.x*2*K,y:t.ctrlpts[1]+X.y*2*K},V=d.intersectLine(a.x,a.y,u,f,B.x,B.y,0,p,y);D?(t.ctrlpts[0]=t.ctrlpts[0]+X.x*(R-P),t.ctrlpts[1]=t.ctrlpts[1]+X.y*(R-P)):(t.ctrlpts[0]=V[0]+X.x*R,t.ctrlpts[1]=V[1]+X.y*R)}I&&this.findEndpoints(r)}};Et.storeAllpts=function(r){var e=r._private.rscratch;if(e.edgeType==="multibezier"||e.edgeType==="bezier"||e.edgeType==="self"||e.edgeType==="compound"){e.allpts=[],e.allpts.push(e.startX,e.startY);for(var t=0;t+1<e.ctrlpts.length;t+=2)e.allpts.push(e.ctrlpts[t],e.ctrlpts[t+1]),t+3<e.ctrlpts.length&&e.allpts.push((e.ctrlpts[t]+e.ctrlpts[t+2])/2,(e.ctrlpts[t+1]+e.ctrlpts[t+3])/2);e.allpts.push(e.endX,e.endY);var n,a;e.ctrlpts.length/2%2===0?(n=e.allpts.length/2-1,e.midX=e.allpts[n],e.midY=e.allpts[n+1]):(n=e.allpts.length/2-3,a=.5,e.midX=at(e.allpts[n],e.allpts[n+2],e.allpts[n+4],a),e.midY=at(e.allpts[n+1],e.allpts[n+3],e.allpts[n+5],a))}else if(e.edgeType==="straight")e.allpts=[e.startX,e.startY,e.endX,e.endY],e.midX=(e.startX+e.endX+e.arrowStartX+e.arrowEndX)/4,e.midY=(e.startY+e.endY+e.arrowStartY+e.arrowEndY)/4;else if(e.edgeType==="segments"){if(e.allpts=[],e.allpts.push(e.startX,e.startY),e.allpts.push.apply(e.allpts,e.segpts),e.allpts.push(e.endX,e.endY),e.isRound){e.roundCorners=[];for(var i=2;i+3<e.allpts.length;i+=2){var s=e.radii[i/2-1],u=e.isArcRadius[i/2-1];e.roundCorners.push($0({x:e.allpts[i-2],y:e.allpts[i-1]},{x:e.allpts[i],y:e.allpts[i+1],radius:s},{x:e.allpts[i+2],y:e.allpts[i+3]},s,u))}}if(e.segpts.length%4===0){var f=e.segpts.length/2,c=f-2;e.midX=(e.segpts[c]+e.segpts[f])/2,e.midY=(e.segpts[c+1]+e.segpts[f+1])/2}else{var d=e.segpts.length/2-1;if(!e.isRound)e.midX=e.segpts[d],e.midY=e.segpts[d+1];else{var v={x:e.segpts[d],y:e.segpts[d+1]},p=e.roundCorners[d/2];if(p.radius===0){var g={x:e.segpts[d+2],y:e.segpts[d+3]};e.midX=v.x,e.midY=v.y,e.midVector=[v.y-g.y,g.x-v.x]}else{var y=[v.x-p.cx,v.y-p.cy],x=p.radius/Math.sqrt(Math.pow(y[0],2)+Math.pow(y[1],2));y=y.map(function(w){return w*x}),e.midX=p.cx+y[0],e.midY=p.cy+y[1],e.midVector=y}}}}};Et.checkForInvalidEdgeWarning=function(r){var e=r[0]._private.rscratch;e.nodesOverlap||Te(e.startX)&&Te(e.startY)&&Te(e.endX)&&Te(e.endY)?e.loggedErr=!1:e.loggedErr||(e.loggedErr=!0,pr("Edge `"+r.id()+"` has invalid endpoints and so it is impossible to draw.  Adjust your edge style (e.g. control points) accordingly or use an alternative edge type.  This is expected behaviour when the source node and the target node overlap."))};Et.findEdgeControlPoints=function(r){var e=this;if(!(!r||r.length===0)){for(var t=this,n=t.cy,a=n.hasCompoundNodes(),i=new $n,s=function(D,I){return[].concat(xl(D),[I?1:0]).join("-")},u=[],f=[],c=0;c<r.length;c++){var d=r[c],v=d._private,p=d.pstyle("curve-style").value;if(!(d.removed()||!d.takesUpSpace())){if(p==="haystack"){f.push(d);continue}var g=p==="unbundled-bezier"||wa(p,"segments")||p==="straight"||p==="straight-triangle"||wa(p,"taxi"),y=p==="unbundled-bezier"||p==="bezier",x=v.source,w=v.target,b=x.poolIndex(),E=w.poolIndex(),S=[b,E].sort(),T=s(S,g),R=i.get(T);R==null&&(R={eles:[]},u.push({pairId:S,edgeIsUnbundled:g}),i.set(T,R)),R.eles.push(d),g&&(R.hasUnbundled=!0),y&&(R.hasBezier=!0)}}for(var A=function(){var D=u[k],I=D.pairId,M=D.edgeIsUnbundled,L=s(I,M),N=i.get(L),z;if(!N.hasUnbundled){var G=N.eles[0].parallelEdges().filter(function(_e){return _e.isBundledBezier()});k0(N.eles),G.forEach(function(_e){return N.eles.push(_e)}),N.eles.sort(function(_e,he){return _e.poolIndex()-he.poolIndex()})}var H=N.eles[0],U=H.source(),F=H.target();if(U.poolIndex()>F.poolIndex()){var X=U;U=F,F=X}var K=N.srcPos=U.position(),B=N.tgtPos=F.position(),V=N.srcW=U.outerWidth(),te=N.srcH=U.outerHeight(),$=N.tgtW=F.outerWidth(),j=N.tgtH=F.outerHeight(),Y=N.srcShape=t.nodeShapes[e.getNodeShape(U)],ee=N.tgtShape=t.nodeShapes[e.getNodeShape(F)],le=N.srcCornerRadius=U.pstyle("corner-radius").value==="auto"?"auto":U.pstyle("corner-radius").pfValue,ie=N.tgtCornerRadius=F.pstyle("corner-radius").value==="auto"?"auto":F.pstyle("corner-radius").pfValue,Q=N.tgtRs=F._private.rscratch,re=N.srcRs=U._private.rscratch;N.dirCounts={north:0,west:0,south:0,east:0,northwest:0,southwest:0,northeast:0,southeast:0};for(var se=0;se<N.eles.length;se++){var ce=N.eles[se],me=ce[0]._private.rscratch,xe=ce.pstyle("curve-style").value,Ze=xe==="unbundled-bezier"||wa(xe,"segments")||wa(xe,"taxi"),Se=!U.same(ce.source());if(!N.calculatedIntersection&&U!==F&&(N.hasBezier||N.hasUnbundled)){N.calculatedIntersection=!0;var Ve=Y.intersectLine(K.x,K.y,V,te,B.x,B.y,0,le,re),Oe=N.srcIntn=Ve,Ce=ee.intersectLine(B.x,B.y,$,j,K.x,K.y,0,ie,Q),Ae=N.tgtIntn=Ce,Pe=N.intersectionPts={x1:Ve[0],x2:Ce[0],y1:Ve[1],y2:Ce[1]},Ne=N.posPts={x1:K.x,x2:B.x,y1:K.y,y2:B.y},Be=Ce[1]-Ve[1],Ye=Ce[0]-Ve[0],ar=Math.sqrt(Ye*Ye+Be*Be);Te(ar)&&ar>=UB||(ar=Math.sqrt(Math.max(Ye*Ye,ks)+Math.max(Be*Be,ks)));var sr=N.vector={x:Ye,y:Be},er=N.vectorNorm={x:sr.x/ar,y:sr.y/ar},ur={x:-er.y,y:er.x};N.nodesOverlap=!Te(ar)||ee.checkPoint(Ve[0],Ve[1],0,$,j,B.x,B.y,ie,Q)||Y.checkPoint(Ce[0],Ce[1],0,V,te,K.x,K.y,le,re),N.vectorNormInverse=ur,z={nodesOverlap:N.nodesOverlap,dirCounts:N.dirCounts,calculatedIntersection:!0,hasBezier:N.hasBezier,hasUnbundled:N.hasUnbundled,eles:N.eles,srcPos:B,srcRs:Q,tgtPos:K,tgtRs:re,srcW:$,srcH:j,tgtW:V,tgtH:te,srcIntn:Ae,tgtIntn:Oe,srcShape:ee,tgtShape:Y,posPts:{x1:Ne.x2,y1:Ne.y2,x2:Ne.x1,y2:Ne.y1},intersectionPts:{x1:Pe.x2,y1:Pe.y2,x2:Pe.x1,y2:Pe.y1},vector:{x:-sr.x,y:-sr.y},vectorNorm:{x:-er.x,y:-er.y},vectorNormInverse:{x:-ur.x,y:-ur.y}}}var Ge=Se?z:N;me.nodesOverlap=Ge.nodesOverlap,me.srcIntn=Ge.srcIntn,me.tgtIntn=Ge.tgtIntn,me.isRound=xe.startsWith("round"),a&&(U.isParent()||U.isChild()||F.isParent()||F.isChild())&&(U.parents().anySame(F)||F.parents().anySame(U)||U.same(F)&&U.isParent())?e.findCompoundLoopPoints(ce,Ge,se,Ze):U===F?e.findLoopPoints(ce,Ge,se,Ze):xe.endsWith("segments")?e.findSegmentsPoints(ce,Ge):xe.endsWith("taxi")?e.findTaxiPoints(ce,Ge):xe==="straight"||!Ze&&N.eles.length%2===1&&se===Math.floor(N.eles.length/2)?e.findStraightEdgePoints(ce):e.findBezierPoints(ce,Ge,se,Ze,Se),e.findEndpoints(ce),e.tryToCorrectInvalidPoints(ce,Ge),e.checkForInvalidEdgeWarning(ce),e.storeAllpts(ce),e.storeEdgeProjections(ce),e.calculateArrowAngles(ce),e.recalculateEdgeLabelProjections(ce),e.calculateLabelAngles(ce)}},k=0;k<u.length;k++)A();this.findHaystackPoints(f)}};function sA(r){var e=[];if(r!=null){for(var t=0;t<r.length;t+=2){var n=r[t],a=r[t+1];e.push({x:n,y:a})}return e}}Et.getSegmentPoints=function(r){var e=r[0]._private.rscratch;this.recalculateRenderedStyle(r);var t=e.edgeType;if(t==="segments")return sA(e.segpts)};Et.getControlPoints=function(r){var e=r[0]._private.rscratch;this.recalculateRenderedStyle(r);var t=e.edgeType;if(t==="bezier"||t==="multibezier"||t==="self"||t==="compound")return sA(e.ctrlpts)};Et.getEdgeMidpoint=function(r){var e=r[0]._private.rscratch;return this.recalculateRenderedStyle(r),{x:e.midX,y:e.midY}};var Bs={};Bs.manualEndptToPx=function(r,e){var t=this,n=r.position(),a=r.outerWidth(),i=r.outerHeight(),s=r._private.rscratch;if(e.value.length===2){var u=[e.pfValue[0],e.pfValue[1]];return e.units[0]==="%"&&(u[0]=u[0]*a),e.units[1]==="%"&&(u[1]=u[1]*i),u[0]+=n.x,u[1]+=n.y,u}else{var f=e.pfValue[0];f=-Math.PI/2+f;var c=2*Math.max(a,i),d=[n.x+Math.cos(f)*c,n.y+Math.sin(f)*c];return t.nodeShapes[this.getNodeShape(r)].intersectLine(n.x,n.y,a,i,d[0],d[1],0,r.pstyle("corner-radius").value==="auto"?"auto":r.pstyle("corner-radius").pfValue,s)}};Bs.findEndpoints=function(r){var e,t,n,a,i=this,s,u=r.source()[0],f=r.target()[0],c=u.position(),d=f.position(),v=r.pstyle("target-arrow-shape").value,p=r.pstyle("source-arrow-shape").value,g=r.pstyle("target-distance-from-node").pfValue,y=r.pstyle("source-distance-from-node").pfValue,x=u._private.rscratch,w=f._private.rscratch,b=r.pstyle("curve-style").value,E=r._private.rscratch,S=E.edgeType,T=wa(b,"taxi"),R=S==="self"||S==="compound",A=S==="bezier"||S==="multibezier"||R,k=S!=="bezier",P=S==="straight"||S==="segments",D=S==="segments",I=A||k||P,M=R||T,L=r.pstyle("source-endpoint"),N=M?"outside-to-node":L.value,z=u.pstyle("corner-radius").value==="auto"?"auto":u.pstyle("corner-radius").pfValue,G=r.pstyle("target-endpoint"),H=M?"outside-to-node":G.value,U=f.pstyle("corner-radius").value==="auto"?"auto":f.pstyle("corner-radius").pfValue;E.srcManEndpt=L,E.tgtManEndpt=G;var F,X,K,B,V=(e=(G==null||(t=G.pfValue)===null||t===void 0?void 0:t.length)===2?G.pfValue:null)!==null&&e!==void 0?e:[0,0],te=(n=(L==null||(a=L.pfValue)===null||a===void 0?void 0:a.length)===2?L.pfValue:null)!==null&&n!==void 0?n:[0,0];if(A){var $=[E.ctrlpts[0],E.ctrlpts[1]],j=k?[E.ctrlpts[E.ctrlpts.length-2],E.ctrlpts[E.ctrlpts.length-1]]:$;F=j,X=$}else if(P){var Y=D?E.segpts.slice(0,2):[d.x+V[0],d.y+V[1]],ee=D?E.segpts.slice(E.segpts.length-2):[c.x+te[0],c.y+te[1]];F=ee,X=Y}if(H==="inside-to-node")s=[d.x,d.y];else if(G.units)s=this.manualEndptToPx(f,G);else if(H==="outside-to-line")s=E.tgtIntn;else if(H==="outside-to-node"||H==="outside-to-node-or-label"?K=F:(H==="outside-to-line"||H==="outside-to-line-or-label")&&(K=[c.x,c.y]),s=i.nodeShapes[this.getNodeShape(f)].intersectLine(d.x,d.y,f.outerWidth(),f.outerHeight(),K[0],K[1],0,U,w),H==="outside-to-node-or-label"||H==="outside-to-line-or-label"){var le=f._private.rscratch,ie=le.labelWidth,Q=le.labelHeight,re=le.labelX,se=le.labelY,ce=ie/2,me=Q/2,xe=f.pstyle("text-valign").value;xe==="top"?se-=me:xe==="bottom"&&(se+=me);var Ze=f.pstyle("text-halign").value;Ze==="left"?re-=ce:Ze==="right"&&(re+=ce);var Se=Es(K[0],K[1],[re-ce,se-me,re+ce,se-me,re+ce,se+me,re-ce,se+me],d.x,d.y);if(Se.length>0){var Ve=c,Oe=ei(Ve,Zi(s)),Ce=ei(Ve,Zi(Se)),Ae=Oe;if(Ce<Oe&&(s=Se,Ae=Ce),Se.length>2){var Pe=ei(Ve,{x:Se[2],y:Se[3]});Pe<Ae&&(s=[Se[2],Se[3]])}}}var Ne=Ju(s,F,i.arrowShapes[v].spacing(r)+g),Be=Ju(s,F,i.arrowShapes[v].gap(r)+g);if(E.endX=Be[0],E.endY=Be[1],E.arrowEndX=Ne[0],E.arrowEndY=Ne[1],N==="inside-to-node")s=[c.x,c.y];else if(L.units)s=this.manualEndptToPx(u,L);else if(N==="outside-to-line")s=E.srcIntn;else if(N==="outside-to-node"||N==="outside-to-node-or-label"?B=X:(N==="outside-to-line"||N==="outside-to-line-or-label")&&(B=[d.x,d.y]),s=i.nodeShapes[this.getNodeShape(u)].intersectLine(c.x,c.y,u.outerWidth(),u.outerHeight(),B[0],B[1],0,z,x),N==="outside-to-node-or-label"||N==="outside-to-line-or-label"){var Ye=u._private.rscratch,ar=Ye.labelWidth,sr=Ye.labelHeight,er=Ye.labelX,ur=Ye.labelY,Ge=ar/2,_e=sr/2,he=u.pstyle("text-valign").value;he==="top"?ur-=_e:he==="bottom"&&(ur+=_e);var q=u.pstyle("text-halign").value;q==="left"?er-=Ge:q==="right"&&(er+=Ge);var ne=Es(B[0],B[1],[er-Ge,ur-_e,er+Ge,ur-_e,er+Ge,ur+_e,er-Ge,ur+_e],c.x,c.y);if(ne.length>0){var de=d,ve=ei(de,Zi(s)),pe=ei(de,Zi(ne)),De=ve;if(pe<ve&&(s=[ne[0],ne[1]],De=pe),ne.length>2){var ge=ei(de,{x:ne[2],y:ne[3]});ge<De&&(s=[ne[2],ne[3]])}}}var qe=Ju(s,X,i.arrowShapes[p].spacing(r)+y),ke=Ju(s,X,i.arrowShapes[p].gap(r)+y);E.startX=ke[0],E.startY=ke[1],E.arrowStartX=qe[0],E.arrowStartY=qe[1],I&&(!Te(E.startX)||!Te(E.startY)||!Te(E.endX)||!Te(E.endY)?E.badLine=!0:E.badLine=!1)};Bs.getSourceEndpoint=function(r){var e=r[0]._private.rscratch;switch(this.recalculateRenderedStyle(r),e.edgeType){case"haystack":return{x:e.haystackPts[0],y:e.haystackPts[1]};default:return{x:e.arrowStartX,y:e.arrowStartY}}};Bs.getTargetEndpoint=function(r){var e=r[0]._private.rscratch;switch(this.recalculateRenderedStyle(r),e.edgeType){case"haystack":return{x:e.haystackPts[2],y:e.haystackPts[3]};default:return{x:e.arrowEndX,y:e.arrowEndY}}};var U0={};function GB(r,e,t){for(var n=function(c,d,v,p){return at(c,d,v,p)},a=e._private,i=a.rstyle.bezierPts,s=0;s<r.bezierProjPcts.length;s++){var u=r.bezierProjPcts[s];i.push({x:n(t[0],t[2],t[4],u),y:n(t[1],t[3],t[5],u)})}}U0.storeEdgeProjections=function(r){var e=r._private,t=e.rscratch,n=t.edgeType;if(e.rstyle.bezierPts=null,e.rstyle.linePts=null,e.rstyle.haystackPts=null,n==="multibezier"||n==="bezier"||n==="self"||n==="compound"){e.rstyle.bezierPts=[];for(var a=0;a+5<t.allpts.length;a+=4)GB(this,r,t.allpts.slice(a,a+6))}else if(n==="segments")for(var i=e.rstyle.linePts=[],a=0;a+1<t.allpts.length;a+=2)i.push({x:t.allpts[a],y:t.allpts[a+1]});else if(n==="haystack"){var s=t.haystackPts;e.rstyle.haystackPts=[{x:s[0],y:s[1]},{x:s[2],y:s[3]}]}e.rstyle.arrowWidth=this.getArrowWidth(r.pstyle("width").pfValue,r.pstyle("arrow-scale").value)*this.arrowShapeWidth};U0.recalculateEdgeProjections=function(r){this.findEdgeControlPoints(r)};var Rn={};Rn.recalculateNodeLabelProjection=function(r){var e=r.pstyle("label").strValue;if(!Ca(e)){var t,n,a=r._private,i=r.width(),s=r.height(),u=r.padding(),f=r.position(),c=r.pstyle("text-halign").strValue,d=r.pstyle("text-valign").strValue,v=a.rscratch,p=a.rstyle;switch(c){case"left":t=f.x-i/2-u;break;case"right":t=f.x+i/2+u;break;default:t=f.x}switch(d){case"top":n=f.y-s/2-u;break;case"bottom":n=f.y+s/2+u;break;default:n=f.y}v.labelX=t,v.labelY=n,p.labelX=t,p.labelY=n,this.calculateLabelAngles(r),this.applyLabelDimensions(r)}};var uA=function(e,t){var n=Math.atan(t/e);return e===0&&n<0&&(n=n*-1),n},lA=function(e,t){var n=t.x-e.x,a=t.y-e.y;return uA(n,a)},jB=function(e,t,n,a){var i=xs(0,a-.001,1),s=xs(0,a+.001,1),u=eo(e,t,n,i),f=eo(e,t,n,s);return lA(u,f)};Rn.recalculateEdgeLabelProjections=function(r){var e,t=r._private,n=t.rscratch,a=this,i={mid:r.pstyle("label").strValue,source:r.pstyle("source-label").strValue,target:r.pstyle("target-label").strValue};if(i.mid||i.source||i.target){e={x:n.midX,y:n.midY};var s=function(v,p,g){Vn(t.rscratch,v,p,g),Vn(t.rstyle,v,p,g)};s("labelX",null,e.x),s("labelY",null,e.y);var u=uA(n.midDispX,n.midDispY);s("labelAutoAngle",null,u);var f=function(){if(f.cache)return f.cache;for(var v=[],p=0;p+5<n.allpts.length;p+=4){var g={x:n.allpts[p],y:n.allpts[p+1]},y={x:n.allpts[p+2],y:n.allpts[p+3]},x={x:n.allpts[p+4],y:n.allpts[p+5]};v.push({p0:g,p1:y,p2:x,startDist:0,length:0,segments:[]})}var w=t.rstyle.bezierPts,b=a.bezierProjPcts.length;function E(k,P,D,I,M){var L=oi(P,D),N=k.segments[k.segments.length-1],z={p0:P,p1:D,t0:I,t1:M,startDist:N?N.startDist+N.length:0,length:L};k.segments.push(z),k.length+=L}for(var S=0;S<v.length;S++){var T=v[S],R=v[S-1];R&&(T.startDist=R.startDist+R.length),E(T,T.p0,w[S*b],0,a.bezierProjPcts[0]);for(var A=0;A<b-1;A++)E(T,w[S*b+A],w[S*b+A+1],a.bezierProjPcts[A],a.bezierProjPcts[A+1]);E(T,w[S*b+b-1],T.p2,a.bezierProjPcts[b-1],1)}return f.cache=v},c=function(v){var p,g=v==="source";if(i[v]){var y=r.pstyle(v+"-text-offset").pfValue;switch(n.edgeType){case"self":case"compound":case"bezier":case"multibezier":{for(var x=f(),w,b=0,E=0,S=0;S<x.length;S++){for(var T=x[g?S:x.length-1-S],R=0;R<T.segments.length;R++){var A=T.segments[g?R:T.segments.length-1-R],k=S===x.length-1&&R===T.segments.length-1;if(b=E,E+=A.length,E>=y||k){w={cp:T,segment:A};break}}if(w)break}var P=w.cp,D=w.segment,I=(y-b)/D.length,M=D.t1-D.t0,L=g?D.t0+M*I:D.t1-M*I;L=xs(0,L,1),e=eo(P.p0,P.p1,P.p2,L),p=jB(P.p0,P.p1,P.p2,L);break}case"straight":case"segments":case"haystack":{for(var N=0,z,G,H,U,F=n.allpts.length,X=0;X+3<F&&(g?(H={x:n.allpts[X],y:n.allpts[X+1]},U={x:n.allpts[X+2],y:n.allpts[X+3]}):(H={x:n.allpts[F-2-X],y:n.allpts[F-1-X]},U={x:n.allpts[F-4-X],y:n.allpts[F-3-X]}),z=oi(H,U),G=N,N+=z,!(N>=y));X+=2);var K=y-G,B=K/z;B=xs(0,B,1),e=vO(H,U,B),p=lA(H,U);break}}s("labelX",v,e.x),s("labelY",v,e.y),s("labelAutoAngle",v,p)}};c("source"),c("target"),this.applyLabelDimensions(r)}};Rn.applyLabelDimensions=function(r){this.applyPrefixedLabelDimensions(r),r.isEdge()&&(this.applyPrefixedLabelDimensions(r,"source"),this.applyPrefixedLabelDimensions(r,"target"))};Rn.applyPrefixedLabelDimensions=function(r,e){var t=r._private,n=this.getLabelText(r,e),a=ii(n,r._private.labelDimsKey);if(Lt(t.rscratch,"prefixedLabelDimsKey",e)!==a){Vn(t.rscratch,"prefixedLabelDimsKey",e,a);var i=this.calculateLabelDimensions(r,n),s=r.pstyle("line-height").pfValue,u=r.pstyle("text-wrap").strValue,f=Lt(t.rscratch,"labelWrapCachedLines",e)||[],c=u!=="wrap"?1:Math.max(f.length,1),d=i.height/c,v=d*s,p=i.width,g=i.height+(c-1)*(s-1)*d;Vn(t.rstyle,"labelWidth",e,p),Vn(t.rscratch,"labelWidth",e,p),Vn(t.rstyle,"labelHeight",e,g),Vn(t.rscratch,"labelHeight",e,g),Vn(t.rscratch,"labelLineHeight",e,v)}};Rn.getLabelText=function(r,e){var t=r._private,n=e?e+"-":"",a=r.pstyle(n+"label").strValue,i=r.pstyle("text-transform").value,s=function(te,$){return $?(Vn(t.rscratch,te,e,$),$):Lt(t.rscratch,te,e)};if(!a)return"";i=="none"||(i=="uppercase"?a=a.toUpperCase():i=="lowercase"&&(a=a.toLowerCase()));var u=r.pstyle("text-wrap").value;if(u==="wrap"){var f=s("labelKey");if(f!=null&&s("labelWrapKey")===f)return s("labelWrapCachedText");for(var c="",d=a.split(`
`),v=r.pstyle("text-max-width").pfValue,p=r.pstyle("text-overflow-wrap").value,g=p==="anywhere",y=[],x=/[\s\u200b]+|$/g,w=0;w<d.length;w++){var b=d[w],E=this.calculateLabelDimensions(r,b),S=E.width;if(g){var T=b.split("").join(c);b=T}if(S>v){var R=b.matchAll(x),A="",k=0,P=qt(R),D;try{for(P.s();!(D=P.n()).done;){var I=D.value,M=I[0],L=b.substring(k,I.index);k=I.index+M.length;var N=A.length===0?L:A+L+M,z=this.calculateLabelDimensions(r,N),G=z.width;G<=v?A+=L+M:(A&&y.push(A),A=L+M)}}catch(V){P.e(V)}finally{P.f()}A.match(/^[\s\u200b]+$/)||y.push(A)}else y.push(b)}s("labelWrapCachedLines",y),a=s("labelWrapCachedText",y.join(`
`)),s("labelWrapKey",f)}else if(u==="ellipsis"){var H=r.pstyle("text-max-width").pfValue,U="",F="",X=!1;if(this.calculateLabelDimensions(r,a).width<H)return a;for(var K=0;K<a.length;K++){var B=this.calculateLabelDimensions(r,U+a[K]+F).width;if(B>H)break;U+=a[K],K===a.length-1&&(X=!0)}return X||(U+=F),U}return a};Rn.getLabelJustification=function(r){var e=r.pstyle("text-justification").strValue,t=r.pstyle("text-halign").strValue;if(e==="auto")if(r.isNode())switch(t){case"left":return"right";case"right":return"left";default:return"center"}else return"center";else return e};Rn.calculateLabelDimensions=function(r,e){var t=this,n=t.cy.window(),a=n.document,i=0,s=r.pstyle("font-style").strValue,u=r.pstyle("font-size").pfValue,f=r.pstyle("font-family").strValue,c=r.pstyle("font-weight").strValue,d=this.labelCalcCanvas,v=this.labelCalcCanvasContext;if(!d){d=this.labelCalcCanvas=a.createElement("canvas"),v=this.labelCalcCanvasContext=d.getContext("2d");var p=d.style;p.position="absolute",p.left="-9999px",p.top="-9999px",p.zIndex="-1",p.visibility="hidden",p.pointerEvents="none"}v.font="".concat(s," ").concat(c," ").concat(u,"px ").concat(f);for(var g=0,y=0,x=e.split(`
`),w=0;w<x.length;w++){var b=x[w],E=v.measureText(b),S=Math.ceil(E.width),T=u;g=Math.max(S,g),y+=T}return g+=i,y+=i,{width:g,height:y}};Rn.calculateLabelAngle=function(r,e){var t=r._private,n=t.rscratch,a=r.isEdge(),i=e?e+"-":"",s=r.pstyle(i+"text-rotation"),u=s.strValue;return u==="none"?0:a&&u==="autorotate"?n.labelAutoAngle:u==="autorotate"?0:s.pfValue};Rn.calculateLabelAngles=function(r){var e=this,t=r.isEdge(),n=r._private,a=n.rscratch;a.labelAngle=e.calculateLabelAngle(r),t&&(a.sourceLabelAngle=e.calculateLabelAngle(r,"source"),a.targetLabelAngle=e.calculateLabelAngle(r,"target"))};var fA={},JE=28,eS=!1;fA.getNodeShape=function(r){var e=this,t=r.pstyle("shape").value;if(t==="cutrectangle"&&(r.width()<JE||r.height()<JE))return eS||(pr("The `cutrectangle` node shape can not be used at small sizes so `rectangle` is used instead"),eS=!0),"rectangle";if(r.isParent())return t==="rectangle"||t==="roundrectangle"||t==="round-rectangle"||t==="cutrectangle"||t==="cut-rectangle"||t==="barrel"?t:"rectangle";if(t==="polygon"){var n=r.pstyle("shape-polygon-points").value;return e.nodeShapes.makePolygon(n).name}return t};var Ql={};Ql.registerCalculationListeners=function(){var r=this.cy,e=r.collection(),t=this,n=function(s){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(e.merge(s),u)for(var f=0;f<s.length;f++){var c=s[f],d=c._private,v=d.rstyle;v.clean=!1,v.cleanConnected=!1}};t.binder(r).on("bounds.* dirty.*",function(s){var u=s.target;n(u)}).on("style.* background.*",function(s){var u=s.target;n(u,!1)});var a=function(s){if(s){var u=t.onUpdateEleCalcsFns;e.cleanStyle();for(var f=0;f<e.length;f++){var c=e[f],d=c._private.rstyle;c.isNode()&&!d.cleanConnected&&(n(c.connectedEdges()),d.cleanConnected=!0)}if(u)for(var v=0;v<u.length;v++){var p=u[v];p(s,e)}t.recalculateRenderedStyle(e),e=r.collection()}};t.flushRenderedStyleQueue=function(){a(!0)},t.beforeRender(a,t.beforeRenderPriorities.eleCalcs)};Ql.onUpdateEleCalcs=function(r){var e=this.onUpdateEleCalcsFns=this.onUpdateEleCalcsFns||[];e.push(r)};Ql.recalculateRenderedStyle=function(r,e){var t=function(T){return T._private.rstyle.cleanConnected};if(r.length!==0){var n=[],a=[];if(!this.destroyed){e===void 0&&(e=!0);for(var i=0;i<r.length;i++){var s=r[i],u=s._private,f=u.rstyle;s.isEdge()&&(!t(s.source())||!t(s.target()))&&(f.clean=!1),s.isEdge()&&s.isBundledBezier()&&s.parallelEdges().some(function(S){return!S._private.rstyle.clean&&S.isBundledBezier()})&&(f.clean=!1),!(e&&f.clean||s.removed())&&s.pstyle("display").value!=="none"&&(u.group==="nodes"?a.push(s):n.push(s),f.clean=!0)}for(var c=0;c<a.length;c++){var d=a[c],v=d._private,p=v.rstyle,g=d.position();this.recalculateNodeLabelProjection(d),p.nodeX=g.x,p.nodeY=g.y,p.nodeW=d.pstyle("width").pfValue,p.nodeH=d.pstyle("height").pfValue}this.recalculateEdgeProjections(n);for(var y=0;y<n.length;y++){var x=n[y],w=x._private,b=w.rstyle,E=w.rscratch;b.srcX=E.arrowStartX,b.srcY=E.arrowStartY,b.tgtX=E.arrowEndX,b.tgtY=E.arrowEndY,b.midX=E.midX,b.midY=E.midY,b.labelAngle=E.labelAngle,b.sourceLabelAngle=E.sourceLabelAngle,b.targetLabelAngle=E.targetLabelAngle}}}};var Jl={};Jl.updateCachedGrabbedEles=function(){var r=this.cachedZSortedEles;if(r){r.drag=[],r.nondrag=[];for(var e=[],t=0;t<r.length;t++){var n=r[t],a=n._private.rscratch;n.grabbed()&&!n.isParent()?e.push(n):a.inDragLayer?r.drag.push(n):r.nondrag.push(n)}for(var t=0;t<e.length;t++){var n=e[t];r.drag.push(n)}}};Jl.invalidateCachedZSortedEles=function(){this.cachedZSortedEles=null};Jl.getCachedZSortedEles=function(r){if(r||!this.cachedZSortedEles){var e=this.cy.mutableElements().toArray();e.sort(jR),e.interactive=e.filter(function(t){return t.interactive()}),this.cachedZSortedEles=e,this.updateCachedGrabbedEles()}else e=this.cachedZSortedEles;return e};var cA={};[fi,Dl,Et,Bs,U0,Rn,fA,Ql,Jl].forEach(function(r){Ke(cA,r)});var dA={};dA.getCachedImage=function(r,e,t){var n=this,a=n.imageCache=n.imageCache||{},i=a[r];if(i)return i.image.complete||i.image.addEventListener("load",t),i.image;i=a[r]=a[r]||{};var s=i.image=new Image;s.addEventListener("load",t),s.addEventListener("error",function(){s.error=!0});var u="data:",f=r.substring(0,u.length).toLowerCase()===u;return f||(e=e==="null"?null:e,s.crossOrigin=e),s.src=r,s};var co={};co.registerBinding=function(r,e,t,n){var a=Array.prototype.slice.apply(arguments,[1]);if(Array.isArray(r)){for(var i=[],s=0;s<r.length;s++){var u=r[s];if(u!==void 0){var f=this.binder(u);i.push(f.on.apply(f,a))}}return i}var f=this.binder(r);return f.on.apply(f,a)};co.binder=function(r){var e=this,t=e.cy.window(),n=r===t||r===t.document||r===t.document.body||nM(r);if(e.supportsPassiveEvents==null){var a=!1;try{var i=Object.defineProperty({},"passive",{get:function(){return a=!0,!0}});t.addEventListener("test",null,i)}catch{}e.supportsPassiveEvents=a}var s=function(f,c,d){var v=Array.prototype.slice.call(arguments);return n&&e.supportsPassiveEvents&&(v[2]={capture:d??!1,passive:!1,once:!1}),e.bindings.push({target:r,args:v}),(r.addEventListener||r.on).apply(r,v),this};return{on:s,addEventListener:s,addListener:s,bind:s}};co.nodeIsDraggable=function(r){return r&&r.isNode()&&!r.locked()&&r.grabbable()};co.nodeIsGrabbable=function(r){return this.nodeIsDraggable(r)&&r.interactive()};co.load=function(){var r=this,e=r.cy.window(),t=function(q){return q.selected()},n=function(q){var ne=q.getRootNode();if(ne&&ne.nodeType===11&&ne.host!==void 0)return ne},a=function(q,ne,de,ve){q==null&&(q=r.cy);for(var pe=0;pe<ne.length;pe++){var De=ne[pe];q.emit({originalEvent:de,type:De,position:ve})}},i=function(q){return q.shiftKey||q.metaKey||q.ctrlKey},s=function(q,ne){var de=!0;if(r.cy.hasCompoundNodes()&&q&&q.pannable())for(var ve=0;ne&&ve<ne.length;ve++){var q=ne[ve];if(q.isNode()&&q.isParent()&&!q.pannable()){de=!1;break}}else de=!0;return de},u=function(q){q[0]._private.grabbed=!0},f=function(q){q[0]._private.grabbed=!1},c=function(q){q[0]._private.rscratch.inDragLayer=!0},d=function(q){q[0]._private.rscratch.inDragLayer=!1},v=function(q){q[0]._private.rscratch.isGrabTarget=!0},p=function(q){q[0]._private.rscratch.isGrabTarget=!1},g=function(q,ne){var de=ne.addToList,ve=de.has(q);!ve&&q.grabbable()&&!q.locked()&&(de.merge(q),u(q))},y=function(q,ne){if(q.cy().hasCompoundNodes()&&!(ne.inDragLayer==null&&ne.addToList==null)){var de=q.descendants();ne.inDragLayer&&(de.forEach(c),de.connectedEdges().forEach(c)),ne.addToList&&g(de,ne)}},x=function(q,ne){ne=ne||{};var de=q.cy().hasCompoundNodes();ne.inDragLayer&&(q.forEach(c),q.neighborhood().stdFilter(function(ve){return!de||ve.isEdge()}).forEach(c)),ne.addToList&&q.forEach(function(ve){g(ve,ne)}),y(q,ne),E(q,{inDragLayer:ne.inDragLayer}),r.updateCachedGrabbedEles()},w=x,b=function(q){q&&(r.getCachedZSortedEles().forEach(function(ne){f(ne),d(ne),p(ne)}),r.updateCachedGrabbedEles())},E=function(q,ne){if(!(ne.inDragLayer==null&&ne.addToList==null)&&q.cy().hasCompoundNodes()){var de=q.ancestors().orphans();if(!de.same(q)){var ve=de.descendants().spawnSelf().merge(de).unmerge(q).unmerge(q.descendants()),pe=ve.connectedEdges();ne.inDragLayer&&(pe.forEach(c),ve.forEach(c)),ne.addToList&&ve.forEach(function(De){g(De,ne)})}}},S=function(){document.activeElement!=null&&document.activeElement.blur!=null&&document.activeElement.blur()},T=typeof MutationObserver<"u",R=typeof ResizeObserver<"u";T?(r.removeObserver=new MutationObserver(function(he){for(var q=0;q<he.length;q++){var ne=he[q],de=ne.removedNodes;if(de)for(var ve=0;ve<de.length;ve++){var pe=de[ve];if(pe===r.container){r.destroy();break}}}}),r.container.parentNode&&r.removeObserver.observe(r.container.parentNode,{childList:!0})):r.registerBinding(r.container,"DOMNodeRemoved",function(he){r.destroy()});var A=Ms(function(){r.cy.resize()},100);T&&(r.styleObserver=new MutationObserver(A),r.styleObserver.observe(r.container,{attributes:!0})),r.registerBinding(e,"resize",A),R&&(r.resizeObserver=new ResizeObserver(A),r.resizeObserver.observe(r.container));var k=function(q,ne){for(;q!=null;)ne(q),q=q.parentNode},P=function(){r.invalidateContainerClientCoordsCache()};k(r.container,function(he){r.registerBinding(he,"transitionend",P),r.registerBinding(he,"animationend",P),r.registerBinding(he,"scroll",P)}),r.registerBinding(r.container,"contextmenu",function(he){he.preventDefault()});var D=function(){return r.selection[4]!==0},I=function(q){for(var ne=r.findContainerClientCoords(),de=ne[0],ve=ne[1],pe=ne[2],De=ne[3],ge=q.touches?q.touches:[q],qe=!1,ke=0;ke<ge.length;ke++){var Ue=ge[ke];if(de<=Ue.clientX&&Ue.clientX<=de+pe&&ve<=Ue.clientY&&Ue.clientY<=ve+De){qe=!0;break}}if(!qe)return!1;for(var rr=r.container,Qe=q.target,Fe=Qe.parentNode,nr=!1;Fe;){if(Fe===rr){nr=!0;break}Fe=Fe.parentNode}return!!nr};r.registerBinding(r.container,"mousedown",function(q){if(I(q)&&!(r.hoverData.which===1&&q.which!==1)){q.preventDefault(),S(),r.hoverData.capture=!0,r.hoverData.which=q.which;var ne=r.cy,de=[q.clientX,q.clientY],ve=r.projectIntoViewport(de[0],de[1]),pe=r.selection,De=r.findNearestElements(ve[0],ve[1],!0,!1),ge=De[0],qe=r.dragData.possibleDragElements;r.hoverData.mdownPos=ve,r.hoverData.mdownGPos=de;var ke=function(tr){return{originalEvent:q,type:tr,position:{x:ve[0],y:ve[1]}}},Ue=function(){r.hoverData.tapholdCancelled=!1,clearTimeout(r.hoverData.tapholdTimeout),r.hoverData.tapholdTimeout=setTimeout(function(){if(!r.hoverData.tapholdCancelled){var tr=r.hoverData.down;tr?tr.emit(ke("taphold")):ne.emit(ke("taphold"))}},r.tapholdDuration)};if(q.which==3){r.hoverData.cxtStarted=!0;var rr={originalEvent:q,type:"cxttapstart",position:{x:ve[0],y:ve[1]}};ge?(ge.activate(),ge.emit(rr),r.hoverData.down=ge):ne.emit(rr),r.hoverData.downTime=new Date().getTime(),r.hoverData.cxtDragged=!1}else if(q.which==1){ge&&ge.activate();{if(ge!=null&&r.nodeIsGrabbable(ge)){var Qe=function(tr){tr.emit(ke("grab"))};if(v(ge),!ge.selected())qe=r.dragData.possibleDragElements=ne.collection(),w(ge,{addToList:qe}),ge.emit(ke("grabon")).emit(ke("grab"));else{qe=r.dragData.possibleDragElements=ne.collection();var Fe=ne.$(function(nr){return nr.isNode()&&nr.selected()&&r.nodeIsGrabbable(nr)});x(Fe,{addToList:qe}),ge.emit(ke("grabon")),Fe.forEach(Qe)}r.redrawHint("eles",!0),r.redrawHint("drag",!0)}r.hoverData.down=ge,r.hoverData.downs=De,r.hoverData.downTime=new Date().getTime()}a(ge,["mousedown","tapstart","vmousedown"],q,{x:ve[0],y:ve[1]}),ge==null?(pe[4]=1,r.data.bgActivePosistion={x:ve[0],y:ve[1]},r.redrawHint("select",!0),r.redraw()):ge.pannable()&&(pe[4]=1),Ue()}pe[0]=pe[2]=ve[0],pe[1]=pe[3]=ve[1]}},!1);var M=n(r.container);r.registerBinding([e,M],"mousemove",function(q){var ne=r.hoverData.capture;if(!(!ne&&!I(q))){var de=!1,ve=r.cy,pe=ve.zoom(),De=[q.clientX,q.clientY],ge=r.projectIntoViewport(De[0],De[1]),qe=r.hoverData.mdownPos,ke=r.hoverData.mdownGPos,Ue=r.selection,rr=null;!r.hoverData.draggingEles&&!r.hoverData.dragging&&!r.hoverData.selecting&&(rr=r.findNearestElement(ge[0],ge[1],!0,!1));var Qe=r.hoverData.last,Fe=r.hoverData.down,nr=[ge[0]-Ue[2],ge[1]-Ue[3]],tr=r.dragData.possibleDragElements,Ir;if(ke){var Er=De[0]-ke[0],Vr=Er*Er,kr=De[1]-ke[1],Rr=kr*kr,$r=Vr+Rr;r.hoverData.isOverThresholdDrag=Ir=$r>=r.desktopTapThreshold2}var Mr=i(q);Ir&&(r.hoverData.tapholdCancelled=!0);var zt=function(){var Ct=r.hoverData.dragDelta=r.hoverData.dragDelta||[];Ct.length===0?(Ct.push(nr[0]),Ct.push(nr[1])):(Ct[0]+=nr[0],Ct[1]+=nr[1])};de=!0,a(rr,["mousemove","vmousemove","tapdrag"],q,{x:ge[0],y:ge[1]});var Sr=function(Ct){return{originalEvent:q,type:Ct,position:{x:ge[0],y:ge[1]}}},Vt=function(){r.data.bgActivePosistion=void 0,r.hoverData.selecting||ve.emit(Sr("boxstart")),Ue[4]=1,r.hoverData.selecting=!0,r.redrawHint("select",!0),r.redraw()};if(r.hoverData.which===3){if(Ir){var on=Sr("cxtdrag");Fe?Fe.emit(on):ve.emit(on),r.hoverData.cxtDragged=!0,(!r.hoverData.cxtOver||rr!==r.hoverData.cxtOver)&&(r.hoverData.cxtOver&&r.hoverData.cxtOver.emit(Sr("cxtdragout")),r.hoverData.cxtOver=rr,rr&&rr.emit(Sr("cxtdragover")))}}else if(r.hoverData.dragging){if(de=!0,ve.panningEnabled()&&ve.userPanningEnabled()){var Yn;if(r.hoverData.justStartedPan){var gi=r.hoverData.mdownPos;Yn={x:(ge[0]-gi[0])*pe,y:(ge[1]-gi[1])*pe},r.hoverData.justStartedPan=!1}else Yn={x:nr[0]*pe,y:nr[1]*pe};ve.panBy(Yn),ve.emit(Sr("dragpan")),r.hoverData.dragged=!0}ge=r.projectIntoViewport(q.clientX,q.clientY)}else if(Ue[4]==1&&(Fe==null||Fe.pannable())){if(Ir){if(!r.hoverData.dragging&&ve.boxSelectionEnabled()&&(Mr||!ve.panningEnabled()||!ve.userPanningEnabled()))Vt();else if(!r.hoverData.selecting&&ve.panningEnabled()&&ve.userPanningEnabled()){var St=s(Fe,r.hoverData.downs);St&&(r.hoverData.dragging=!0,r.hoverData.justStartedPan=!0,Ue[4]=0,r.data.bgActivePosistion=Zi(qe),r.redrawHint("select",!0),r.redraw())}Fe&&Fe.pannable()&&Fe.active()&&Fe.unactivate()}}else{if(Fe&&Fe.pannable()&&Fe.active()&&Fe.unactivate(),(!Fe||!Fe.grabbed())&&rr!=Qe&&(Qe&&a(Qe,["mouseout","tapdragout"],q,{x:ge[0],y:ge[1]}),rr&&a(rr,["mouseover","tapdragover"],q,{x:ge[0],y:ge[1]}),r.hoverData.last=rr),Fe)if(Ir){if(ve.boxSelectionEnabled()&&Mr)Fe&&Fe.grabbed()&&(b(tr),Fe.emit(Sr("freeon")),tr.emit(Sr("free")),r.dragData.didDrag&&(Fe.emit(Sr("dragfreeon")),tr.emit(Sr("dragfree")))),Vt();else if(Fe&&Fe.grabbed()&&r.nodeIsDraggable(Fe)){var st=!r.dragData.didDrag;st&&r.redrawHint("eles",!0),r.dragData.didDrag=!0,r.hoverData.draggingEles||x(tr,{inDragLayer:!0});var Kr={x:0,y:0};if(Te(nr[0])&&Te(nr[1])&&(Kr.x+=nr[0],Kr.y+=nr[1],st)){var ht=r.hoverData.dragDelta;ht&&Te(ht[0])&&Te(ht[1])&&(Kr.x+=ht[0],Kr.y+=ht[1])}r.hoverData.draggingEles=!0,tr.silentShift(Kr).emit(Sr("position")).emit(Sr("drag")),r.redrawHint("drag",!0),r.redraw()}}else zt();de=!0}if(Ue[2]=ge[0],Ue[3]=ge[1],de)return q.stopPropagation&&q.stopPropagation(),q.preventDefault&&q.preventDefault(),!1}},!1);var L,N,z;r.registerBinding(e,"mouseup",function(q){if(!(r.hoverData.which===1&&q.which!==1&&r.hoverData.capture)){var ne=r.hoverData.capture;if(ne){r.hoverData.capture=!1;var de=r.cy,ve=r.projectIntoViewport(q.clientX,q.clientY),pe=r.selection,De=r.findNearestElement(ve[0],ve[1],!0,!1),ge=r.dragData.possibleDragElements,qe=r.hoverData.down,ke=i(q);r.data.bgActivePosistion&&(r.redrawHint("select",!0),r.redraw()),r.hoverData.tapholdCancelled=!0,r.data.bgActivePosistion=void 0,qe&&qe.unactivate();var Ue=function(Er){return{originalEvent:q,type:Er,position:{x:ve[0],y:ve[1]}}};if(r.hoverData.which===3){var rr=Ue("cxttapend");if(qe?qe.emit(rr):de.emit(rr),!r.hoverData.cxtDragged){var Qe=Ue("cxttap");qe?qe.emit(Qe):de.emit(Qe)}r.hoverData.cxtDragged=!1,r.hoverData.which=null}else if(r.hoverData.which===1){if(a(De,["mouseup","tapend","vmouseup"],q,{x:ve[0],y:ve[1]}),!r.dragData.didDrag&&!r.hoverData.dragged&&!r.hoverData.selecting&&!r.hoverData.isOverThresholdDrag&&(a(qe,["click","tap","vclick"],q,{x:ve[0],y:ve[1]}),N=!1,q.timeStamp-z<=de.multiClickDebounceTime()?(L&&clearTimeout(L),N=!0,z=null,a(qe,["dblclick","dbltap","vdblclick"],q,{x:ve[0],y:ve[1]})):(L=setTimeout(function(){N||a(qe,["oneclick","onetap","voneclick"],q,{x:ve[0],y:ve[1]})},de.multiClickDebounceTime()),z=q.timeStamp)),qe==null&&!r.dragData.didDrag&&!r.hoverData.selecting&&!r.hoverData.dragged&&!i(q)&&(de.$(t).unselect(["tapunselect"]),ge.length>0&&r.redrawHint("eles",!0),r.dragData.possibleDragElements=ge=de.collection()),De==qe&&!r.dragData.didDrag&&!r.hoverData.selecting&&De!=null&&De._private.selectable&&(r.hoverData.dragging||(de.selectionType()==="additive"||ke?De.selected()?De.unselect(["tapunselect"]):De.select(["tapselect"]):ke||(de.$(t).unmerge(De).unselect(["tapunselect"]),De.select(["tapselect"]))),r.redrawHint("eles",!0)),r.hoverData.selecting){var Fe=de.collection(r.getAllInBox(pe[0],pe[1],pe[2],pe[3]));r.redrawHint("select",!0),Fe.length>0&&r.redrawHint("eles",!0),de.emit(Ue("boxend"));var nr=function(Er){return Er.selectable()&&!Er.selected()};de.selectionType()==="additive"||ke||de.$(t).unmerge(Fe).unselect(),Fe.emit(Ue("box")).stdFilter(nr).select().emit(Ue("boxselect")),r.redraw()}if(r.hoverData.dragging&&(r.hoverData.dragging=!1,r.redrawHint("select",!0),r.redrawHint("eles",!0),r.redraw()),!pe[4]){r.redrawHint("drag",!0),r.redrawHint("eles",!0);var tr=qe&&qe.grabbed();b(ge),tr&&(qe.emit(Ue("freeon")),ge.emit(Ue("free")),r.dragData.didDrag&&(qe.emit(Ue("dragfreeon")),ge.emit(Ue("dragfree"))))}}pe[4]=0,r.hoverData.down=null,r.hoverData.cxtStarted=!1,r.hoverData.draggingEles=!1,r.hoverData.selecting=!1,r.hoverData.isOverThresholdDrag=!1,r.dragData.didDrag=!1,r.hoverData.dragged=!1,r.hoverData.dragDelta=[],r.hoverData.mdownPos=null,r.hoverData.mdownGPos=null,r.hoverData.which=null}}},!1);var G=[],H=4,U,F=1e5,X=function(q,ne){for(var de=0;de<q.length;de++)if(q[de]%ne!==0)return!1;return!0},K=function(q){for(var ne=Math.abs(q[0]),de=1;de<q.length;de++)if(Math.abs(q[de])!==ne)return!1;return!0},B=function(q){var ne=!1,de=q.deltaY;if(de==null&&(q.wheelDeltaY!=null?de=q.wheelDeltaY/4:q.wheelDelta!=null&&(de=q.wheelDelta/4)),de!==0){if(U==null)if(G.length>=H){var ve=G;if(U=X(ve,5),!U){var pe=Math.abs(ve[0]);U=K(ve)&&pe>5}if(U)for(var De=0;De<ve.length;De++)F=Math.min(Math.abs(ve[De]),F)}else G.push(de),ne=!0;else U&&(F=Math.min(Math.abs(de),F));if(!r.scrollingPage){var ge=r.cy,qe=ge.zoom(),ke=ge.pan(),Ue=r.projectIntoViewport(q.clientX,q.clientY),rr=[Ue[0]*qe+ke.x,Ue[1]*qe+ke.y];if(r.hoverData.draggingEles||r.hoverData.dragging||r.hoverData.cxtStarted||D()){q.preventDefault();return}if(ge.panningEnabled()&&ge.userPanningEnabled()&&ge.zoomingEnabled()&&ge.userZoomingEnabled()){q.preventDefault(),r.data.wheelZooming=!0,clearTimeout(r.data.wheelTimeout),r.data.wheelTimeout=setTimeout(function(){r.data.wheelZooming=!1,r.redrawHint("eles",!0),r.redraw()},150);var Qe;ne&&Math.abs(de)>5&&(de=A0(de)*5),Qe=de/-250,U&&(Qe/=F,Qe*=3),Qe=Qe*r.wheelSensitivity;var Fe=q.deltaMode===1;Fe&&(Qe*=33);var nr=ge.zoom()*Math.pow(10,Qe);q.type==="gesturechange"&&(nr=r.gestureStartZoom*q.scale),ge.zoom({level:nr,renderedPosition:{x:rr[0],y:rr[1]}}),ge.emit({type:q.type==="gesturechange"?"pinchzoom":"scrollzoom",originalEvent:q,position:{x:Ue[0],y:Ue[1]}})}}}};r.registerBinding(r.container,"wheel",B,!0),r.registerBinding(e,"scroll",function(q){r.scrollingPage=!0,clearTimeout(r.scrollingPageTimeout),r.scrollingPageTimeout=setTimeout(function(){r.scrollingPage=!1},250)},!0),r.registerBinding(r.container,"gesturestart",function(q){r.gestureStartZoom=r.cy.zoom(),r.hasTouchStarted||q.preventDefault()},!0),r.registerBinding(r.container,"gesturechange",function(he){r.hasTouchStarted||B(he)},!0),r.registerBinding(r.container,"mouseout",function(q){var ne=r.projectIntoViewport(q.clientX,q.clientY);r.cy.emit({originalEvent:q,type:"mouseout",position:{x:ne[0],y:ne[1]}})},!1),r.registerBinding(r.container,"mouseover",function(q){var ne=r.projectIntoViewport(q.clientX,q.clientY);r.cy.emit({originalEvent:q,type:"mouseover",position:{x:ne[0],y:ne[1]}})},!1);var V,te,$,j,Y,ee,le,ie,Q,re,se,ce,me,xe=function(q,ne,de,ve){return Math.sqrt((de-q)*(de-q)+(ve-ne)*(ve-ne))},Ze=function(q,ne,de,ve){return(de-q)*(de-q)+(ve-ne)*(ve-ne)},Se;r.registerBinding(r.container,"touchstart",Se=function(q){if(r.hasTouchStarted=!0,!!I(q)){S(),r.touchData.capture=!0,r.data.bgActivePosistion=void 0;var ne=r.cy,de=r.touchData.now,ve=r.touchData.earlier;if(q.touches[0]){var pe=r.projectIntoViewport(q.touches[0].clientX,q.touches[0].clientY);de[0]=pe[0],de[1]=pe[1]}if(q.touches[1]){var pe=r.projectIntoViewport(q.touches[1].clientX,q.touches[1].clientY);de[2]=pe[0],de[3]=pe[1]}if(q.touches[2]){var pe=r.projectIntoViewport(q.touches[2].clientX,q.touches[2].clientY);de[4]=pe[0],de[5]=pe[1]}var De=function(Mr){return{originalEvent:q,type:Mr,position:{x:de[0],y:de[1]}}};if(q.touches[1]){r.touchData.singleTouchMoved=!0,b(r.dragData.touchDragEles);var ge=r.findContainerClientCoords();Q=ge[0],re=ge[1],se=ge[2],ce=ge[3],V=q.touches[0].clientX-Q,te=q.touches[0].clientY-re,$=q.touches[1].clientX-Q,j=q.touches[1].clientY-re,me=0<=V&&V<=se&&0<=$&&$<=se&&0<=te&&te<=ce&&0<=j&&j<=ce;var qe=ne.pan(),ke=ne.zoom();Y=xe(V,te,$,j),ee=Ze(V,te,$,j),le=[(V+$)/2,(te+j)/2],ie=[(le[0]-qe.x)/ke,(le[1]-qe.y)/ke];var Ue=200,rr=Ue*Ue;if(ee<rr&&!q.touches[2]){var Qe=r.findNearestElement(de[0],de[1],!0,!0),Fe=r.findNearestElement(de[2],de[3],!0,!0);Qe&&Qe.isNode()?(Qe.activate().emit(De("cxttapstart")),r.touchData.start=Qe):Fe&&Fe.isNode()?(Fe.activate().emit(De("cxttapstart")),r.touchData.start=Fe):ne.emit(De("cxttapstart")),r.touchData.start&&(r.touchData.start._private.grabbed=!1),r.touchData.cxt=!0,r.touchData.cxtDragged=!1,r.data.bgActivePosistion=void 0,r.redraw();return}}if(q.touches[2])ne.boxSelectionEnabled()&&q.preventDefault();else if(!q.touches[1]){if(q.touches[0]){var nr=r.findNearestElements(de[0],de[1],!0,!0),tr=nr[0];if(tr!=null&&(tr.activate(),r.touchData.start=tr,r.touchData.starts=nr,r.nodeIsGrabbable(tr))){var Ir=r.dragData.touchDragEles=ne.collection(),Er=null;r.redrawHint("eles",!0),r.redrawHint("drag",!0),tr.selected()?(Er=ne.$(function($r){return $r.selected()&&r.nodeIsGrabbable($r)}),x(Er,{addToList:Ir})):w(tr,{addToList:Ir}),v(tr),tr.emit(De("grabon")),Er?Er.forEach(function($r){$r.emit(De("grab"))}):tr.emit(De("grab"))}a(tr,["touchstart","tapstart","vmousedown"],q,{x:de[0],y:de[1]}),tr==null&&(r.data.bgActivePosistion={x:pe[0],y:pe[1]},r.redrawHint("select",!0),r.redraw()),r.touchData.singleTouchMoved=!1,r.touchData.singleTouchStartTime=+new Date,clearTimeout(r.touchData.tapholdTimeout),r.touchData.tapholdTimeout=setTimeout(function(){r.touchData.singleTouchMoved===!1&&!r.pinching&&!r.touchData.selecting&&a(r.touchData.start,["taphold"],q,{x:de[0],y:de[1]})},r.tapholdDuration)}}if(q.touches.length>=1){for(var Vr=r.touchData.startPosition=[null,null,null,null,null,null],kr=0;kr<de.length;kr++)Vr[kr]=ve[kr]=de[kr];var Rr=q.touches[0];r.touchData.startGPosition=[Rr.clientX,Rr.clientY]}}},!1);var Ve;r.registerBinding(e,"touchmove",Ve=function(q){var ne=r.touchData.capture;if(!(!ne&&!I(q))){var de=r.selection,ve=r.cy,pe=r.touchData.now,De=r.touchData.earlier,ge=ve.zoom();if(q.touches[0]){var qe=r.projectIntoViewport(q.touches[0].clientX,q.touches[0].clientY);pe[0]=qe[0],pe[1]=qe[1]}if(q.touches[1]){var qe=r.projectIntoViewport(q.touches[1].clientX,q.touches[1].clientY);pe[2]=qe[0],pe[3]=qe[1]}if(q.touches[2]){var qe=r.projectIntoViewport(q.touches[2].clientX,q.touches[2].clientY);pe[4]=qe[0],pe[5]=qe[1]}var ke=function(wi){return{originalEvent:q,type:wi,position:{x:pe[0],y:pe[1]}}},Ue=r.touchData.startGPosition,rr;if(ne&&q.touches[0]&&Ue){for(var Qe=[],Fe=0;Fe<pe.length;Fe++)Qe[Fe]=pe[Fe]-De[Fe];var nr=q.touches[0].clientX-Ue[0],tr=nr*nr,Ir=q.touches[0].clientY-Ue[1],Er=Ir*Ir,Vr=tr+Er;rr=Vr>=r.touchTapThreshold2}if(ne&&r.touchData.cxt){q.preventDefault();var kr=q.touches[0].clientX-Q,Rr=q.touches[0].clientY-re,$r=q.touches[1].clientX-Q,Mr=q.touches[1].clientY-re,zt=Ze(kr,Rr,$r,Mr),Sr=zt/ee,Vt=150,on=Vt*Vt,Yn=1.5,gi=Yn*Yn;if(Sr>=gi||zt>=on){r.touchData.cxt=!1,r.data.bgActivePosistion=void 0,r.redrawHint("select",!0);var St=ke("cxttapend");r.touchData.start?(r.touchData.start.unactivate().emit(St),r.touchData.start=null):ve.emit(St)}}if(ne&&r.touchData.cxt){var St=ke("cxtdrag");r.data.bgActivePosistion=void 0,r.redrawHint("select",!0),r.touchData.start?r.touchData.start.emit(St):ve.emit(St),r.touchData.start&&(r.touchData.start._private.grabbed=!1),r.touchData.cxtDragged=!0;var st=r.findNearestElement(pe[0],pe[1],!0,!0);(!r.touchData.cxtOver||st!==r.touchData.cxtOver)&&(r.touchData.cxtOver&&r.touchData.cxtOver.emit(ke("cxtdragout")),r.touchData.cxtOver=st,st&&st.emit(ke("cxtdragover")))}else if(ne&&q.touches[2]&&ve.boxSelectionEnabled())q.preventDefault(),r.data.bgActivePosistion=void 0,this.lastThreeTouch=+new Date,r.touchData.selecting||ve.emit(ke("boxstart")),r.touchData.selecting=!0,r.touchData.didSelect=!0,de[4]=1,!de||de.length===0||de[0]===void 0?(de[0]=(pe[0]+pe[2]+pe[4])/3,de[1]=(pe[1]+pe[3]+pe[5])/3,de[2]=(pe[0]+pe[2]+pe[4])/3+1,de[3]=(pe[1]+pe[3]+pe[5])/3+1):(de[2]=(pe[0]+pe[2]+pe[4])/3,de[3]=(pe[1]+pe[3]+pe[5])/3),r.redrawHint("select",!0),r.redraw();else if(ne&&q.touches[1]&&!r.touchData.didSelect&&ve.zoomingEnabled()&&ve.panningEnabled()&&ve.userZoomingEnabled()&&ve.userPanningEnabled()){q.preventDefault(),r.data.bgActivePosistion=void 0,r.redrawHint("select",!0);var Kr=r.dragData.touchDragEles;if(Kr){r.redrawHint("drag",!0);for(var ht=0;ht<Kr.length;ht++){var Xn=Kr[ht]._private;Xn.grabbed=!1,Xn.rscratch.inDragLayer=!1}}var Ct=r.touchData.start,kr=q.touches[0].clientX-Q,Rr=q.touches[0].clientY-re,$r=q.touches[1].clientX-Q,Mr=q.touches[1].clientY-re,wo=xe(kr,Rr,$r,Mr),js=wo/Y;if(me){var mf=kr-V,wf=Rr-te,Or=$r-$,bf=Mr-j,bo=(mf+Or)/2,Hs=(wf+bf)/2,mn=ve.zoom(),xo=mn*js,Ba=ve.pan(),qa=ie[0]*mn+Ba.x,$t=ie[1]*mn+Ba.y,xf={x:-xo/mn*(qa-Ba.x-bo)+qa,y:-xo/mn*($t-Ba.y-Hs)+$t};if(Ct&&Ct.active()){var Kr=r.dragData.touchDragEles;b(Kr),r.redrawHint("drag",!0),r.redrawHint("eles",!0),Ct.unactivate().emit(ke("freeon")),Kr.emit(ke("free")),r.dragData.didDrag&&(Ct.emit(ke("dragfreeon")),Kr.emit(ke("dragfree")))}ve.viewport({zoom:xo,pan:xf,cancelOnFailedZoom:!0}),ve.emit(ke("pinchzoom")),Y=wo,V=kr,te=Rr,$=$r,j=Mr,r.pinching=!0}if(q.touches[0]){var qe=r.projectIntoViewport(q.touches[0].clientX,q.touches[0].clientY);pe[0]=qe[0],pe[1]=qe[1]}if(q.touches[1]){var qe=r.projectIntoViewport(q.touches[1].clientX,q.touches[1].clientY);pe[2]=qe[0],pe[3]=qe[1]}if(q.touches[2]){var qe=r.projectIntoViewport(q.touches[2].clientX,q.touches[2].clientY);pe[4]=qe[0],pe[5]=qe[1]}}else if(q.touches[0]&&!r.touchData.didSelect){var Nr=r.touchData.start,Eo=r.touchData.last,st;if(!r.hoverData.draggingEles&&!r.swipePanning&&(st=r.findNearestElement(pe[0],pe[1],!0,!0)),ne&&Nr!=null&&q.preventDefault(),ne&&Nr!=null&&r.nodeIsDraggable(Nr))if(rr){var Kr=r.dragData.touchDragEles,Ws=!r.dragData.didDrag;Ws&&x(Kr,{inDragLayer:!0}),r.dragData.didDrag=!0;var Fa={x:0,y:0};if(Te(Qe[0])&&Te(Qe[1])&&(Fa.x+=Qe[0],Fa.y+=Qe[1],Ws)){r.redrawHint("eles",!0);var pt=r.touchData.dragDelta;pt&&Te(pt[0])&&Te(pt[1])&&(Fa.x+=pt[0],Fa.y+=pt[1])}r.hoverData.draggingEles=!0,Kr.silentShift(Fa).emit(ke("position")).emit(ke("drag")),r.redrawHint("drag",!0),r.touchData.startPosition[0]==De[0]&&r.touchData.startPosition[1]==De[1]&&r.redrawHint("eles",!0),r.redraw()}else{var pt=r.touchData.dragDelta=r.touchData.dragDelta||[];pt.length===0?(pt.push(Qe[0]),pt.push(Qe[1])):(pt[0]+=Qe[0],pt[1]+=Qe[1])}if(a(Nr||st,["touchmove","tapdrag","vmousemove"],q,{x:pe[0],y:pe[1]}),(!Nr||!Nr.grabbed())&&st!=Eo&&(Eo&&Eo.emit(ke("tapdragout")),st&&st.emit(ke("tapdragover"))),r.touchData.last=st,ne)for(var ht=0;ht<pe.length;ht++)pe[ht]&&r.touchData.startPosition[ht]&&rr&&(r.touchData.singleTouchMoved=!0);if(ne&&(Nr==null||Nr.pannable())&&ve.panningEnabled()&&ve.userPanningEnabled()){var yi=s(Nr,r.touchData.starts);yi&&(q.preventDefault(),r.data.bgActivePosistion||(r.data.bgActivePosistion=Zi(r.touchData.startPosition)),r.swipePanning?(ve.panBy({x:Qe[0]*ge,y:Qe[1]*ge}),ve.emit(ke("dragpan"))):rr&&(r.swipePanning=!0,ve.panBy({x:nr*ge,y:Ir*ge}),ve.emit(ke("dragpan")),Nr&&(Nr.unactivate(),r.redrawHint("select",!0),r.touchData.start=null)));var qe=r.projectIntoViewport(q.touches[0].clientX,q.touches[0].clientY);pe[0]=qe[0],pe[1]=qe[1]}}for(var Fe=0;Fe<pe.length;Fe++)De[Fe]=pe[Fe];ne&&q.touches.length>0&&!r.hoverData.draggingEles&&!r.swipePanning&&r.data.bgActivePosistion!=null&&(r.data.bgActivePosistion=void 0,r.redrawHint("select",!0),r.redraw())}},!1);var Oe;r.registerBinding(e,"touchcancel",Oe=function(q){var ne=r.touchData.start;r.touchData.capture=!1,ne&&ne.unactivate()});var Ce,Ae,Pe,Ne;if(r.registerBinding(e,"touchend",Ce=function(q){var ne=r.touchData.start,de=r.touchData.capture;if(de)q.touches.length===0&&(r.touchData.capture=!1),q.preventDefault();else return;var ve=r.selection;r.swipePanning=!1,r.hoverData.draggingEles=!1;var pe=r.cy,De=pe.zoom(),ge=r.touchData.now,qe=r.touchData.earlier;if(q.touches[0]){var ke=r.projectIntoViewport(q.touches[0].clientX,q.touches[0].clientY);ge[0]=ke[0],ge[1]=ke[1]}if(q.touches[1]){var ke=r.projectIntoViewport(q.touches[1].clientX,q.touches[1].clientY);ge[2]=ke[0],ge[3]=ke[1]}if(q.touches[2]){var ke=r.projectIntoViewport(q.touches[2].clientX,q.touches[2].clientY);ge[4]=ke[0],ge[5]=ke[1]}var Ue=function(on){return{originalEvent:q,type:on,position:{x:ge[0],y:ge[1]}}};ne&&ne.unactivate();var rr;if(r.touchData.cxt){if(rr=Ue("cxttapend"),ne?ne.emit(rr):pe.emit(rr),!r.touchData.cxtDragged){var Qe=Ue("cxttap");ne?ne.emit(Qe):pe.emit(Qe)}r.touchData.start&&(r.touchData.start._private.grabbed=!1),r.touchData.cxt=!1,r.touchData.start=null,r.redraw();return}if(!q.touches[2]&&pe.boxSelectionEnabled()&&r.touchData.selecting){r.touchData.selecting=!1;var Fe=pe.collection(r.getAllInBox(ve[0],ve[1],ve[2],ve[3]));ve[0]=void 0,ve[1]=void 0,ve[2]=void 0,ve[3]=void 0,ve[4]=0,r.redrawHint("select",!0),pe.emit(Ue("boxend"));var nr=function(on){return on.selectable()&&!on.selected()};Fe.emit(Ue("box")).stdFilter(nr).select().emit(Ue("boxselect")),Fe.nonempty()&&r.redrawHint("eles",!0),r.redraw()}if(ne!=null&&ne.unactivate(),q.touches[2])r.data.bgActivePosistion=void 0,r.redrawHint("select",!0);else if(!q.touches[1]){if(!q.touches[0]){if(!q.touches[0]){r.data.bgActivePosistion=void 0,r.redrawHint("select",!0);var tr=r.dragData.touchDragEles;if(ne!=null){var Ir=ne._private.grabbed;b(tr),r.redrawHint("drag",!0),r.redrawHint("eles",!0),Ir&&(ne.emit(Ue("freeon")),tr.emit(Ue("free")),r.dragData.didDrag&&(ne.emit(Ue("dragfreeon")),tr.emit(Ue("dragfree")))),a(ne,["touchend","tapend","vmouseup","tapdragout"],q,{x:ge[0],y:ge[1]}),ne.unactivate(),r.touchData.start=null}else{var Er=r.findNearestElement(ge[0],ge[1],!0,!0);a(Er,["touchend","tapend","vmouseup","tapdragout"],q,{x:ge[0],y:ge[1]})}var Vr=r.touchData.startPosition[0]-ge[0],kr=Vr*Vr,Rr=r.touchData.startPosition[1]-ge[1],$r=Rr*Rr,Mr=kr+$r,zt=Mr*De*De;r.touchData.singleTouchMoved||(ne||pe.$(":selected").unselect(["tapunselect"]),a(ne,["tap","vclick"],q,{x:ge[0],y:ge[1]}),Ae=!1,q.timeStamp-Ne<=pe.multiClickDebounceTime()?(Pe&&clearTimeout(Pe),Ae=!0,Ne=null,a(ne,["dbltap","vdblclick"],q,{x:ge[0],y:ge[1]})):(Pe=setTimeout(function(){Ae||a(ne,["onetap","voneclick"],q,{x:ge[0],y:ge[1]})},pe.multiClickDebounceTime()),Ne=q.timeStamp)),ne!=null&&!r.dragData.didDrag&&ne._private.selectable&&zt<r.touchTapThreshold2&&!r.pinching&&(pe.selectionType()==="single"?(pe.$(t).unmerge(ne).unselect(["tapunselect"]),ne.select(["tapselect"])):ne.selected()?ne.unselect(["tapunselect"]):ne.select(["tapselect"]),r.redrawHint("eles",!0)),r.touchData.singleTouchMoved=!0}}}for(var Sr=0;Sr<ge.length;Sr++)qe[Sr]=ge[Sr];r.dragData.didDrag=!1,q.touches.length===0&&(r.touchData.dragDelta=[],r.touchData.startPosition=[null,null,null,null,null,null],r.touchData.startGPosition=null,r.touchData.didSelect=!1),q.touches.length<2&&(q.touches.length===1&&(r.touchData.startGPosition=[q.touches[0].clientX,q.touches[0].clientY]),r.pinching=!1,r.redrawHint("eles",!0),r.redraw())},!1),typeof TouchEvent>"u"){var Be=[],Ye=function(q){return{clientX:q.clientX,clientY:q.clientY,force:1,identifier:q.pointerId,pageX:q.pageX,pageY:q.pageY,radiusX:q.width/2,radiusY:q.height/2,screenX:q.screenX,screenY:q.screenY,target:q.target}},ar=function(q){return{event:q,touch:Ye(q)}},sr=function(q){Be.push(ar(q))},er=function(q){for(var ne=0;ne<Be.length;ne++){var de=Be[ne];if(de.event.pointerId===q.pointerId){Be.splice(ne,1);return}}},ur=function(q){var ne=Be.filter(function(de){return de.event.pointerId===q.pointerId})[0];ne.event=q,ne.touch=Ye(q)},Ge=function(q){q.touches=Be.map(function(ne){return ne.touch})},_e=function(q){return q.pointerType==="mouse"||q.pointerType===4};r.registerBinding(r.container,"pointerdown",function(he){_e(he)||(he.preventDefault(),sr(he),Ge(he),Se(he))}),r.registerBinding(r.container,"pointerup",function(he){_e(he)||(er(he),Ge(he),Ce(he))}),r.registerBinding(r.container,"pointercancel",function(he){_e(he)||(er(he),Ge(he),Oe(he))}),r.registerBinding(r.container,"pointermove",function(he){_e(he)||(he.preventDefault(),ur(he),Ge(he),Ve(he))})}};var jn={};jn.generatePolygon=function(r,e){return this.nodeShapes[r]={renderer:this,name:r,points:e,draw:function(n,a,i,s,u,f){this.renderer.nodeShapeImpl("polygon",n,a,i,s,u,this.points)},intersectLine:function(n,a,i,s,u,f,c,d){return Es(u,f,this.points,n,a,i/2,s/2,c)},checkPoint:function(n,a,i,s,u,f,c,d){return Gn(n,a,this.points,f,c,s,u,[0,-1],i)},hasMiterBounds:r!=="rectangle",miterBounds:function(n,a,i,s,u,f){return wO(this.points,n,a,i,s,u)}}};jn.generateEllipse=function(){return this.nodeShapes.ellipse={renderer:this,name:"ellipse",draw:function(e,t,n,a,i,s){this.renderer.nodeShapeImpl(this.name,e,t,n,a,i)},intersectLine:function(e,t,n,a,i,s,u,f){return kO(i,s,e,t,n/2+u,a/2+u)},checkPoint:function(e,t,n,a,i,s,u,f){return ai(e,t,a,i,s,u,n)}}};jn.generateRoundPolygon=function(r,e){return this.nodeShapes[r]={renderer:this,name:r,points:e,getOrCreateCorners:function(n,a,i,s,u,f,c){if(f[c]!==void 0&&f[c+"-cx"]===n&&f[c+"-cy"]===a)return f[c];f[c]=new Array(e.length/2),f[c+"-cx"]=n,f[c+"-cy"]=a;var d=i/2,v=s/2;u=u==="auto"?vR(i,s):u;for(var p=new Array(e.length/2),g=0;g<e.length/2;g++)p[g]={x:n+d*e[g*2],y:a+v*e[g*2+1]};var y,x,w,b,E=p.length;for(x=p[E-1],y=0;y<E;y++)w=p[y%E],b=p[(y+1)%E],f[c][y]=$0(x,w,b,u),x=w,w=b;return f[c]},draw:function(n,a,i,s,u,f,c){this.renderer.nodeShapeImpl("round-polygon",n,a,i,s,u,this.points,this.getOrCreateCorners(a,i,s,u,f,c,"drawCorners"))},intersectLine:function(n,a,i,s,u,f,c,d,v){return AO(u,f,this.points,n,a,i,s,c,this.getOrCreateCorners(n,a,i,s,d,v,"corners"))},checkPoint:function(n,a,i,s,u,f,c,d,v){return _O(n,a,this.points,f,c,s,u,this.getOrCreateCorners(f,c,s,u,d,v,"corners"))}}};jn.generateRoundRectangle=function(){return this.nodeShapes["round-rectangle"]=this.nodeShapes.roundrectangle={renderer:this,name:"round-rectangle",points:kt(4,0),draw:function(e,t,n,a,i,s){this.renderer.nodeShapeImpl(this.name,e,t,n,a,i,this.points,s)},intersectLine:function(e,t,n,a,i,s,u,f){return cR(i,s,e,t,n,a,u,f)},checkPoint:function(e,t,n,a,i,s,u,f){var c=a/2,d=i/2;f=f==="auto"?_a(a,i):f,f=Math.min(c,d,f);var v=f*2;return!!(Gn(e,t,this.points,s,u,a,i-v,[0,-1],n)||Gn(e,t,this.points,s,u,a-v,i,[0,-1],n)||ai(e,t,v,v,s-c+f,u-d+f,n)||ai(e,t,v,v,s+c-f,u-d+f,n)||ai(e,t,v,v,s+c-f,u+d-f,n)||ai(e,t,v,v,s-c+f,u+d-f,n))}}};jn.generateCutRectangle=function(){return this.nodeShapes["cut-rectangle"]=this.nodeShapes.cutrectangle={renderer:this,name:"cut-rectangle",cornerLength:D0(),points:kt(4,0),draw:function(e,t,n,a,i,s){this.renderer.nodeShapeImpl(this.name,e,t,n,a,i,null,s)},generateCutTrianglePts:function(e,t,n,a,i){var s=i==="auto"?this.cornerLength:i,u=t/2,f=e/2,c=n-f,d=n+f,v=a-u,p=a+u;return{topLeft:[c,v+s,c+s,v,c+s,v+s],topRight:[d-s,v,d,v+s,d-s,v+s],bottomRight:[d,p-s,d-s,p,d-s,p-s],bottomLeft:[c+s,p,c,p-s,c+s,p-s]}},intersectLine:function(e,t,n,a,i,s,u,f){var c=this.generateCutTrianglePts(n+2*u,a+2*u,e,t,f),d=[].concat.apply([],[c.topLeft.splice(0,4),c.topRight.splice(0,4),c.bottomRight.splice(0,4),c.bottomLeft.splice(0,4)]);return Es(i,s,d,e,t)},checkPoint:function(e,t,n,a,i,s,u,f){var c=f==="auto"?this.cornerLength:f;if(Gn(e,t,this.points,s,u,a,i-2*c,[0,-1],n)||Gn(e,t,this.points,s,u,a-2*c,i,[0,-1],n))return!0;var d=this.generateCutTrianglePts(a,i,s,u);return Bt(e,t,d.topLeft)||Bt(e,t,d.topRight)||Bt(e,t,d.bottomRight)||Bt(e,t,d.bottomLeft)}}};jn.generateBarrel=function(){return this.nodeShapes.barrel={renderer:this,name:"barrel",points:kt(4,0),draw:function(e,t,n,a,i,s){this.renderer.nodeShapeImpl(this.name,e,t,n,a,i)},intersectLine:function(e,t,n,a,i,s,u,f){var c=.15,d=.5,v=.85,p=this.generateBarrelBezierPts(n+2*u,a+2*u,e,t),g=function(w){var b=eo({x:w[0],y:w[1]},{x:w[2],y:w[3]},{x:w[4],y:w[5]},c),E=eo({x:w[0],y:w[1]},{x:w[2],y:w[3]},{x:w[4],y:w[5]},d),S=eo({x:w[0],y:w[1]},{x:w[2],y:w[3]},{x:w[4],y:w[5]},v);return[w[0],w[1],b.x,b.y,E.x,E.y,S.x,S.y,w[4],w[5]]},y=[].concat(g(p.topLeft),g(p.topRight),g(p.bottomRight),g(p.bottomLeft));return Es(i,s,y,e,t)},generateBarrelBezierPts:function(e,t,n,a){var i=t/2,s=e/2,u=n-s,f=n+s,c=a-i,d=a+i,v=r0(e,t),p=v.heightOffset,g=v.widthOffset,y=v.ctrlPtOffsetPct*e,x={topLeft:[u,c+p,u+y,c,u+g,c],topRight:[f-g,c,f-y,c,f,c+p],bottomRight:[f,d-p,f-y,d,f-g,d],bottomLeft:[u+g,d,u+y,d,u,d-p]};return x.topLeft.isTop=!0,x.topRight.isTop=!0,x.bottomLeft.isBottom=!0,x.bottomRight.isBottom=!0,x},checkPoint:function(e,t,n,a,i,s,u,f){var c=r0(a,i),d=c.heightOffset,v=c.widthOffset;if(Gn(e,t,this.points,s,u,a,i-2*d,[0,-1],n)||Gn(e,t,this.points,s,u,a-2*v,i,[0,-1],n))return!0;for(var p=this.generateBarrelBezierPts(a,i,s,u),g=function(P,D,I){var M=I[4],L=I[2],N=I[0],z=I[5],G=I[1],H=Math.min(M,N),U=Math.max(M,N),F=Math.min(z,G),X=Math.max(z,G);if(H<=P&&P<=U&&F<=D&&D<=X){var K=PO(M,L,N),B=EO(K[0],K[1],K[2],P),V=B.filter(function(te){return 0<=te&&te<=1});if(V.length>0)return V[0]}return null},y=Object.keys(p),x=0;x<y.length;x++){var w=y[x],b=p[w],E=g(e,t,b);if(E!=null){var S=b[5],T=b[3],R=b[1],A=at(S,T,R,E);if(b.isTop&&A<=t||b.isBottom&&t<=A)return!0}}return!1}}};jn.generateBottomRoundrectangle=function(){return this.nodeShapes["bottom-round-rectangle"]=this.nodeShapes.bottomroundrectangle={renderer:this,name:"bottom-round-rectangle",points:kt(4,0),draw:function(e,t,n,a,i,s){this.renderer.nodeShapeImpl(this.name,e,t,n,a,i,this.points,s)},intersectLine:function(e,t,n,a,i,s,u,f){var c=e-(n/2+u),d=t-(a/2+u),v=d,p=e+(n/2+u),g=xa(i,s,e,t,c,d,p,v,!1);return g.length>0?g:cR(i,s,e,t,n,a,u,f)},checkPoint:function(e,t,n,a,i,s,u,f){f=f==="auto"?_a(a,i):f;var c=2*f;if(Gn(e,t,this.points,s,u,a,i-c,[0,-1],n)||Gn(e,t,this.points,s,u,a-c,i,[0,-1],n))return!0;var d=a/2+2*n,v=i/2+2*n,p=[s-d,u-v,s-d,u,s+d,u,s+d,u-v];return!!(Bt(e,t,p)||ai(e,t,c,c,s+a/2-f,u+i/2-f,n)||ai(e,t,c,c,s-a/2+f,u+i/2-f,n))}}};jn.registerNodeShapes=function(){var r=this.nodeShapes={},e=this;this.generateEllipse(),this.generatePolygon("triangle",kt(3,0)),this.generateRoundPolygon("round-triangle",kt(3,0)),this.generatePolygon("rectangle",kt(4,0)),r.square=r.rectangle,this.generateRoundRectangle(),this.generateCutRectangle(),this.generateBarrel(),this.generateBottomRoundrectangle();{var t=[0,1,1,0,0,-1,-1,0];this.generatePolygon("diamond",t),this.generateRoundPolygon("round-diamond",t)}this.generatePolygon("pentagon",kt(5,0)),this.generateRoundPolygon("round-pentagon",kt(5,0)),this.generatePolygon("hexagon",kt(6,0)),this.generateRoundPolygon("round-hexagon",kt(6,0)),this.generatePolygon("heptagon",kt(7,0)),this.generateRoundPolygon("round-heptagon",kt(7,0)),this.generatePolygon("octagon",kt(8,0)),this.generateRoundPolygon("round-octagon",kt(8,0));var n=new Array(20);{var a=e0(5,0),i=e0(5,Math.PI/5),s=.5*(3-Math.sqrt(5));s*=1.57;for(var u=0;u<i.length/2;u++)i[u*2]*=s,i[u*2+1]*=s;for(var u=0;u<20/4;u++)n[u*4]=a[u*2],n[u*4+1]=a[u*2+1],n[u*4+2]=i[u*2],n[u*4+3]=i[u*2+1]}n=dR(n),this.generatePolygon("star",n),this.generatePolygon("vee",[-1,-1,0,-.333,1,-1,0,1]),this.generatePolygon("rhomboid",[-1,-1,.333,-1,1,1,-.333,1]),this.generatePolygon("right-rhomboid",[-.333,-1,1,-1,.333,1,-1,1]),this.nodeShapes.concavehexagon=this.generatePolygon("concave-hexagon",[-1,-.95,-.75,0,-1,.95,1,.95,.75,0,1,-.95]);{var f=[-1,-1,.25,-1,1,0,.25,1,-1,1];this.generatePolygon("tag",f),this.generateRoundPolygon("round-tag",f)}r.makePolygon=function(c){var d=c.join("$"),v="polygon-"+d,p;return(p=this[v])?p:e.generatePolygon(v,c)}};var qs={};qs.timeToRender=function(){return this.redrawTotalTime/this.redrawCount};qs.redraw=function(r){r=r||sR();var e=this;e.averageRedrawTime===void 0&&(e.averageRedrawTime=0),e.lastRedrawTime===void 0&&(e.lastRedrawTime=0),e.lastDrawTime===void 0&&(e.lastDrawTime=0),e.requestedFrame=!0,e.renderOptions=r};qs.beforeRender=function(r,e){if(!this.destroyed){e==null&&Pr("Priority is not optional for beforeRender");var t=this.beforeRenderCallbacks;t.push({fn:r,priority:e}),t.sort(function(n,a){return a.priority-n.priority})}};var rS=function(e,t,n){for(var a=e.beforeRenderCallbacks,i=0;i<a.length;i++)a[i].fn(t,n)};qs.startRenderLoop=function(){var r=this,e=r.cy;if(!r.renderLoopStarted){r.renderLoopStarted=!0;var t=function(a){if(!r.destroyed){if(!e.batching())if(r.requestedFrame&&!r.skipFrame){rS(r,!0,a);var i=Un();r.render(r.renderOptions);var s=r.lastDrawTime=Un();r.averageRedrawTime===void 0&&(r.averageRedrawTime=s-i),r.redrawCount===void 0&&(r.redrawCount=0),r.redrawCount++,r.redrawTotalTime===void 0&&(r.redrawTotalTime=0);var u=s-i;r.redrawTotalTime+=u,r.lastRedrawTime=u,r.averageRedrawTime=r.averageRedrawTime/2+u/2,r.requestedFrame=!1}else rS(r,!1,a);r.skipFrame=!1,Sl(t)}};Sl(t)}};var HB=function(e){this.init(e)},vA=HB,vo=vA.prototype;vo.clientFunctions=["redrawHint","render","renderTo","matchCanvasSize","nodeShapeImpl","arrowShapeImpl"];vo.init=function(r){var e=this;e.options=r,e.cy=r.cy;var t=e.container=r.cy.container(),n=e.cy.window();if(n){var a=n.document,i=a.head,s="__________cytoscape_stylesheet",u="__________cytoscape_container",f=a.getElementById(s)!=null;if(t.className.indexOf(u)<0&&(t.className=(t.className||"")+" "+u),!f){var c=a.createElement("style");c.id=s,c.textContent="."+u+" { position: relative; }",i.insertBefore(c,i.children[0])}var d=n.getComputedStyle(t),v=d.getPropertyValue("position");v==="static"&&pr("A Cytoscape container has style position:static and so can not use UI extensions properly")}e.selection=[void 0,void 0,void 0,void 0,0],e.bezierProjPcts=[.05,.225,.4,.5,.6,.775,.95],e.hoverData={down:null,last:null,downTime:null,triggerMode:null,dragging:!1,initialPan:[null,null],capture:!1},e.dragData={possibleDragElements:[]},e.touchData={start:null,capture:!1,startPosition:[null,null,null,null,null,null],singleTouchStartTime:null,singleTouchMoved:!0,now:[null,null,null,null,null,null],earlier:[null,null,null,null,null,null]},e.redraws=0,e.showFps=r.showFps,e.debug=r.debug,e.webgl=r.webgl,e.hideEdgesOnViewport=r.hideEdgesOnViewport,e.textureOnViewport=r.textureOnViewport,e.wheelSensitivity=r.wheelSensitivity,e.motionBlurEnabled=r.motionBlur,e.forcedPixelRatio=Te(r.pixelRatio)?r.pixelRatio:null,e.motionBlur=r.motionBlur,e.motionBlurOpacity=r.motionBlurOpacity,e.motionBlurTransparency=1-e.motionBlurOpacity,e.motionBlurPxRatio=1,e.mbPxRBlurry=1,e.minMbLowQualFrames=4,e.fullQualityMb=!1,e.clearedForMotionBlur=[],e.desktopTapThreshold=r.desktopTapThreshold,e.desktopTapThreshold2=r.desktopTapThreshold*r.desktopTapThreshold,e.touchTapThreshold=r.touchTapThreshold,e.touchTapThreshold2=r.touchTapThreshold*r.touchTapThreshold,e.tapholdDuration=500,e.bindings=[],e.beforeRenderCallbacks=[],e.beforeRenderPriorities={animations:400,eleCalcs:300,eleTxrDeq:200,lyrTxrDeq:150,lyrTxrSkip:100},e.registerNodeShapes(),e.registerArrowShapes(),e.registerCalculationListeners()};vo.notify=function(r,e){var t=this,n=t.cy;if(!this.destroyed){if(r==="init"){t.load();return}if(r==="destroy"){t.destroy();return}(r==="add"||r==="remove"||r==="move"&&n.hasCompoundNodes()||r==="load"||r==="zorder"||r==="mount")&&t.invalidateCachedZSortedEles(),r==="viewport"&&t.redrawHint("select",!0),r==="gc"&&t.redrawHint("gc",!0),(r==="load"||r==="resize"||r==="mount")&&(t.invalidateContainerClientCoordsCache(),t.matchCanvasSize(t.container)),t.redrawHint("eles",!0),t.redrawHint("drag",!0),this.startRenderLoop(),this.redraw()}};vo.destroy=function(){var r=this;r.destroyed=!0,r.cy.stopAnimationLoop();for(var e=0;e<r.bindings.length;e++){var t=r.bindings[e],n=t,a=n.target;(a.off||a.removeEventListener).apply(a,n.args)}if(r.bindings=[],r.beforeRenderCallbacks=[],r.onUpdateEleCalcsFns=[],r.removeObserver&&r.removeObserver.disconnect(),r.styleObserver&&r.styleObserver.disconnect(),r.resizeObserver&&r.resizeObserver.disconnect(),r.labelCalcDiv)try{document.body.removeChild(r.labelCalcDiv)}catch{}};vo.isHeadless=function(){return!1};[V0,cA,dA,co,jn,qs].forEach(function(r){Ke(vo,r)});var Rv=1e3/60,hA={setupDequeueing:function(e){return function(){var n=this,a=this.renderer;if(!n.dequeueingSetup){n.dequeueingSetup=!0;var i=Ms(function(){a.redrawHint("eles",!0),a.redrawHint("drag",!0),a.redraw()},e.deqRedrawThreshold),s=function(c,d){var v=Un(),p=a.averageRedrawTime,g=a.lastRedrawTime,y=[],x=a.cy.extent(),w=a.getPixelRatio();for(c||a.flushRenderedStyleQueue();;){var b=Un(),E=b-v,S=b-d;if(g<Rv){var T=Rv-(c?p:0);if(S>=e.deqFastCost*T)break}else if(c){if(E>=e.deqCost*g||E>=e.deqAvgCost*p)break}else if(S>=e.deqNoDrawCost*Rv)break;var R=e.deq(n,w,x);if(R.length>0)for(var A=0;A<R.length;A++)y.push(R[A]);else break}y.length>0&&(e.onDeqd(n,y),!c&&e.shouldRedraw(n,y,w,x)&&i())},u=e.priority||_0;a.beforeRender(s,u(n))}}}},WB=(function(){function r(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Cl;Da(this,r),this.idsByKey=new $n,this.keyForId=new $n,this.cachesByLvl=new $n,this.lvls=[],this.getKey=e,this.doesEleInvalidateKey=t}return Ia(r,[{key:"getIdsFor",value:function(t){t==null&&Pr("Can not get id list for null key");var n=this.idsByKey,a=this.idsByKey.get(t);return a||(a=new so,n.set(t,a)),a}},{key:"addIdForKey",value:function(t,n){t!=null&&this.getIdsFor(t).add(n)}},{key:"deleteIdForKey",value:function(t,n){t!=null&&this.getIdsFor(t).delete(n)}},{key:"getNumberOfIdsForKey",value:function(t){return t==null?0:this.getIdsFor(t).size}},{key:"updateKeyMappingFor",value:function(t){var n=t.id(),a=this.keyForId.get(n),i=this.getKey(t);this.deleteIdForKey(a,n),this.addIdForKey(i,n),this.keyForId.set(n,i)}},{key:"deleteKeyMappingFor",value:function(t){var n=t.id(),a=this.keyForId.get(n);this.deleteIdForKey(a,n),this.keyForId.delete(n)}},{key:"keyHasChangedFor",value:function(t){var n=t.id(),a=this.keyForId.get(n),i=this.getKey(t);return a!==i}},{key:"isInvalid",value:function(t){return this.keyHasChangedFor(t)||this.doesEleInvalidateKey(t)}},{key:"getCachesAt",value:function(t){var n=this.cachesByLvl,a=this.lvls,i=n.get(t);return i||(i=new $n,n.set(t,i),a.push(t)),i}},{key:"getCache",value:function(t,n){return this.getCachesAt(n).get(t)}},{key:"get",value:function(t,n){var a=this.getKey(t),i=this.getCache(a,n);return i!=null&&this.updateKeyMappingFor(t),i}},{key:"getForCachedKey",value:function(t,n){var a=this.keyForId.get(t.id()),i=this.getCache(a,n);return i}},{key:"hasCache",value:function(t,n){return this.getCachesAt(n).has(t)}},{key:"has",value:function(t,n){var a=this.getKey(t);return this.hasCache(a,n)}},{key:"setCache",value:function(t,n,a){a.key=t,this.getCachesAt(n).set(t,a)}},{key:"set",value:function(t,n,a){var i=this.getKey(t);this.setCache(i,n,a),this.updateKeyMappingFor(t)}},{key:"deleteCache",value:function(t,n){this.getCachesAt(n).delete(t)}},{key:"delete",value:function(t,n){var a=this.getKey(t);this.deleteCache(a,n)}},{key:"invalidateKey",value:function(t){var n=this;this.lvls.forEach(function(a){return n.deleteCache(t,a)})}},{key:"invalidate",value:function(t){var n=t.id(),a=this.keyForId.get(n);this.deleteKeyMappingFor(t);var i=this.doesEleInvalidateKey(t);return i&&this.invalidateKey(a),i||this.getNumberOfIdsForKey(a)===0}}])})(),tS=25,sl=50,ml=-4,h0=3,pA=7.99,KB=8,YB=1024,XB=1024,ZB=1024,QB=.2,JB=.8,eq=10,rq=.15,tq=.1,nq=.9,aq=.9,iq=100,oq=1,Ji={dequeue:"dequeue",downscale:"downscale",highQuality:"highQuality"},sq=dt({getKey:null,doesEleInvalidateKey:Cl,drawElement:null,getBoundingBox:null,getRotationPoint:null,getRotationOffset:null,isVisible:aR,allowEdgeTxrCaching:!0,allowParentTxrCaching:!0}),cs=function(e,t){var n=this;n.renderer=e,n.onDequeues=[];var a=sq(t);Ke(n,a),n.lookup=new WB(a.getKey,a.doesEleInvalidateKey),n.setupDequeueing()},et=cs.prototype;et.reasons=Ji;et.getTextureQueue=function(r){var e=this;return e.eleImgCaches=e.eleImgCaches||{},e.eleImgCaches[r]=e.eleImgCaches[r]||[]};et.getRetiredTextureQueue=function(r){var e=this,t=e.eleImgCaches.retired=e.eleImgCaches.retired||{},n=t[r]=t[r]||[];return n};et.getElementQueue=function(){var r=this,e=r.eleCacheQueue=r.eleCacheQueue||new Os(function(t,n){return n.reqs-t.reqs});return e};et.getElementKeyToQueue=function(){var r=this,e=r.eleKeyToCacheQueue=r.eleKeyToCacheQueue||{};return e};et.getElement=function(r,e,t,n,a){var i=this,s=this.renderer,u=s.cy.zoom(),f=this.lookup;if(!e||e.w===0||e.h===0||isNaN(e.w)||isNaN(e.h)||!r.visible()||r.removed()||!i.allowEdgeTxrCaching&&r.isEdge()||!i.allowParentTxrCaching&&r.isParent())return null;if(n==null&&(n=Math.ceil(R0(u*t))),n<ml)n=ml;else if(u>=pA||n>h0)return null;var c=Math.pow(2,n),d=e.h*c,v=e.w*c,p=s.eleTextBiggerThanMin(r,c);if(!this.isVisible(r,p))return null;var g=f.get(r,n);if(g&&g.invalidated&&(g.invalidated=!1,g.texture.invalidatedWidth-=g.width),g)return g;var y;if(d<=tS?y=tS:d<=sl?y=sl:y=Math.ceil(d/sl)*sl,d>ZB||v>XB)return null;var x=i.getTextureQueue(y),w=x[x.length-2],b=function(){return i.recycleTexture(y,v)||i.addTexture(y,v)};w||(w=x[x.length-1]),w||(w=b()),w.width-w.usedWidth<v&&(w=b());for(var E=function(H){return H&&H.scaledLabelShown===p},S=a&&a===Ji.dequeue,T=a&&a===Ji.highQuality,R=a&&a===Ji.downscale,A,k=n+1;k<=h0;k++){var P=f.get(r,k);if(P){A=P;break}}var D=A&&A.level===n+1?A:null,I=function(){w.context.drawImage(D.texture.canvas,D.x,0,D.width,D.height,w.usedWidth,0,v,d)};if(w.context.setTransform(1,0,0,1,0,0),w.context.clearRect(w.usedWidth,0,v,y),E(D))I();else if(E(A))if(T){for(var M=A.level;M>n;M--)D=i.getElement(r,e,t,M,Ji.downscale);I()}else return i.queueElement(r,A.level-1),A;else{var L;if(!S&&!T&&!R)for(var N=n-1;N>=ml;N--){var z=f.get(r,N);if(z){L=z;break}}if(E(L))return i.queueElement(r,n),L;w.context.translate(w.usedWidth,0),w.context.scale(c,c),this.drawElement(w.context,r,e,p,!1),w.context.scale(1/c,1/c),w.context.translate(-w.usedWidth,0)}return g={x:w.usedWidth,texture:w,level:n,scale:c,width:v,height:d,scaledLabelShown:p},w.usedWidth+=Math.ceil(v+KB),w.eleCaches.push(g),f.set(r,n,g),i.checkTextureFullness(w),g};et.invalidateElements=function(r){for(var e=0;e<r.length;e++)this.invalidateElement(r[e])};et.invalidateElement=function(r){var e=this,t=e.lookup,n=[],a=t.isInvalid(r);if(a){for(var i=ml;i<=h0;i++){var s=t.getForCachedKey(r,i);s&&n.push(s)}var u=t.invalidate(r);if(u)for(var f=0;f<n.length;f++){var c=n[f],d=c.texture;d.invalidatedWidth+=c.width,c.invalidated=!0,e.checkTextureUtility(d)}e.removeFromQueue(r)}};et.checkTextureUtility=function(r){r.invalidatedWidth>=QB*r.width&&this.retireTexture(r)};et.checkTextureFullness=function(r){var e=this,t=e.getTextureQueue(r.height);r.usedWidth/r.width>JB&&r.fullnessChecks>=eq?Ta(t,r):r.fullnessChecks++};et.retireTexture=function(r){var e=this,t=r.height,n=e.getTextureQueue(t),a=this.lookup;Ta(n,r),r.retired=!0;for(var i=r.eleCaches,s=0;s<i.length;s++){var u=i[s];a.deleteCache(u.key,u.level)}k0(i);var f=e.getRetiredTextureQueue(t);f.push(r)};et.addTexture=function(r,e){var t=this,n=t.getTextureQueue(r),a={};return n.push(a),a.eleCaches=[],a.height=r,a.width=Math.max(YB,e),a.usedWidth=0,a.invalidatedWidth=0,a.fullnessChecks=0,a.canvas=t.renderer.makeOffscreenCanvas(a.width,a.height),a.context=a.canvas.getContext("2d"),a};et.recycleTexture=function(r,e){for(var t=this,n=t.getTextureQueue(r),a=t.getRetiredTextureQueue(r),i=0;i<a.length;i++){var s=a[i];if(s.width>=e)return s.retired=!1,s.usedWidth=0,s.invalidatedWidth=0,s.fullnessChecks=0,k0(s.eleCaches),s.context.setTransform(1,0,0,1,0,0),s.context.clearRect(0,0,s.width,s.height),Ta(a,s),n.push(s),s}};et.queueElement=function(r,e){var t=this,n=t.getElementQueue(),a=t.getElementKeyToQueue(),i=this.getKey(r),s=a[i];if(s)s.level=Math.max(s.level,e),s.eles.merge(r),s.reqs++,n.updateItem(s);else{var u={eles:r.spawn().merge(r),level:e,reqs:1,key:i};n.push(u),a[i]=u}};et.dequeue=function(r){for(var e=this,t=e.getElementQueue(),n=e.getElementKeyToQueue(),a=[],i=e.lookup,s=0;s<oq&&t.size()>0;s++){var u=t.pop(),f=u.key,c=u.eles[0],d=i.hasCache(c,u.level);if(n[f]=null,d)continue;a.push(u);var v=e.getBoundingBox(c);e.getElement(c,v,r,u.level,Ji.dequeue)}return a};et.removeFromQueue=function(r){var e=this,t=e.getElementQueue(),n=e.getElementKeyToQueue(),a=this.getKey(r),i=n[a];i!=null&&(i.eles.length===1?(i.reqs=T0,t.updateItem(i),t.pop(),n[a]=null):i.eles.unmerge(r))};et.onDequeue=function(r){this.onDequeues.push(r)};et.offDequeue=function(r){Ta(this.onDequeues,r)};et.setupDequeueing=hA.setupDequeueing({deqRedrawThreshold:iq,deqCost:rq,deqAvgCost:tq,deqNoDrawCost:nq,deqFastCost:aq,deq:function(e,t,n){return e.dequeue(t,n)},onDeqd:function(e,t){for(var n=0;n<e.onDequeues.length;n++){var a=e.onDequeues[n];a(t)}},shouldRedraw:function(e,t,n,a){for(var i=0;i<t.length;i++)for(var s=t[i].eles,u=0;u<s.length;u++){var f=s[u].boundingBox();if(P0(f,a))return!0}return!1},priority:function(e){return e.renderer.beforeRenderPriorities.eleTxrDeq}});var uq=1,gs=-4,Il=2,lq=3.99,fq=50,cq=50,dq=.15,vq=.1,hq=.9,pq=.9,gq=1,nS=250,yq=4e3*4e3,aS=32767,mq=!0,gA=function(e){var t=this,n=t.renderer=e,a=n.cy;t.layersByLevel={},t.firstGet=!0,t.lastInvalidationTime=Un()-2*nS,t.skipping=!1,t.eleTxrDeqs=a.collection(),t.scheduleElementRefinement=Ms(function(){t.refineElementTextures(t.eleTxrDeqs),t.eleTxrDeqs.unmerge(t.eleTxrDeqs)},cq),n.beforeRender(function(s,u){u-t.lastInvalidationTime<=nS?t.skipping=!0:t.skipping=!1},n.beforeRenderPriorities.lyrTxrSkip);var i=function(u,f){return f.reqs-u.reqs};t.layersQueue=new Os(i),t.setupDequeueing()},vt=gA.prototype,iS=0,wq=Math.pow(2,53)-1;vt.makeLayer=function(r,e){var t=Math.pow(2,e),n=Math.ceil(r.w*t),a=Math.ceil(r.h*t),i=this.renderer.makeOffscreenCanvas(n,a),s={id:iS=++iS%wq,bb:r,level:e,width:n,height:a,canvas:i,context:i.getContext("2d"),eles:[],elesQueue:[],reqs:0},u=s.context,f=-s.bb.x1,c=-s.bb.y1;return u.scale(t,t),u.translate(f,c),s};vt.getLayers=function(r,e,t){var n=this,a=n.renderer,i=a.cy,s=i.zoom(),u=n.firstGet;if(n.firstGet=!1,t==null){if(t=Math.ceil(R0(s*e)),t<gs)t=gs;else if(s>=lq||t>Il)return null}n.validateLayersElesOrdering(t,r);var f=n.layersByLevel,c=Math.pow(2,t),d=f[t]=f[t]||[],v,p=n.levelIsComplete(t,r),g,y=function(){var I=function(G){if(n.validateLayersElesOrdering(G,r),n.levelIsComplete(G,r))return g=f[G],!0},M=function(G){if(!g)for(var H=t+G;gs<=H&&H<=Il&&!I(H);H+=G);};M(1),M(-1);for(var L=d.length-1;L>=0;L--){var N=d[L];N.invalid&&Ta(d,N)}};if(!p)y();else return d;var x=function(){if(!v){v=Rt();for(var I=0;I<r.length;I++)gO(v,r[I].boundingBox())}return v},w=function(I){I=I||{};var M=I.after;x();var L=Math.ceil(v.w*c),N=Math.ceil(v.h*c);if(L>aS||N>aS)return null;var z=L*N;if(z>yq)return null;var G=n.makeLayer(v,t);if(M!=null){var H=d.indexOf(M)+1;d.splice(H,0,G)}else(I.insert===void 0||I.insert)&&d.unshift(G);return G};if(n.skipping&&!u)return null;for(var b=null,E=r.length/uq,S=!u,T=0;T<r.length;T++){var R=r[T],A=R._private.rscratch,k=A.imgLayerCaches=A.imgLayerCaches||{},P=k[t];if(P){b=P;continue}if((!b||b.eles.length>=E||!fR(b.bb,R.boundingBox()))&&(b=w({insert:!0,after:b}),!b))return null;g||S?n.queueLayer(b,R):n.drawEleInLayer(b,R,t,e),b.eles.push(R),k[t]=b}return g||(S?null:d)};vt.getEleLevelForLayerLevel=function(r,e){return r};vt.drawEleInLayer=function(r,e,t,n){var a=this,i=this.renderer,s=r.context,u=e.boundingBox();u.w===0||u.h===0||!e.visible()||(t=a.getEleLevelForLayerLevel(t,n),i.setImgSmoothing(s,!1),i.drawCachedElement(s,e,null,null,t,mq),i.setImgSmoothing(s,!0))};vt.levelIsComplete=function(r,e){var t=this,n=t.layersByLevel[r];if(!n||n.length===0)return!1;for(var a=0,i=0;i<n.length;i++){var s=n[i];if(s.reqs>0||s.invalid)return!1;a+=s.eles.length}return a===e.length};vt.validateLayersElesOrdering=function(r,e){var t=this.layersByLevel[r];if(t)for(var n=0;n<t.length;n++){for(var a=t[n],i=-1,s=0;s<e.length;s++)if(a.eles[0]===e[s]){i=s;break}if(i<0){this.invalidateLayer(a);continue}for(var u=i,s=0;s<a.eles.length;s++)if(a.eles[s]!==e[u+s]){this.invalidateLayer(a);break}}};vt.updateElementsInLayers=function(r,e){for(var t=this,n=As(r[0]),a=0;a<r.length;a++)for(var i=n?null:r[a],s=n?r[a]:r[a].ele,u=s._private.rscratch,f=u.imgLayerCaches=u.imgLayerCaches||{},c=gs;c<=Il;c++){var d=f[c];d&&(i&&t.getEleLevelForLayerLevel(d.level)!==i.level||e(d,s,i))}};vt.haveLayers=function(){for(var r=this,e=!1,t=gs;t<=Il;t++){var n=r.layersByLevel[t];if(n&&n.length>0){e=!0;break}}return e};vt.invalidateElements=function(r){var e=this;r.length!==0&&(e.lastInvalidationTime=Un(),!(r.length===0||!e.haveLayers())&&e.updateElementsInLayers(r,function(n,a,i){e.invalidateLayer(n)}))};vt.invalidateLayer=function(r){if(this.lastInvalidationTime=Un(),!r.invalid){var e=r.level,t=r.eles,n=this.layersByLevel[e];Ta(n,r),r.elesQueue=[],r.invalid=!0,r.replacement&&(r.replacement.invalid=!0);for(var a=0;a<t.length;a++){var i=t[a]._private.rscratch.imgLayerCaches;i&&(i[e]=null)}}};vt.refineElementTextures=function(r){var e=this;e.updateElementsInLayers(r,function(n,a,i){var s=n.replacement;if(s||(s=n.replacement=e.makeLayer(n.bb,n.level),s.replaces=n,s.eles=n.eles),!s.reqs)for(var u=0;u<s.eles.length;u++)e.queueLayer(s,s.eles[u])})};vt.enqueueElementRefinement=function(r){this.eleTxrDeqs.merge(r),this.scheduleElementRefinement()};vt.queueLayer=function(r,e){var t=this,n=t.layersQueue,a=r.elesQueue,i=a.hasId=a.hasId||{};if(!r.replacement){if(e){if(i[e.id()])return;a.push(e),i[e.id()]=!0}r.reqs?(r.reqs++,n.updateItem(r)):(r.reqs=1,n.push(r))}};vt.dequeue=function(r){for(var e=this,t=e.layersQueue,n=[],a=0;a<gq&&t.size()!==0;){var i=t.peek();if(i.replacement){t.pop();continue}if(i.replaces&&i!==i.replaces.replacement){t.pop();continue}if(i.invalid){t.pop();continue}var s=i.elesQueue.shift();s&&(e.drawEleInLayer(i,s,i.level,r),a++),n.length===0&&n.push(!0),i.elesQueue.length===0&&(t.pop(),i.reqs=0,i.replaces&&e.applyLayerReplacement(i),e.requestRedraw())}return n};vt.applyLayerReplacement=function(r){var e=this,t=e.layersByLevel[r.level],n=r.replaces,a=t.indexOf(n);if(!(a<0||n.invalid)){t[a]=r;for(var i=0;i<r.eles.length;i++){var s=r.eles[i]._private,u=s.imgLayerCaches=s.imgLayerCaches||{};u&&(u[r.level]=r)}e.requestRedraw()}};vt.requestRedraw=Ms(function(){var r=this.renderer;r.redrawHint("eles",!0),r.redrawHint("drag",!0),r.redraw()},100);vt.setupDequeueing=hA.setupDequeueing({deqRedrawThreshold:fq,deqCost:dq,deqAvgCost:vq,deqNoDrawCost:hq,deqFastCost:pq,deq:function(e,t){return e.dequeue(t)},onDeqd:_0,shouldRedraw:aR,priority:function(e){return e.renderer.beforeRenderPriorities.lyrTxrDeq}});var yA={},oS;function bq(r,e){for(var t=0;t<e.length;t++){var n=e[t];r.lineTo(n.x,n.y)}}function xq(r,e,t){for(var n,a=0;a<e.length;a++){var i=e[a];a===0&&(n=i),r.lineTo(i.x,i.y)}r.quadraticCurveTo(t.x,t.y,n.x,n.y)}function sS(r,e,t){r.beginPath&&r.beginPath();for(var n=e,a=0;a<n.length;a++){var i=n[a];r.lineTo(i.x,i.y)}var s=t,u=t[0];r.moveTo(u.x,u.y);for(var a=1;a<s.length;a++){var i=s[a];r.lineTo(i.x,i.y)}r.closePath&&r.closePath()}function Eq(r,e,t,n,a){r.beginPath&&r.beginPath(),r.arc(t,n,a,0,Math.PI*2,!1);var i=e,s=i[0];r.moveTo(s.x,s.y);for(var u=0;u<i.length;u++){var f=i[u];r.lineTo(f.x,f.y)}r.closePath&&r.closePath()}function Sq(r,e,t,n){r.arc(e,t,n,0,Math.PI*2,!1)}yA.arrowShapeImpl=function(r){return(oS||(oS={polygon:bq,"triangle-backcurve":xq,"triangle-tee":sS,"circle-triangle":Eq,"triangle-cross":sS,circle:Sq}))[r]};var An={};An.drawElement=function(r,e,t,n,a,i){var s=this;e.isNode()?s.drawNode(r,e,t,n,a,i):s.drawEdge(r,e,t,n,a,i)};An.drawElementOverlay=function(r,e){var t=this;e.isNode()?t.drawNodeOverlay(r,e):t.drawEdgeOverlay(r,e)};An.drawElementUnderlay=function(r,e){var t=this;e.isNode()?t.drawNodeUnderlay(r,e):t.drawEdgeUnderlay(r,e)};An.drawCachedElementPortion=function(r,e,t,n,a,i,s,u){var f=this,c=t.getBoundingBox(e);if(!(c.w===0||c.h===0)){var d=t.getElement(e,c,n,a,i);if(d!=null){var v=u(f,e);if(v===0)return;var p=s(f,e),g=c.x1,y=c.y1,x=c.w,w=c.h,b,E,S,T,R;if(p!==0){var A=t.getRotationPoint(e);S=A.x,T=A.y,r.translate(S,T),r.rotate(p),R=f.getImgSmoothing(r),R||f.setImgSmoothing(r,!0);var k=t.getRotationOffset(e);b=k.x,E=k.y}else b=g,E=y;var P;v!==1&&(P=r.globalAlpha,r.globalAlpha=P*v),r.drawImage(d.texture.canvas,d.x,0,d.width,d.height,b,E,x,w),v!==1&&(r.globalAlpha=P),p!==0&&(r.rotate(-p),r.translate(-S,-T),R||f.setImgSmoothing(r,!1))}else t.drawElement(r,e)}};var Cq=function(){return 0},Tq=function(e,t){return e.getTextAngle(t,null)},_q=function(e,t){return e.getTextAngle(t,"source")},kq=function(e,t){return e.getTextAngle(t,"target")},Rq=function(e,t){return t.effectiveOpacity()},Av=function(e,t){return t.pstyle("text-opacity").pfValue*t.effectiveOpacity()};An.drawCachedElement=function(r,e,t,n,a,i){var s=this,u=s.data,f=u.eleTxrCache,c=u.lblTxrCache,d=u.slbTxrCache,v=u.tlbTxrCache,p=e.boundingBox(),g=i===!0?f.reasons.highQuality:null;if(!(p.w===0||p.h===0||!e.visible())&&(!n||P0(p,n))){var y=e.isEdge(),x=e.element()._private.rscratch.badLine;s.drawElementUnderlay(r,e),s.drawCachedElementPortion(r,e,f,t,a,g,Cq,Rq),(!y||!x)&&s.drawCachedElementPortion(r,e,c,t,a,g,Tq,Av),y&&!x&&(s.drawCachedElementPortion(r,e,d,t,a,g,_q,Av),s.drawCachedElementPortion(r,e,v,t,a,g,kq,Av)),s.drawElementOverlay(r,e)}};An.drawElements=function(r,e){for(var t=this,n=0;n<e.length;n++){var a=e[n];t.drawElement(r,a)}};An.drawCachedElements=function(r,e,t,n){for(var a=this,i=0;i<e.length;i++){var s=e[i];a.drawCachedElement(r,s,t,n)}};An.drawCachedNodes=function(r,e,t,n){for(var a=this,i=0;i<e.length;i++){var s=e[i];s.isNode()&&a.drawCachedElement(r,s,t,n)}};An.drawLayeredElements=function(r,e,t,n){var a=this,i=a.data.lyrTxrCache.getLayers(e,t);if(i)for(var s=0;s<i.length;s++){var u=i[s],f=u.bb;f.w===0||f.h===0||r.drawImage(u.canvas,f.x1,f.y1,f.w,f.h)}else a.drawCachedElements(r,e,t,n)};var Hn={};Hn.drawEdge=function(r,e,t){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,i=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,s=this,u=e._private.rscratch;if(!(i&&!e.visible())&&!(u.badLine||u.allpts==null||isNaN(u.allpts[0]))){var f;t&&(f=t,r.translate(-f.x1,-f.y1));var c=i?e.pstyle("opacity").value:1,d=i?e.pstyle("line-opacity").value:1,v=e.pstyle("curve-style").value,p=e.pstyle("line-style").value,g=e.pstyle("width").pfValue,y=e.pstyle("line-cap").value,x=e.pstyle("line-outline-width").value,w=e.pstyle("line-outline-color").value,b=c*d,E=c*d,S=function(){var G=arguments.length>0&&arguments[0]!==void 0?arguments[0]:b;v==="straight-triangle"?(s.eleStrokeStyle(r,e,G),s.drawEdgeTrianglePath(e,r,u.allpts)):(r.lineWidth=g,r.lineCap=y,s.eleStrokeStyle(r,e,G),s.drawEdgePath(e,r,u.allpts,p),r.lineCap="butt")},T=function(){var G=arguments.length>0&&arguments[0]!==void 0?arguments[0]:b;if(r.lineWidth=g+x,r.lineCap=y,x>0)s.colorStrokeStyle(r,w[0],w[1],w[2],G);else{r.lineCap="butt";return}v==="straight-triangle"?s.drawEdgeTrianglePath(e,r,u.allpts):(s.drawEdgePath(e,r,u.allpts,p),r.lineCap="butt")},R=function(){a&&s.drawEdgeOverlay(r,e)},A=function(){a&&s.drawEdgeUnderlay(r,e)},k=function(){var G=arguments.length>0&&arguments[0]!==void 0?arguments[0]:E;s.drawArrowheads(r,e,G)},P=function(){s.drawElementText(r,e,null,n)};r.lineJoin="round";var D=e.pstyle("ghost").value==="yes";if(D){var I=e.pstyle("ghost-offset-x").pfValue,M=e.pstyle("ghost-offset-y").pfValue,L=e.pstyle("ghost-opacity").value,N=b*L;r.translate(I,M),S(N),k(N),r.translate(-I,-M)}else T();A(),S(),k(),R(),P(),t&&r.translate(f.x1,f.y1)}};var mA=function(e){if(!["overlay","underlay"].includes(e))throw new Error("Invalid state");return function(t,n){if(n.visible()){var a=n.pstyle("".concat(e,"-opacity")).value;if(a!==0){var i=this,s=i.usePaths(),u=n._private.rscratch,f=n.pstyle("".concat(e,"-padding")).pfValue,c=2*f,d=n.pstyle("".concat(e,"-color")).value;t.lineWidth=c,u.edgeType==="self"&&!s?t.lineCap="butt":t.lineCap="round",i.colorStrokeStyle(t,d[0],d[1],d[2],a),i.drawEdgePath(n,t,u.allpts,"solid")}}}};Hn.drawEdgeOverlay=mA("overlay");Hn.drawEdgeUnderlay=mA("underlay");Hn.drawEdgePath=function(r,e,t,n){var a=r._private.rscratch,i=e,s,u=!1,f=this.usePaths(),c=r.pstyle("line-dash-pattern").pfValue,d=r.pstyle("line-dash-offset").pfValue;if(f){var v=t.join("$"),p=a.pathCacheKey&&a.pathCacheKey===v;p?(s=e=a.pathCache,u=!0):(s=e=new Path2D,a.pathCacheKey=v,a.pathCache=s)}if(i.setLineDash)switch(n){case"dotted":i.setLineDash([1,1]);break;case"dashed":i.setLineDash(c),i.lineDashOffset=d;break;case"solid":i.setLineDash([]);break}if(!u&&!a.badLine)switch(e.beginPath&&e.beginPath(),e.moveTo(t[0],t[1]),a.edgeType){case"bezier":case"self":case"compound":case"multibezier":for(var g=2;g+3<t.length;g+=4)e.quadraticCurveTo(t[g],t[g+1],t[g+2],t[g+3]);break;case"straight":case"haystack":for(var y=2;y+1<t.length;y+=2)e.lineTo(t[y],t[y+1]);break;case"segments":if(a.isRound){var x=qt(a.roundCorners),w;try{for(x.s();!(w=x.n()).done;){var b=w.value;oA(e,b)}}catch(S){x.e(S)}finally{x.f()}e.lineTo(t[t.length-2],t[t.length-1])}else for(var E=2;E+1<t.length;E+=2)e.lineTo(t[E],t[E+1]);break}e=i,f?e.stroke(s):e.stroke(),e.setLineDash&&e.setLineDash([])};Hn.drawEdgeTrianglePath=function(r,e,t){e.fillStyle=e.strokeStyle;for(var n=r.pstyle("width").pfValue,a=0;a+1<t.length;a+=2){var i=[t[a+2]-t[a],t[a+3]-t[a+1]],s=Math.sqrt(i[0]*i[0]+i[1]*i[1]),u=[i[1]/s,-i[0]/s],f=[u[0]*n/2,u[1]*n/2];e.beginPath(),e.moveTo(t[a]-f[0],t[a+1]-f[1]),e.lineTo(t[a]+f[0],t[a+1]+f[1]),e.lineTo(t[a+2],t[a+3]),e.closePath(),e.fill()}};Hn.drawArrowheads=function(r,e,t){var n=e._private.rscratch,a=n.edgeType==="haystack";a||this.drawArrowhead(r,e,"source",n.arrowStartX,n.arrowStartY,n.srcArrowAngle,t),this.drawArrowhead(r,e,"mid-target",n.midX,n.midY,n.midtgtArrowAngle,t),this.drawArrowhead(r,e,"mid-source",n.midX,n.midY,n.midsrcArrowAngle,t),a||this.drawArrowhead(r,e,"target",n.arrowEndX,n.arrowEndY,n.tgtArrowAngle,t)};Hn.drawArrowhead=function(r,e,t,n,a,i,s){if(!(isNaN(n)||n==null||isNaN(a)||a==null||isNaN(i)||i==null)){var u=this,f=e.pstyle(t+"-arrow-shape").value;if(f!=="none"){var c=e.pstyle(t+"-arrow-fill").value==="hollow"?"both":"filled",d=e.pstyle(t+"-arrow-fill").value,v=e.pstyle("width").pfValue,p=e.pstyle(t+"-arrow-width"),g=p.value==="match-line"?v:p.pfValue;p.units==="%"&&(g*=v);var y=e.pstyle("opacity").value;s===void 0&&(s=y);var x=r.globalCompositeOperation;(s!==1||d==="hollow")&&(r.globalCompositeOperation="destination-out",u.colorFillStyle(r,255,255,255,1),u.colorStrokeStyle(r,255,255,255,1),u.drawArrowShape(e,r,c,v,f,g,n,a,i),r.globalCompositeOperation=x);var w=e.pstyle(t+"-arrow-color").value;u.colorFillStyle(r,w[0],w[1],w[2],s),u.colorStrokeStyle(r,w[0],w[1],w[2],s),u.drawArrowShape(e,r,d,v,f,g,n,a,i)}}};Hn.drawArrowShape=function(r,e,t,n,a,i,s,u,f){var c=this,d=this.usePaths()&&a!=="triangle-cross",v=!1,p,g=e,y={x:s,y:u},x=r.pstyle("arrow-scale").value,w=this.getArrowWidth(n,x),b=c.arrowShapes[a];if(d){var E=c.arrowPathCache=c.arrowPathCache||[],S=ii(a),T=E[S];T!=null?(p=e=T,v=!0):(p=e=new Path2D,E[S]=p)}v||(e.beginPath&&e.beginPath(),d?b.draw(e,1,0,{x:0,y:0},1):b.draw(e,w,f,y,n),e.closePath&&e.closePath()),e=g,d&&(e.translate(s,u),e.rotate(f),e.scale(w,w)),(t==="filled"||t==="both")&&(d?e.fill(p):e.fill()),(t==="hollow"||t==="both")&&(e.lineWidth=i/(d?w:1),e.lineJoin="miter",d?e.stroke(p):e.stroke()),d&&(e.scale(1/w,1/w),e.rotate(-f),e.translate(-s,-u))};var G0={};G0.safeDrawImage=function(r,e,t,n,a,i,s,u,f,c){if(!(a<=0||i<=0||f<=0||c<=0))try{r.drawImage(e,t,n,a,i,s,u,f,c)}catch(d){pr(d)}};G0.drawInscribedImage=function(r,e,t,n,a){var i=this,s=t.position(),u=s.x,f=s.y,c=t.cy().style(),d=c.getIndexedStyle.bind(c),v=d(t,"background-fit","value",n),p=d(t,"background-repeat","value",n),g=t.width(),y=t.height(),x=t.padding()*2,w=g+(d(t,"background-width-relative-to","value",n)==="inner"?0:x),b=y+(d(t,"background-height-relative-to","value",n)==="inner"?0:x),E=t._private.rscratch,S=d(t,"background-clip","value",n),T=S==="node",R=d(t,"background-image-opacity","value",n)*a,A=d(t,"background-image-smoothing","value",n),k=t.pstyle("corner-radius").value;k!=="auto"&&(k=t.pstyle("corner-radius").pfValue);var P=e.width||e.cachedW,D=e.height||e.cachedH;(P==null||D==null)&&(document.body.appendChild(e),P=e.cachedW=e.width||e.offsetWidth,D=e.cachedH=e.height||e.offsetHeight,document.body.removeChild(e));var I=P,M=D;if(d(t,"background-width","value",n)!=="auto"&&(d(t,"background-width","units",n)==="%"?I=d(t,"background-width","pfValue",n)*w:I=d(t,"background-width","pfValue",n)),d(t,"background-height","value",n)!=="auto"&&(d(t,"background-height","units",n)==="%"?M=d(t,"background-height","pfValue",n)*b:M=d(t,"background-height","pfValue",n)),!(I===0||M===0)){if(v==="contain"){var L=Math.min(w/I,b/M);I*=L,M*=L}else if(v==="cover"){var L=Math.max(w/I,b/M);I*=L,M*=L}var N=u-w/2,z=d(t,"background-position-x","units",n),G=d(t,"background-position-x","pfValue",n);z==="%"?N+=(w-I)*G:N+=G;var H=d(t,"background-offset-x","units",n),U=d(t,"background-offset-x","pfValue",n);H==="%"?N+=(w-I)*U:N+=U;var F=f-b/2,X=d(t,"background-position-y","units",n),K=d(t,"background-position-y","pfValue",n);X==="%"?F+=(b-M)*K:F+=K;var B=d(t,"background-offset-y","units",n),V=d(t,"background-offset-y","pfValue",n);B==="%"?F+=(b-M)*V:F+=V,E.pathCache&&(N-=u,F-=f,u=0,f=0);var te=r.globalAlpha;r.globalAlpha=R;var $=i.getImgSmoothing(r),j=!1;if(A==="no"&&$?(i.setImgSmoothing(r,!1),j=!0):A==="yes"&&!$&&(i.setImgSmoothing(r,!0),j=!0),p==="no-repeat")T&&(r.save(),E.pathCache?r.clip(E.pathCache):(i.nodeShapes[i.getNodeShape(t)].draw(r,u,f,w,b,k,E),r.clip())),i.safeDrawImage(r,e,0,0,P,D,N,F,I,M),T&&r.restore();else{var Y=r.createPattern(e,p);r.fillStyle=Y,i.nodeShapes[i.getNodeShape(t)].draw(r,u,f,w,b,k,E),r.translate(N,F),r.fill(),r.translate(-N,-F)}r.globalAlpha=te,j&&i.setImgSmoothing(r,$)}};var ci={};ci.eleTextBiggerThanMin=function(r,e){if(!e){var t=r.cy().zoom(),n=this.getPixelRatio(),a=Math.ceil(R0(t*n));e=Math.pow(2,a)}var i=r.pstyle("font-size").pfValue*e,s=r.pstyle("min-zoomed-font-size").pfValue;return!(i<s)};ci.drawElementText=function(r,e,t,n,a){var i=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,s=this;if(n==null){if(i&&!s.eleTextBiggerThanMin(e))return}else if(n===!1)return;if(e.isNode()){var u=e.pstyle("label");if(!u||!u.value)return;var f=s.getLabelJustification(e);r.textAlign=f,r.textBaseline="bottom"}else{var c=e.element()._private.rscratch.badLine,d=e.pstyle("label"),v=e.pstyle("source-label"),p=e.pstyle("target-label");if(c||(!d||!d.value)&&(!v||!v.value)&&(!p||!p.value))return;r.textAlign="center",r.textBaseline="bottom"}var g=!t,y;t&&(y=t,r.translate(-y.x1,-y.y1)),a==null?(s.drawText(r,e,null,g,i),e.isEdge()&&(s.drawText(r,e,"source",g,i),s.drawText(r,e,"target",g,i))):s.drawText(r,e,a,g,i),t&&r.translate(y.x1,y.y1)};ci.getFontCache=function(r){var e;this.fontCaches=this.fontCaches||[];for(var t=0;t<this.fontCaches.length;t++)if(e=this.fontCaches[t],e.context===r)return e;return e={context:r},this.fontCaches.push(e),e};ci.setupTextStyle=function(r,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,n=e.pstyle("font-style").strValue,a=e.pstyle("font-size").pfValue+"px",i=e.pstyle("font-family").strValue,s=e.pstyle("font-weight").strValue,u=t?e.effectiveOpacity()*e.pstyle("text-opacity").value:1,f=e.pstyle("text-outline-opacity").value*u,c=e.pstyle("color").value,d=e.pstyle("text-outline-color").value;r.font=n+" "+s+" "+a+" "+i,r.lineJoin="round",this.colorFillStyle(r,c[0],c[1],c[2],u),this.colorStrokeStyle(r,d[0],d[1],d[2],f)};function Aq(r,e,t,n,a){var i=Math.min(n,a),s=i/2,u=e+n/2,f=t+a/2;r.beginPath(),r.arc(u,f,s,0,Math.PI*2),r.closePath()}function uS(r,e,t,n,a){var i=arguments.length>5&&arguments[5]!==void 0?arguments[5]:5,s=Math.min(i,n/2,a/2);r.beginPath(),r.moveTo(e+s,t),r.lineTo(e+n-s,t),r.quadraticCurveTo(e+n,t,e+n,t+s),r.lineTo(e+n,t+a-s),r.quadraticCurveTo(e+n,t+a,e+n-s,t+a),r.lineTo(e+s,t+a),r.quadraticCurveTo(e,t+a,e,t+a-s),r.lineTo(e,t+s),r.quadraticCurveTo(e,t,e+s,t),r.closePath()}ci.getTextAngle=function(r,e){var t,n=r._private,a=n.rscratch,i=e?e+"-":"",s=r.pstyle(i+"text-rotation");if(s.strValue==="autorotate"){var u=Lt(a,"labelAngle",e);t=r.isEdge()?u:0}else s.strValue==="none"?t=0:t=s.pfValue;return t};ci.drawText=function(r,e,t){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,i=e._private,s=i.rscratch,u=a?e.effectiveOpacity():1;if(!(a&&(u===0||e.pstyle("text-opacity").value===0))){t==="main"&&(t=null);var f=Lt(s,"labelX",t),c=Lt(s,"labelY",t),d,v,p=this.getLabelText(e,t);if(p!=null&&p!==""&&!isNaN(f)&&!isNaN(c)){this.setupTextStyle(r,e,a);var g=t?t+"-":"",y=Lt(s,"labelWidth",t),x=Lt(s,"labelHeight",t),w=e.pstyle(g+"text-margin-x").pfValue,b=e.pstyle(g+"text-margin-y").pfValue,E=e.isEdge(),S=e.pstyle("text-halign").value,T=e.pstyle("text-valign").value;E&&(S="center",T="center"),f+=w,c+=b;var R;switch(n?R=this.getTextAngle(e,t):R=0,R!==0&&(d=f,v=c,r.translate(d,v),r.rotate(R),f=0,c=0),T){case"top":break;case"center":c+=x/2;break;case"bottom":c+=x;break}var A=e.pstyle("text-background-opacity").value,k=e.pstyle("text-border-opacity").value,P=e.pstyle("text-border-width").pfValue,D=e.pstyle("text-background-padding").pfValue,I=e.pstyle("text-background-shape").strValue,M=I==="round-rectangle"||I==="roundrectangle",L=I==="circle",N=2;if(A>0||P>0&&k>0){var z=r.fillStyle,G=r.strokeStyle,H=r.lineWidth,U=e.pstyle("text-background-color").value,F=e.pstyle("text-border-color").value,X=e.pstyle("text-border-style").value,K=A>0,B=P>0&&k>0,V=f-D;switch(S){case"left":V-=y;break;case"center":V-=y/2;break}var te=c-x-D,$=y+2*D,j=x+2*D;if(K&&(r.fillStyle="rgba(".concat(U[0],",").concat(U[1],",").concat(U[2],",").concat(A*u,")")),B&&(r.strokeStyle="rgba(".concat(F[0],",").concat(F[1],",").concat(F[2],",").concat(k*u,")"),r.lineWidth=P,r.setLineDash))switch(X){case"dotted":r.setLineDash([1,1]);break;case"dashed":r.setLineDash([4,2]);break;case"double":r.lineWidth=P/4,r.setLineDash([]);break;case"solid":default:r.setLineDash([]);break}if(M?(r.beginPath(),uS(r,V,te,$,j,N)):L?(r.beginPath(),Aq(r,V,te,$,j)):(r.beginPath(),r.rect(V,te,$,j)),K&&r.fill(),B&&r.stroke(),B&&X==="double"){var Y=P/2;r.beginPath(),M?uS(r,V+Y,te+Y,$-2*Y,j-2*Y,N):r.rect(V+Y,te+Y,$-2*Y,j-2*Y),r.stroke()}r.fillStyle=z,r.strokeStyle=G,r.lineWidth=H,r.setLineDash&&r.setLineDash([])}var ee=2*e.pstyle("text-outline-width").pfValue;if(ee>0&&(r.lineWidth=ee),e.pstyle("text-wrap").value==="wrap"){var le=Lt(s,"labelWrapCachedLines",t),ie=Lt(s,"labelLineHeight",t),Q=y/2,re=this.getLabelJustification(e);switch(re==="auto"||(S==="left"?re==="left"?f+=-y:re==="center"&&(f+=-Q):S==="center"?re==="left"?f+=-Q:re==="right"&&(f+=Q):S==="right"&&(re==="center"?f+=Q:re==="right"&&(f+=y))),T){case"top":c-=(le.length-1)*ie;break;case"center":case"bottom":c-=(le.length-1)*ie;break}for(var se=0;se<le.length;se++)ee>0&&r.strokeText(le[se],f,c),r.fillText(le[se],f,c),c+=ie}else ee>0&&r.strokeText(p,f,c),r.fillText(p,f,c);R!==0&&(r.rotate(-R),r.translate(-d,-v))}}};var Oa={};Oa.drawNode=function(r,e,t){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,i=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,s=this,u,f,c=e._private,d=c.rscratch,v=e.position();if(!(!Te(v.x)||!Te(v.y))&&!(i&&!e.visible())){var p=i?e.effectiveOpacity():1,g=s.usePaths(),y,x=!1,w=e.padding();u=e.width()+2*w,f=e.height()+2*w;var b;t&&(b=t,r.translate(-b.x1,-b.y1));for(var E=e.pstyle("background-image"),S=E.value,T=new Array(S.length),R=new Array(S.length),A=0,k=0;k<S.length;k++){var P=S[k],D=T[k]=P!=null&&P!=="none";if(D){var I=e.cy().style().getIndexedStyle(e,"background-image-crossorigin","value",k);A++,R[k]=s.getCachedImage(P,I,function(){c.backgroundTimestamp=Date.now(),e.emitAndNotify("background")})}}var M=e.pstyle("background-blacken").value,L=e.pstyle("border-width").pfValue,N=e.pstyle("background-opacity").value*p,z=e.pstyle("border-color").value,G=e.pstyle("border-style").value,H=e.pstyle("border-join").value,U=e.pstyle("border-cap").value,F=e.pstyle("border-position").value,X=e.pstyle("border-dash-pattern").pfValue,K=e.pstyle("border-dash-offset").pfValue,B=e.pstyle("border-opacity").value*p,V=e.pstyle("outline-width").pfValue,te=e.pstyle("outline-color").value,$=e.pstyle("outline-style").value,j=e.pstyle("outline-opacity").value*p,Y=e.pstyle("outline-offset").value,ee=e.pstyle("corner-radius").value;ee!=="auto"&&(ee=e.pstyle("corner-radius").pfValue);var le=function(){var _e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:N;s.eleFillStyle(r,e,_e)},ie=function(){var _e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:B;s.colorStrokeStyle(r,z[0],z[1],z[2],_e)},Q=function(){var _e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:j;s.colorStrokeStyle(r,te[0],te[1],te[2],_e)},re=function(_e,he,q,ne){var de=s.nodePathCache=s.nodePathCache||[],ve=nR(q==="polygon"?q+","+ne.join(","):q,""+he,""+_e,""+ee),pe=de[ve],De,ge=!1;return pe!=null?(De=pe,ge=!0,d.pathCache=De):(De=new Path2D,de[ve]=d.pathCache=De),{path:De,cacheHit:ge}},se=e.pstyle("shape").strValue,ce=e.pstyle("shape-polygon-points").pfValue;if(g){r.translate(v.x,v.y);var me=re(u,f,se,ce);y=me.path,x=me.cacheHit}var xe=function(){if(!x){var _e=v;g&&(_e={x:0,y:0}),s.nodeShapes[s.getNodeShape(e)].draw(y||r,_e.x,_e.y,u,f,ee,d)}g?r.fill(y):r.fill()},Ze=function(){for(var _e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:p,he=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,q=c.backgrounding,ne=0,de=0;de<R.length;de++){var ve=e.cy().style().getIndexedStyle(e,"background-image-containment","value",de);if(he&&ve==="over"||!he&&ve==="inside"){ne++;continue}T[de]&&R[de].complete&&!R[de].error&&(ne++,s.drawInscribedImage(r,R[de],e,de,_e))}c.backgrounding=ne!==A,q!==c.backgrounding&&e.updateStyle(!1)},Se=function(){var _e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,he=arguments.length>1&&arguments[1]!==void 0?arguments[1]:p;s.hasPie(e)&&(s.drawPie(r,e,he),_e&&(g||s.nodeShapes[s.getNodeShape(e)].draw(r,v.x,v.y,u,f,ee,d)))},Ve=function(){var _e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,he=arguments.length>1&&arguments[1]!==void 0?arguments[1]:p;s.hasStripe(e)&&(r.save(),g?r.clip(d.pathCache):(s.nodeShapes[s.getNodeShape(e)].draw(r,v.x,v.y,u,f,ee,d),r.clip()),s.drawStripe(r,e,he),r.restore(),_e&&(g||s.nodeShapes[s.getNodeShape(e)].draw(r,v.x,v.y,u,f,ee,d)))},Oe=function(){var _e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:p,he=(M>0?M:-M)*_e,q=M>0?0:255;M!==0&&(s.colorFillStyle(r,q,q,q,he),g?r.fill(y):r.fill())},Ce=function(){if(L>0){if(r.lineWidth=L,r.lineCap=U,r.lineJoin=H,r.setLineDash)switch(G){case"dotted":r.setLineDash([1,1]);break;case"dashed":r.setLineDash(X),r.lineDashOffset=K;break;case"solid":case"double":r.setLineDash([]);break}if(F!=="center"){if(r.save(),r.lineWidth*=2,F==="inside")g?r.clip(y):r.clip();else{var _e=new Path2D;_e.rect(-u/2-L,-f/2-L,u+2*L,f+2*L),_e.addPath(y),r.clip(_e,"evenodd")}g?r.stroke(y):r.stroke(),r.restore()}else g?r.stroke(y):r.stroke();if(G==="double"){r.lineWidth=L/3;var he=r.globalCompositeOperation;r.globalCompositeOperation="destination-out",g?r.stroke(y):r.stroke(),r.globalCompositeOperation=he}r.setLineDash&&r.setLineDash([])}},Ae=function(){if(V>0){if(r.lineWidth=V,r.lineCap="butt",r.setLineDash)switch($){case"dotted":r.setLineDash([1,1]);break;case"dashed":r.setLineDash([4,2]);break;case"solid":case"double":r.setLineDash([]);break}var _e=v;g&&(_e={x:0,y:0});var he=s.getNodeShape(e),q=L;F==="inside"&&(q=0),F==="outside"&&(q*=2);var ne=(u+q+(V+Y))/u,de=(f+q+(V+Y))/f,ve=u*ne,pe=f*de,De=s.nodeShapes[he].points,ge;if(g){var qe=re(ve,pe,he,De);ge=qe.path}if(he==="ellipse")s.drawEllipsePath(ge||r,_e.x,_e.y,ve,pe);else if(["round-diamond","round-heptagon","round-hexagon","round-octagon","round-pentagon","round-polygon","round-triangle","round-tag"].includes(he)){var ke=0,Ue=0,rr=0;he==="round-diamond"?ke=(q+Y+V)*1.4:he==="round-heptagon"?(ke=(q+Y+V)*1.075,rr=-(q/2+Y+V)/35):he==="round-hexagon"?ke=(q+Y+V)*1.12:he==="round-pentagon"?(ke=(q+Y+V)*1.13,rr=-(q/2+Y+V)/15):he==="round-tag"?(ke=(q+Y+V)*1.12,Ue=(q/2+V+Y)*.07):he==="round-triangle"&&(ke=(q+Y+V)*(Math.PI/2),rr=-(q+Y/2+V)/Math.PI),ke!==0&&(ne=(u+ke)/u,ve=u*ne,["round-hexagon","round-tag"].includes(he)||(de=(f+ke)/f,pe=f*de)),ee=ee==="auto"?vR(ve,pe):ee;for(var Qe=ve/2,Fe=pe/2,nr=ee+(q+V+Y)/2,tr=new Array(De.length/2),Ir=new Array(De.length/2),Er=0;Er<De.length/2;Er++)tr[Er]={x:_e.x+Ue+Qe*De[Er*2],y:_e.y+rr+Fe*De[Er*2+1]};var Vr,kr,Rr,$r,Mr=tr.length;for(kr=tr[Mr-1],Vr=0;Vr<Mr;Vr++)Rr=tr[Vr%Mr],$r=tr[(Vr+1)%Mr],Ir[Vr]=$0(kr,Rr,$r,nr),kr=Rr,Rr=$r;s.drawRoundPolygonPath(ge||r,_e.x+Ue,_e.y+rr,u*ne,f*de,De,Ir)}else if(["roundrectangle","round-rectangle"].includes(he))ee=ee==="auto"?_a(ve,pe):ee,s.drawRoundRectanglePath(ge||r,_e.x,_e.y,ve,pe,ee+(q+V+Y)/2);else if(["cutrectangle","cut-rectangle"].includes(he))ee=ee==="auto"?D0():ee,s.drawCutRectanglePath(ge||r,_e.x,_e.y,ve,pe,null,ee+(q+V+Y)/4);else if(["bottomroundrectangle","bottom-round-rectangle"].includes(he))ee=ee==="auto"?_a(ve,pe):ee,s.drawBottomRoundRectanglePath(ge||r,_e.x,_e.y,ve,pe,ee+(q+V+Y)/2);else if(he==="barrel")s.drawBarrelPath(ge||r,_e.x,_e.y,ve,pe);else if(he.startsWith("polygon")||["rhomboid","right-rhomboid","round-tag","tag","vee"].includes(he)){var zt=(q+V+Y)/u;De=Tl(_l(De,zt)),s.drawPolygonPath(ge||r,_e.x,_e.y,u,f,De)}else{var Sr=(q+V+Y)/u;De=Tl(_l(De,-Sr)),s.drawPolygonPath(ge||r,_e.x,_e.y,u,f,De)}if(g?r.stroke(ge):r.stroke(),$==="double"){r.lineWidth=q/3;var Vt=r.globalCompositeOperation;r.globalCompositeOperation="destination-out",g?r.stroke(ge):r.stroke(),r.globalCompositeOperation=Vt}r.setLineDash&&r.setLineDash([])}},Pe=function(){a&&s.drawNodeOverlay(r,e,v,u,f)},Ne=function(){a&&s.drawNodeUnderlay(r,e,v,u,f)},Be=function(){s.drawElementText(r,e,null,n)},Ye=e.pstyle("ghost").value==="yes";if(Ye){var ar=e.pstyle("ghost-offset-x").pfValue,sr=e.pstyle("ghost-offset-y").pfValue,er=e.pstyle("ghost-opacity").value,ur=er*p;r.translate(ar,sr),Q(),Ae(),le(er*N),xe(),Ze(ur,!0),ie(er*B),Ce(),Se(M!==0||L!==0),Ve(M!==0||L!==0),Ze(ur,!1),Oe(ur),r.translate(-ar,-sr)}g&&r.translate(-v.x,-v.y),Ne(),g&&r.translate(v.x,v.y),Q(),Ae(),le(),xe(),Ze(p,!0),ie(),Ce(),Se(M!==0||L!==0),Ve(M!==0||L!==0),Ze(p,!1),Oe(),g&&r.translate(-v.x,-v.y),Be(),Pe(),t&&r.translate(b.x1,b.y1)}};var wA=function(e){if(!["overlay","underlay"].includes(e))throw new Error("Invalid state");return function(t,n,a,i,s){var u=this;if(n.visible()){var f=n.pstyle("".concat(e,"-padding")).pfValue,c=n.pstyle("".concat(e,"-opacity")).value,d=n.pstyle("".concat(e,"-color")).value,v=n.pstyle("".concat(e,"-shape")).value,p=n.pstyle("".concat(e,"-corner-radius")).value;if(c>0){if(a=a||n.position(),i==null||s==null){var g=n.padding();i=n.width()+2*g,s=n.height()+2*g}u.colorFillStyle(t,d[0],d[1],d[2],c),u.nodeShapes[v].draw(t,a.x,a.y,i+f*2,s+f*2,p),t.fill()}}}};Oa.drawNodeOverlay=wA("overlay");Oa.drawNodeUnderlay=wA("underlay");Oa.hasPie=function(r){return r=r[0],r._private.hasPie};Oa.hasStripe=function(r){return r=r[0],r._private.hasStripe};Oa.drawPie=function(r,e,t,n){e=e[0],n=n||e.position();var a=e.cy().style(),i=e.pstyle("pie-size"),s=e.pstyle("pie-hole"),u=e.pstyle("pie-start-angle").pfValue,f=n.x,c=n.y,d=e.width(),v=e.height(),p=Math.min(d,v)/2,g,y=0,x=this.usePaths();if(x&&(f=0,c=0),i.units==="%"?p=p*i.pfValue:i.pfValue!==void 0&&(p=i.pfValue/2),s.units==="%"?g=p*s.pfValue:s.pfValue!==void 0&&(g=s.pfValue/2),!(g>=p))for(var w=1;w<=a.pieBackgroundN;w++){var b=e.pstyle("pie-"+w+"-background-size").value,E=e.pstyle("pie-"+w+"-background-color").value,S=e.pstyle("pie-"+w+"-background-opacity").value*t,T=b/100;T+y>1&&(T=1-y);var R=1.5*Math.PI+2*Math.PI*y;R+=u;var A=2*Math.PI*T,k=R+A;b===0||y>=1||y+T>1||(g===0?(r.beginPath(),r.moveTo(f,c),r.arc(f,c,p,R,k),r.closePath()):(r.beginPath(),r.arc(f,c,p,R,k),r.arc(f,c,g,k,R,!0),r.closePath()),this.colorFillStyle(r,E[0],E[1],E[2],S),r.fill(),y+=T)}};Oa.drawStripe=function(r,e,t,n){e=e[0],n=n||e.position();var a=e.cy().style(),i=n.x,s=n.y,u=e.width(),f=e.height(),c=0,d=this.usePaths();r.save();var v=e.pstyle("stripe-direction").value,p=e.pstyle("stripe-size");switch(v){case"vertical":break;case"righward":r.rotate(-Math.PI/2);break}var g=u,y=f;p.units==="%"?(g=g*p.pfValue,y=y*p.pfValue):p.pfValue!==void 0&&(g=p.pfValue,y=p.pfValue),d&&(i=0,s=0),s-=g/2,i-=y/2;for(var x=1;x<=a.stripeBackgroundN;x++){var w=e.pstyle("stripe-"+x+"-background-size").value,b=e.pstyle("stripe-"+x+"-background-color").value,E=e.pstyle("stripe-"+x+"-background-opacity").value*t,S=w/100;S+c>1&&(S=1-c),!(w===0||c>=1||c+S>1)&&(r.beginPath(),r.rect(i,s+y*c,g,y*S),r.closePath(),this.colorFillStyle(r,b[0],b[1],b[2],E),r.fill(),c+=S)}r.restore()};var At={},Pq=100;At.getPixelRatio=function(){var r=this.data.contexts[0];if(this.forcedPixelRatio!=null)return this.forcedPixelRatio;var e=this.cy.window(),t=r.backingStorePixelRatio||r.webkitBackingStorePixelRatio||r.mozBackingStorePixelRatio||r.msBackingStorePixelRatio||r.oBackingStorePixelRatio||r.backingStorePixelRatio||1;return(e.devicePixelRatio||1)/t};At.paintCache=function(r){for(var e=this.paintCaches=this.paintCaches||[],t=!0,n,a=0;a<e.length;a++)if(n=e[a],n.context===r){t=!1;break}return t&&(n={context:r},e.push(n)),n};At.createGradientStyleFor=function(r,e,t,n,a){var i,s=this.usePaths(),u=t.pstyle(e+"-gradient-stop-colors").value,f=t.pstyle(e+"-gradient-stop-positions").pfValue;if(n==="radial-gradient")if(t.isEdge()){var c=t.sourceEndpoint(),d=t.targetEndpoint(),v=t.midpoint(),p=oi(c,v),g=oi(d,v);i=r.createRadialGradient(v.x,v.y,0,v.x,v.y,Math.max(p,g))}else{var y=s?{x:0,y:0}:t.position(),x=t.paddedWidth(),w=t.paddedHeight();i=r.createRadialGradient(y.x,y.y,0,y.x,y.y,Math.max(x,w))}else if(t.isEdge()){var b=t.sourceEndpoint(),E=t.targetEndpoint();i=r.createLinearGradient(b.x,b.y,E.x,E.y)}else{var S=s?{x:0,y:0}:t.position(),T=t.paddedWidth(),R=t.paddedHeight(),A=T/2,k=R/2,P=t.pstyle("background-gradient-direction").value;switch(P){case"to-bottom":i=r.createLinearGradient(S.x,S.y-k,S.x,S.y+k);break;case"to-top":i=r.createLinearGradient(S.x,S.y+k,S.x,S.y-k);break;case"to-left":i=r.createLinearGradient(S.x+A,S.y,S.x-A,S.y);break;case"to-right":i=r.createLinearGradient(S.x-A,S.y,S.x+A,S.y);break;case"to-bottom-right":case"to-right-bottom":i=r.createLinearGradient(S.x-A,S.y-k,S.x+A,S.y+k);break;case"to-top-right":case"to-right-top":i=r.createLinearGradient(S.x-A,S.y+k,S.x+A,S.y-k);break;case"to-bottom-left":case"to-left-bottom":i=r.createLinearGradient(S.x+A,S.y-k,S.x-A,S.y+k);break;case"to-top-left":case"to-left-top":i=r.createLinearGradient(S.x+A,S.y+k,S.x-A,S.y-k);break}}if(!i)return null;for(var D=f.length===u.length,I=u.length,M=0;M<I;M++)i.addColorStop(D?f[M]:M/(I-1),"rgba("+u[M][0]+","+u[M][1]+","+u[M][2]+","+a+")");return i};At.gradientFillStyle=function(r,e,t,n){var a=this.createGradientStyleFor(r,"background",e,t,n);if(!a)return null;r.fillStyle=a};At.colorFillStyle=function(r,e,t,n,a){r.fillStyle="rgba("+e+","+t+","+n+","+a+")"};At.eleFillStyle=function(r,e,t){var n=e.pstyle("background-fill").value;if(n==="linear-gradient"||n==="radial-gradient")this.gradientFillStyle(r,e,n,t);else{var a=e.pstyle("background-color").value;this.colorFillStyle(r,a[0],a[1],a[2],t)}};At.gradientStrokeStyle=function(r,e,t,n){var a=this.createGradientStyleFor(r,"line",e,t,n);if(!a)return null;r.strokeStyle=a};At.colorStrokeStyle=function(r,e,t,n,a){r.strokeStyle="rgba("+e+","+t+","+n+","+a+")"};At.eleStrokeStyle=function(r,e,t){var n=e.pstyle("line-fill").value;if(n==="linear-gradient"||n==="radial-gradient")this.gradientStrokeStyle(r,e,n,t);else{var a=e.pstyle("line-color").value;this.colorStrokeStyle(r,a[0],a[1],a[2],t)}};At.matchCanvasSize=function(r){var e=this,t=e.data,n=e.findContainerClientCoords(),a=n[2],i=n[3],s=e.getPixelRatio(),u=e.motionBlurPxRatio;(r===e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_NODE]||r===e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_DRAG])&&(s=u);var f=a*s,c=i*s,d;if(!(f===e.canvasWidth&&c===e.canvasHeight)){e.fontCaches=null;var v=t.canvasContainer;v.style.width=a+"px",v.style.height=i+"px";for(var p=0;p<e.CANVAS_LAYERS;p++)d=t.canvases[p],d.width=f,d.height=c,d.style.width=a+"px",d.style.height=i+"px";for(var p=0;p<e.BUFFER_COUNT;p++)d=t.bufferCanvases[p],d.width=f,d.height=c,d.style.width=a+"px",d.style.height=i+"px";e.textureMult=1,s<=1&&(d=t.bufferCanvases[e.TEXTURE_BUFFER],e.textureMult=2,d.width=f*e.textureMult,d.height=c*e.textureMult),e.canvasWidth=f,e.canvasHeight=c,e.pixelRatio=s}};At.renderTo=function(r,e,t,n){this.render({forcedContext:r,forcedZoom:e,forcedPan:t,drawAllLayers:!0,forcedPxRatio:n})};At.clearCanvas=function(){var r=this,e=r.data;function t(n){n.clearRect(0,0,r.canvasWidth,r.canvasHeight)}t(e.contexts[r.NODE]),t(e.contexts[r.DRAG])};At.render=function(r){var e=this;r=r||sR();var t=e.cy,n=r.forcedContext,a=r.drawAllLayers,i=r.drawOnlyNodeLayer,s=r.forcedZoom,u=r.forcedPan,f=r.forcedPxRatio===void 0?this.getPixelRatio():r.forcedPxRatio,c=e.data,d=c.canvasNeedsRedraw,v=e.textureOnViewport&&!n&&(e.pinching||e.hoverData.dragging||e.swipePanning||e.data.wheelZooming),p=r.motionBlur!==void 0?r.motionBlur:e.motionBlur,g=e.motionBlurPxRatio,y=t.hasCompoundNodes(),x=e.hoverData.draggingEles,w=!!(e.hoverData.selecting||e.touchData.selecting);p=p&&!n&&e.motionBlurEnabled&&!w;var b=p;n||(e.prevPxRatio!==f&&(e.invalidateContainerClientCoordsCache(),e.matchCanvasSize(e.container),e.redrawHint("eles",!0),e.redrawHint("drag",!0)),e.prevPxRatio=f),!n&&e.motionBlurTimeout&&clearTimeout(e.motionBlurTimeout),p&&(e.mbFrames==null&&(e.mbFrames=0),e.mbFrames++,e.mbFrames<3&&(b=!1),e.mbFrames>e.minMbLowQualFrames&&(e.motionBlurPxRatio=e.mbPxRBlurry)),e.clearingMotionBlur&&(e.motionBlurPxRatio=1),e.textureDrawLastFrame&&!v&&(d[e.NODE]=!0,d[e.SELECT_BOX]=!0);var E=t.style(),S=t.zoom(),T=s!==void 0?s:S,R=t.pan(),A={x:R.x,y:R.y},k={zoom:S,pan:{x:R.x,y:R.y}},P=e.prevViewport,D=P===void 0||k.zoom!==P.zoom||k.pan.x!==P.pan.x||k.pan.y!==P.pan.y;!D&&!(x&&!y)&&(e.motionBlurPxRatio=1),u&&(A=u),T*=f,A.x*=f,A.y*=f;var I=e.getCachedZSortedEles();function M(ie,Q,re,se,ce){var me=ie.globalCompositeOperation;ie.globalCompositeOperation="destination-out",e.colorFillStyle(ie,255,255,255,e.motionBlurTransparency),ie.fillRect(Q,re,se,ce),ie.globalCompositeOperation=me}function L(ie,Q){var re,se,ce,me;!e.clearingMotionBlur&&(ie===c.bufferContexts[e.MOTIONBLUR_BUFFER_NODE]||ie===c.bufferContexts[e.MOTIONBLUR_BUFFER_DRAG])?(re={x:R.x*g,y:R.y*g},se=S*g,ce=e.canvasWidth*g,me=e.canvasHeight*g):(re=A,se=T,ce=e.canvasWidth,me=e.canvasHeight),ie.setTransform(1,0,0,1,0,0),Q==="motionBlur"?M(ie,0,0,ce,me):!n&&(Q===void 0||Q)&&ie.clearRect(0,0,ce,me),a||(ie.translate(re.x,re.y),ie.scale(se,se)),u&&ie.translate(u.x,u.y),s&&ie.scale(s,s)}if(v||(e.textureDrawLastFrame=!1),v){if(e.textureDrawLastFrame=!0,!e.textureCache){e.textureCache={},e.textureCache.bb=t.mutableElements().boundingBox(),e.textureCache.texture=e.data.bufferCanvases[e.TEXTURE_BUFFER];var N=e.data.bufferContexts[e.TEXTURE_BUFFER];N.setTransform(1,0,0,1,0,0),N.clearRect(0,0,e.canvasWidth*e.textureMult,e.canvasHeight*e.textureMult),e.render({forcedContext:N,drawOnlyNodeLayer:!0,forcedPxRatio:f*e.textureMult});var k=e.textureCache.viewport={zoom:t.zoom(),pan:t.pan(),width:e.canvasWidth,height:e.canvasHeight};k.mpan={x:(0-k.pan.x)/k.zoom,y:(0-k.pan.y)/k.zoom}}d[e.DRAG]=!1,d[e.NODE]=!1;var z=c.contexts[e.NODE],G=e.textureCache.texture,k=e.textureCache.viewport;z.setTransform(1,0,0,1,0,0),p?M(z,0,0,k.width,k.height):z.clearRect(0,0,k.width,k.height);var H=E.core("outside-texture-bg-color").value,U=E.core("outside-texture-bg-opacity").value;e.colorFillStyle(z,H[0],H[1],H[2],U),z.fillRect(0,0,k.width,k.height);var S=t.zoom();L(z,!1),z.clearRect(k.mpan.x,k.mpan.y,k.width/k.zoom/f,k.height/k.zoom/f),z.drawImage(G,k.mpan.x,k.mpan.y,k.width/k.zoom/f,k.height/k.zoom/f)}else e.textureOnViewport&&!n&&(e.textureCache=null);var F=t.extent(),X=e.pinching||e.hoverData.dragging||e.swipePanning||e.data.wheelZooming||e.hoverData.draggingEles||e.cy.animated(),K=e.hideEdgesOnViewport&&X,B=[];if(B[e.NODE]=!d[e.NODE]&&p&&!e.clearedForMotionBlur[e.NODE]||e.clearingMotionBlur,B[e.NODE]&&(e.clearedForMotionBlur[e.NODE]=!0),B[e.DRAG]=!d[e.DRAG]&&p&&!e.clearedForMotionBlur[e.DRAG]||e.clearingMotionBlur,B[e.DRAG]&&(e.clearedForMotionBlur[e.DRAG]=!0),d[e.NODE]||a||i||B[e.NODE]){var V=p&&!B[e.NODE]&&g!==1,z=n||(V?e.data.bufferContexts[e.MOTIONBLUR_BUFFER_NODE]:c.contexts[e.NODE]),te=p&&!V?"motionBlur":void 0;L(z,te),K?e.drawCachedNodes(z,I.nondrag,f,F):e.drawLayeredElements(z,I.nondrag,f,F),e.debug&&e.drawDebugPoints(z,I.nondrag),!a&&!p&&(d[e.NODE]=!1)}if(!i&&(d[e.DRAG]||a||B[e.DRAG])){var V=p&&!B[e.DRAG]&&g!==1,z=n||(V?e.data.bufferContexts[e.MOTIONBLUR_BUFFER_DRAG]:c.contexts[e.DRAG]);L(z,p&&!V?"motionBlur":void 0),K?e.drawCachedNodes(z,I.drag,f,F):e.drawCachedElements(z,I.drag,f,F),e.debug&&e.drawDebugPoints(z,I.drag),!a&&!p&&(d[e.DRAG]=!1)}if(this.drawSelectionRectangle(r,L),p&&g!==1){var $=c.contexts[e.NODE],j=e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_NODE],Y=c.contexts[e.DRAG],ee=e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_DRAG],le=function(Q,re,se){Q.setTransform(1,0,0,1,0,0),se||!b?Q.clearRect(0,0,e.canvasWidth,e.canvasHeight):M(Q,0,0,e.canvasWidth,e.canvasHeight);var ce=g;Q.drawImage(re,0,0,e.canvasWidth*ce,e.canvasHeight*ce,0,0,e.canvasWidth,e.canvasHeight)};(d[e.NODE]||B[e.NODE])&&(le($,j,B[e.NODE]),d[e.NODE]=!1),(d[e.DRAG]||B[e.DRAG])&&(le(Y,ee,B[e.DRAG]),d[e.DRAG]=!1)}e.prevViewport=k,e.clearingMotionBlur&&(e.clearingMotionBlur=!1,e.motionBlurCleared=!0,e.motionBlur=!0),p&&(e.motionBlurTimeout=setTimeout(function(){e.motionBlurTimeout=null,e.clearedForMotionBlur[e.NODE]=!1,e.clearedForMotionBlur[e.DRAG]=!1,e.motionBlur=!1,e.clearingMotionBlur=!v,e.mbFrames=0,d[e.NODE]=!0,d[e.DRAG]=!0,e.redraw()},Pq)),n||t.emit("render")};var os;At.drawSelectionRectangle=function(r,e){var t=this,n=t.cy,a=t.data,i=n.style(),s=r.drawOnlyNodeLayer,u=r.drawAllLayers,f=a.canvasNeedsRedraw,c=r.forcedContext;if(t.showFps||!s&&f[t.SELECT_BOX]&&!u){var d=c||a.contexts[t.SELECT_BOX];if(e(d),t.selection[4]==1&&(t.hoverData.selecting||t.touchData.selecting)){var v=t.cy.zoom(),p=i.core("selection-box-border-width").value/v;d.lineWidth=p,d.fillStyle="rgba("+i.core("selection-box-color").value[0]+","+i.core("selection-box-color").value[1]+","+i.core("selection-box-color").value[2]+","+i.core("selection-box-opacity").value+")",d.fillRect(t.selection[0],t.selection[1],t.selection[2]-t.selection[0],t.selection[3]-t.selection[1]),p>0&&(d.strokeStyle="rgba("+i.core("selection-box-border-color").value[0]+","+i.core("selection-box-border-color").value[1]+","+i.core("selection-box-border-color").value[2]+","+i.core("selection-box-opacity").value+")",d.strokeRect(t.selection[0],t.selection[1],t.selection[2]-t.selection[0],t.selection[3]-t.selection[1]))}if(a.bgActivePosistion&&!t.hoverData.selecting){var v=t.cy.zoom(),g=a.bgActivePosistion;d.fillStyle="rgba("+i.core("active-bg-color").value[0]+","+i.core("active-bg-color").value[1]+","+i.core("active-bg-color").value[2]+","+i.core("active-bg-opacity").value+")",d.beginPath(),d.arc(g.x,g.y,i.core("active-bg-size").pfValue/v,0,2*Math.PI),d.fill()}var y=t.lastRedrawTime;if(t.showFps&&y){y=Math.round(y);var x=Math.round(1e3/y),w="1 frame = "+y+" ms = "+x+" fps";if(d.setTransform(1,0,0,1,0,0),d.fillStyle="rgba(255, 0, 0, 0.75)",d.strokeStyle="rgba(255, 0, 0, 0.75)",d.font="30px Arial",!os){var b=d.measureText(w);os=b.actualBoundingBoxAscent}d.fillText(w,0,os);var E=60;d.strokeRect(0,os+10,250,20),d.fillRect(0,os+10,250*Math.min(x/E,1),20)}u||(f[t.SELECT_BOX]=!1)}};function lS(r,e,t){var n=r.createShader(e);if(r.shaderSource(n,t),r.compileShader(n),!r.getShaderParameter(n,r.COMPILE_STATUS))throw new Error(r.getShaderInfoLog(n));return n}function Dq(r,e,t){var n=lS(r,r.VERTEX_SHADER,e),a=lS(r,r.FRAGMENT_SHADER,t),i=r.createProgram();if(r.attachShader(i,n),r.attachShader(i,a),r.linkProgram(i),!r.getProgramParameter(i,r.LINK_STATUS))throw new Error("Could not initialize shaders");return i}function Iq(r,e,t){t===void 0&&(t=e);var n=r.makeOffscreenCanvas(e,t),a=n.context=n.getContext("2d");return n.clear=function(){return a.clearRect(0,0,n.width,n.height)},n.clear(),n}function j0(r){var e=r.pixelRatio,t=r.cy.zoom(),n=r.cy.pan();return{zoom:t*e,pan:{x:n.x*e,y:n.y*e}}}function Mq(r){var e=r.pixelRatio,t=r.cy.zoom();return t*e}function Oq(r,e,t,n,a){var i=n*t+e.x,s=a*t+e.y;return s=Math.round(r.canvasHeight-s),[i,s]}function Nq(r){return r.pstyle("background-fill").value!=="solid"||r.pstyle("background-image").strValue!=="none"?!1:r.pstyle("border-width").value===0||r.pstyle("border-opacity").value===0?!0:r.pstyle("border-style").value==="solid"}function Lq(r,e){if(r.length!==e.length)return!1;for(var t=0;t<r.length;t++)if(r[t]!==e[t])return!1;return!0}function Ja(r,e,t){var n=r[0]/255,a=r[1]/255,i=r[2]/255,s=e,u=t||new Array(4);return u[0]=n*s,u[1]=a*s,u[2]=i*s,u[3]=s,u}function Wi(r,e){var t=e||new Array(4);return t[0]=(r>>0&255)/255,t[1]=(r>>8&255)/255,t[2]=(r>>16&255)/255,t[3]=(r>>24&255)/255,t}function Bq(r){return r[0]+(r[1]<<8)+(r[2]<<16)+(r[3]<<24)}function qq(r,e){var t=r.createTexture();return t.buffer=function(n){r.bindTexture(r.TEXTURE_2D,t),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,r.LINEAR),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.LINEAR_MIPMAP_NEAREST),r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),r.texImage2D(r.TEXTURE_2D,0,r.RGBA,r.RGBA,r.UNSIGNED_BYTE,n),r.generateMipmap(r.TEXTURE_2D),r.bindTexture(r.TEXTURE_2D,null)},t.deleteTexture=function(){r.deleteTexture(t)},t}function bA(r,e){switch(e){case"float":return[1,r.FLOAT,4];case"vec2":return[2,r.FLOAT,4];case"vec3":return[3,r.FLOAT,4];case"vec4":return[4,r.FLOAT,4];case"int":return[1,r.INT,4];case"ivec2":return[2,r.INT,4]}}function xA(r,e,t){switch(e){case r.FLOAT:return new Float32Array(t);case r.INT:return new Int32Array(t)}}function Fq(r,e,t,n,a,i){switch(e){case r.FLOAT:return new Float32Array(t.buffer,i*n,a);case r.INT:return new Int32Array(t.buffer,i*n,a)}}function zq(r,e,t,n){var a=bA(r,e),i=Hr(a,2),s=i[0],u=i[1],f=xA(r,u,n),c=r.createBuffer();return r.bindBuffer(r.ARRAY_BUFFER,c),r.bufferData(r.ARRAY_BUFFER,f,r.STATIC_DRAW),u===r.FLOAT?r.vertexAttribPointer(t,s,u,!1,0,0):u===r.INT&&r.vertexAttribIPointer(t,s,u,0,0),r.enableVertexAttribArray(t),r.bindBuffer(r.ARRAY_BUFFER,null),c}function Cn(r,e,t,n){var a=bA(r,t),i=Hr(a,3),s=i[0],u=i[1],f=i[2],c=xA(r,u,e*s),d=s*f,v=r.createBuffer();r.bindBuffer(r.ARRAY_BUFFER,v),r.bufferData(r.ARRAY_BUFFER,e*d,r.DYNAMIC_DRAW),r.enableVertexAttribArray(n),u===r.FLOAT?r.vertexAttribPointer(n,s,u,!1,d,0):u===r.INT&&r.vertexAttribIPointer(n,s,u,d,0),r.vertexAttribDivisor(n,1),r.bindBuffer(r.ARRAY_BUFFER,null);for(var p=new Array(e),g=0;g<e;g++)p[g]=Fq(r,u,c,d,s,g);return v.dataArray=c,v.stride=d,v.size=s,v.getView=function(y){return p[y]},v.setPoint=function(y,x,w){var b=p[y];b[0]=x,b[1]=w},v.bufferSubData=function(y){r.bindBuffer(r.ARRAY_BUFFER,v),y?r.bufferSubData(r.ARRAY_BUFFER,0,c,0,y*s):r.bufferSubData(r.ARRAY_BUFFER,0,c)},v}function Vq(r,e,t){for(var n=9,a=new Float32Array(e*n),i=new Array(e),s=0;s<e;s++){var u=s*n*4;i[s]=new Float32Array(a.buffer,u,n)}var f=r.createBuffer();r.bindBuffer(r.ARRAY_BUFFER,f),r.bufferData(r.ARRAY_BUFFER,a.byteLength,r.DYNAMIC_DRAW);for(var c=0;c<3;c++){var d=t+c;r.enableVertexAttribArray(d),r.vertexAttribPointer(d,3,r.FLOAT,!1,36,c*12),r.vertexAttribDivisor(d,1)}return r.bindBuffer(r.ARRAY_BUFFER,null),f.getMatrixView=function(v){return i[v]},f.setData=function(v,p){i[p].set(v,0)},f.bufferSubData=function(){r.bindBuffer(r.ARRAY_BUFFER,f),r.bufferSubData(r.ARRAY_BUFFER,0,a)},f}function $q(r){var e=r.createFramebuffer();r.bindFramebuffer(r.FRAMEBUFFER,e);var t=r.createTexture();return r.bindTexture(r.TEXTURE_2D,t),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.LINEAR),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE),r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,t,0),r.bindFramebuffer(r.FRAMEBUFFER,null),e.setFramebufferAttachmentSizes=function(n,a){r.bindTexture(r.TEXTURE_2D,t),r.texImage2D(r.TEXTURE_2D,0,r.RGBA,n,a,0,r.RGBA,r.UNSIGNED_BYTE,null)},e}var fS=typeof Float32Array<"u"?Float32Array:Array;Math.hypot||(Math.hypot=function(){for(var r=0,e=arguments.length;e--;)r+=arguments[e]*arguments[e];return Math.sqrt(r)});function Pv(){var r=new fS(9);return fS!=Float32Array&&(r[1]=0,r[2]=0,r[3]=0,r[5]=0,r[6]=0,r[7]=0),r[0]=1,r[4]=1,r[8]=1,r}function cS(r){return r[0]=1,r[1]=0,r[2]=0,r[3]=0,r[4]=1,r[5]=0,r[6]=0,r[7]=0,r[8]=1,r}function Uq(r,e,t){var n=e[0],a=e[1],i=e[2],s=e[3],u=e[4],f=e[5],c=e[6],d=e[7],v=e[8],p=t[0],g=t[1],y=t[2],x=t[3],w=t[4],b=t[5],E=t[6],S=t[7],T=t[8];return r[0]=p*n+g*s+y*c,r[1]=p*a+g*u+y*d,r[2]=p*i+g*f+y*v,r[3]=x*n+w*s+b*c,r[4]=x*a+w*u+b*d,r[5]=x*i+w*f+b*v,r[6]=E*n+S*s+T*c,r[7]=E*a+S*u+T*d,r[8]=E*i+S*f+T*v,r}function wl(r,e,t){var n=e[0],a=e[1],i=e[2],s=e[3],u=e[4],f=e[5],c=e[6],d=e[7],v=e[8],p=t[0],g=t[1];return r[0]=n,r[1]=a,r[2]=i,r[3]=s,r[4]=u,r[5]=f,r[6]=p*n+g*s+c,r[7]=p*a+g*u+d,r[8]=p*i+g*f+v,r}function dS(r,e,t){var n=e[0],a=e[1],i=e[2],s=e[3],u=e[4],f=e[5],c=e[6],d=e[7],v=e[8],p=Math.sin(t),g=Math.cos(t);return r[0]=g*n+p*s,r[1]=g*a+p*u,r[2]=g*i+p*f,r[3]=g*s-p*n,r[4]=g*u-p*a,r[5]=g*f-p*i,r[6]=c,r[7]=d,r[8]=v,r}function p0(r,e,t){var n=t[0],a=t[1];return r[0]=n*e[0],r[1]=n*e[1],r[2]=n*e[2],r[3]=a*e[3],r[4]=a*e[4],r[5]=a*e[5],r[6]=e[6],r[7]=e[7],r[8]=e[8],r}function Gq(r,e,t){return r[0]=2/e,r[1]=0,r[2]=0,r[3]=0,r[4]=-2/t,r[5]=0,r[6]=-1,r[7]=1,r[8]=1,r}var jq=(function(){function r(e,t,n,a){Da(this,r),this.debugID=Math.floor(Math.random()*1e4),this.r=e,this.texSize=t,this.texRows=n,this.texHeight=Math.floor(t/n),this.enableWrapping=!0,this.locked=!1,this.texture=null,this.needsBuffer=!0,this.freePointer={x:0,row:0},this.keyToLocation=new Map,this.canvas=a(e,t,t),this.scratch=a(e,t,this.texHeight,"scratch")}return Ia(r,[{key:"lock",value:function(){this.locked=!0}},{key:"getKeys",value:function(){return new Set(this.keyToLocation.keys())}},{key:"getScale",value:function(t){var n=t.w,a=t.h,i=this.texHeight,s=this.texSize,u=i/a,f=n*u,c=a*u;return f>s&&(u=s/n,f=n*u,c=a*u),{scale:u,texW:f,texH:c}}},{key:"draw",value:function(t,n,a){var i=this;if(this.locked)throw new Error("can't draw, atlas is locked");var s=this.texSize,u=this.texRows,f=this.texHeight,c=this.getScale(n),d=c.scale,v=c.texW,p=c.texH,g=function(S,T){if(a&&T){var R=T.context,A=S.x,k=S.row,P=A,D=f*k;R.save(),R.translate(P,D),R.scale(d,d),a(R,n),R.restore()}},y=[null,null],x=function(){g(i.freePointer,i.canvas),y[0]={x:i.freePointer.x,y:i.freePointer.row*f,w:v,h:p},y[1]={x:i.freePointer.x+v,y:i.freePointer.row*f,w:0,h:p},i.freePointer.x+=v,i.freePointer.x==s&&(i.freePointer.x=0,i.freePointer.row++)},w=function(){var S=i.scratch,T=i.canvas;S.clear(),g({x:0,row:0},S);var R=s-i.freePointer.x,A=v-R,k=f;{var P=i.freePointer.x,D=i.freePointer.row*f,I=R;T.context.drawImage(S,0,0,I,k,P,D,I,k),y[0]={x:P,y:D,w:I,h:p}}{var M=R,L=(i.freePointer.row+1)*f,N=A;T&&T.context.drawImage(S,M,0,N,k,0,L,N,k),y[1]={x:0,y:L,w:N,h:p}}i.freePointer.x=A,i.freePointer.row++},b=function(){i.freePointer.x=0,i.freePointer.row++};if(this.freePointer.x+v<=s)x();else{if(this.freePointer.row>=u-1)return!1;this.freePointer.x===s?(b(),x()):this.enableWrapping?w():(b(),x())}return this.keyToLocation.set(t,y),this.needsBuffer=!0,y}},{key:"getOffsets",value:function(t){return this.keyToLocation.get(t)}},{key:"isEmpty",value:function(){return this.freePointer.x===0&&this.freePointer.row===0}},{key:"canFit",value:function(t){if(this.locked)return!1;var n=this.texSize,a=this.texRows,i=this.getScale(t),s=i.texW;return this.freePointer.x+s>n?this.freePointer.row<a-1:!0}},{key:"bufferIfNeeded",value:function(t){this.texture||(this.texture=qq(t,this.debugID)),this.needsBuffer&&(this.texture.buffer(this.canvas),this.needsBuffer=!1,this.locked&&(this.canvas=null,this.scratch=null))}},{key:"dispose",value:function(){this.texture&&(this.texture.deleteTexture(),this.texture=null),this.canvas=null,this.scratch=null,this.locked=!0}}])})(),Hq=(function(){function r(e,t,n,a){Da(this,r),this.r=e,this.texSize=t,this.texRows=n,this.createTextureCanvas=a,this.atlases=[],this.styleKeyToAtlas=new Map,this.markedKeys=new Set}return Ia(r,[{key:"getKeys",value:function(){return new Set(this.styleKeyToAtlas.keys())}},{key:"_createAtlas",value:function(){var t=this.r,n=this.texSize,a=this.texRows,i=this.createTextureCanvas;return new jq(t,n,a,i)}},{key:"_getScratchCanvas",value:function(){if(!this.scratch){var t=this.r,n=this.texSize,a=this.texRows,i=this.createTextureCanvas,s=Math.floor(n/a);this.scratch=i(t,n,s,"scratch")}return this.scratch}},{key:"draw",value:function(t,n,a){var i=this.styleKeyToAtlas.get(t);return i||(i=this.atlases[this.atlases.length-1],(!i||!i.canFit(n))&&(i&&i.lock(),i=this._createAtlas(),this.atlases.push(i)),i.draw(t,n,a),this.styleKeyToAtlas.set(t,i)),i}},{key:"getAtlas",value:function(t){return this.styleKeyToAtlas.get(t)}},{key:"hasAtlas",value:function(t){return this.styleKeyToAtlas.has(t)}},{key:"markKeyForGC",value:function(t){this.markedKeys.add(t)}},{key:"gc",value:function(){var t=this,n=this.markedKeys;if(n.size===0){console.log("nothing to garbage collect");return}var a=[],i=new Map,s=null,u=qt(this.atlases),f;try{var c=function(){var v=f.value,p=v.getKeys(),g=Wq(n,p);if(g.size===0)return a.push(v),p.forEach(function(R){return i.set(R,v)}),1;s||(s=t._createAtlas(),a.push(s));var y=qt(p),x;try{for(y.s();!(x=y.n()).done;){var w=x.value;if(!g.has(w)){var b=v.getOffsets(w),E=Hr(b,2),S=E[0],T=E[1];s.canFit({w:S.w+T.w,h:S.h})||(s.lock(),s=t._createAtlas(),a.push(s)),v.canvas&&(t._copyTextureToNewAtlas(w,v,s),i.set(w,s))}}}catch(R){y.e(R)}finally{y.f()}v.dispose()};for(u.s();!(f=u.n()).done;)c()}catch(d){u.e(d)}finally{u.f()}this.atlases=a,this.styleKeyToAtlas=i,this.markedKeys=new Set}},{key:"_copyTextureToNewAtlas",value:function(t,n,a){var i=n.getOffsets(t),s=Hr(i,2),u=s[0],f=s[1];if(f.w===0)a.draw(t,u,function(p){p.drawImage(n.canvas,u.x,u.y,u.w,u.h,0,0,u.w,u.h)});else{var c=this._getScratchCanvas();c.clear(),c.context.drawImage(n.canvas,u.x,u.y,u.w,u.h,0,0,u.w,u.h),c.context.drawImage(n.canvas,f.x,f.y,f.w,f.h,u.w,0,f.w,f.h);var d=u.w+f.w,v=u.h;a.draw(t,{w:d,h:v},function(p){p.drawImage(c,0,0,d,v,0,0,d,v)})}}},{key:"getCounts",value:function(){return{keyCount:this.styleKeyToAtlas.size,atlasCount:new Set(this.styleKeyToAtlas.values()).size}}}])})();function Wq(r,e){return r.intersection?r.intersection(e):new Set(xl(r).filter(function(t){return e.has(t)}))}var Kq=(function(){function r(e,t){Da(this,r),this.r=e,this.globalOptions=t,this.atlasSize=t.webglTexSize,this.maxAtlasesPerBatch=t.webglTexPerBatch,this.renderTypes=new Map,this.collections=new Map,this.typeAndIdToKey=new Map}return Ia(r,[{key:"getAtlasSize",value:function(){return this.atlasSize}},{key:"addAtlasCollection",value:function(t,n){var a=this.globalOptions,i=a.webglTexSize,s=a.createTextureCanvas,u=n.texRows,f=this._cacheScratchCanvas(s),c=new Hq(this.r,i,u,f);this.collections.set(t,c)}},{key:"addRenderType",value:function(t,n){var a=n.collection;if(!this.collections.has(a))throw new Error("invalid atlas collection name '".concat(a,"'"));var i=this.collections.get(a),s=Ke({type:t,atlasCollection:i},n);this.renderTypes.set(t,s)}},{key:"getRenderTypeOpts",value:function(t){return this.renderTypes.get(t)}},{key:"getAtlasCollection",value:function(t){return this.collections.get(t)}},{key:"_cacheScratchCanvas",value:function(t){var n=-1,a=-1,i=null;return function(s,u,f,c){return c?((!i||u!=n||f!=a)&&(n=u,a=f,i=t(s,u,f)),i):t(s,u,f)}}},{key:"_key",value:function(t,n){return"".concat(t,"-").concat(n)}},{key:"invalidate",value:function(t){var n=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=a.forceRedraw,s=i===void 0?!1:i,u=a.filterEle,f=u===void 0?function(){return!0}:u,c=a.filterType,d=c===void 0?function(){return!0}:c,v=!1,p=!1,g=qt(t),y;try{for(g.s();!(y=g.n()).done;){var x=y.value;if(f(x)){var w=qt(this.renderTypes.values()),b;try{var E=function(){var T=b.value,R=T.type;if(d(R)){var A=n.collections.get(T.collection),k=T.getKey(x),P=Array.isArray(k)?k:[k];if(s)P.forEach(function(L){return A.markKeyForGC(L)}),p=!0;else{var D=T.getID?T.getID(x):x.id(),I=n._key(R,D),M=n.typeAndIdToKey.get(I);M!==void 0&&!Lq(P,M)&&(v=!0,n.typeAndIdToKey.delete(I),M.forEach(function(L){return A.markKeyForGC(L)}))}}};for(w.s();!(b=w.n()).done;)E()}catch(S){w.e(S)}finally{w.f()}}}}catch(S){g.e(S)}finally{g.f()}return p&&(this.gc(),v=!1),v}},{key:"gc",value:function(){var t=qt(this.collections.values()),n;try{for(t.s();!(n=t.n()).done;){var a=n.value;a.gc()}}catch(i){t.e(i)}finally{t.f()}}},{key:"getOrCreateAtlas",value:function(t,n,a,i){var s=this.renderTypes.get(n),u=this.collections.get(s.collection),f=!1,c=u.draw(i,a,function(p){s.drawClipped?(p.save(),p.beginPath(),p.rect(0,0,a.w,a.h),p.clip(),s.drawElement(p,t,a,!0,!0),p.restore()):s.drawElement(p,t,a,!0,!0),f=!0});if(f){var d=s.getID?s.getID(t):t.id(),v=this._key(n,d);this.typeAndIdToKey.has(v)?this.typeAndIdToKey.get(v).push(i):this.typeAndIdToKey.set(v,[i])}return c}},{key:"getAtlasInfo",value:function(t,n){var a=this,i=this.renderTypes.get(n),s=i.getKey(t),u=Array.isArray(s)?s:[s];return u.map(function(f){var c=i.getBoundingBox(t,f),d=a.getOrCreateAtlas(t,n,c,f),v=d.getOffsets(f),p=Hr(v,2),g=p[0],y=p[1];return{atlas:d,tex:g,tex1:g,tex2:y,bb:c}})}},{key:"getDebugInfo",value:function(){var t=[],n=qt(this.collections),a;try{for(n.s();!(a=n.n()).done;){var i=Hr(a.value,2),s=i[0],u=i[1],f=u.getCounts(),c=f.keyCount,d=f.atlasCount;t.push({type:s,keyCount:c,atlasCount:d})}}catch(v){n.e(v)}finally{n.f()}return t}}])})(),Yq=(function(){function r(e){Da(this,r),this.globalOptions=e,this.atlasSize=e.webglTexSize,this.maxAtlasesPerBatch=e.webglTexPerBatch,this.batchAtlases=[]}return Ia(r,[{key:"getMaxAtlasesPerBatch",value:function(){return this.maxAtlasesPerBatch}},{key:"getAtlasSize",value:function(){return this.atlasSize}},{key:"getIndexArray",value:function(){return Array.from({length:this.maxAtlasesPerBatch},function(t,n){return n})}},{key:"startBatch",value:function(){this.batchAtlases=[]}},{key:"getAtlasCount",value:function(){return this.batchAtlases.length}},{key:"getAtlases",value:function(){return this.batchAtlases}},{key:"canAddToCurrentBatch",value:function(t){return this.batchAtlases.length===this.maxAtlasesPerBatch?this.batchAtlases.includes(t):!0}},{key:"getAtlasIndexForBatch",value:function(t){var n=this.batchAtlases.indexOf(t);if(n<0){if(this.batchAtlases.length===this.maxAtlasesPerBatch)throw new Error("cannot add more atlases to batch");this.batchAtlases.push(t),n=this.batchAtlases.length-1}return n}}])})(),Xq=`
  float circleSD(vec2 p, float r) {
    return distance(vec2(0), p) - r; // signed distance
  }
`,Zq=`
  float rectangleSD(vec2 p, vec2 b) {
    vec2 d = abs(p)-b;
    return distance(vec2(0),max(d,0.0)) + min(max(d.x,d.y),0.0);
  }
`,Qq=`
  float roundRectangleSD(vec2 p, vec2 b, vec4 cr) {
    cr.xy = (p.x > 0.0) ? cr.xy : cr.zw;
    cr.x  = (p.y > 0.0) ? cr.x  : cr.y;
    vec2 q = abs(p) - b + cr.x;
    return min(max(q.x, q.y), 0.0) + distance(vec2(0), max(q, 0.0)) - cr.x;
  }
`,Jq=`
  float ellipseSD(vec2 p, vec2 ab) {
    p = abs( p ); // symmetry

    // find root with Newton solver
    vec2 q = ab*(p-ab);
    float w = (q.x<q.y)? 1.570796327 : 0.0;
    for( int i=0; i<5; i++ ) {
      vec2 cs = vec2(cos(w),sin(w));
      vec2 u = ab*vec2( cs.x,cs.y);
      vec2 v = ab*vec2(-cs.y,cs.x);
      w = w + dot(p-u,v)/(dot(p-u,u)+dot(v,v));
    }
    
    // compute final point and distance
    float d = length(p-ab*vec2(cos(w),sin(w)));
    
    // return signed distance
    return (dot(p/ab,p/ab)>1.0) ? d : -d;
  }
`,ys={SCREEN:{name:"screen",screen:!0},PICKING:{name:"picking",picking:!0}},Ml={IGNORE:1,USE_BB:2},Dv=0,vS=1,hS=2,Iv=3,Ki=4,ul=5,ss=6,us=7,eF=(function(){function r(e,t,n){Da(this,r),this.r=e,this.gl=t,this.maxInstances=n.webglBatchSize,this.atlasSize=n.webglTexSize,this.bgColor=n.bgColor,this.debug=n.webglDebug,this.batchDebugInfo=[],n.enableWrapping=!0,n.createTextureCanvas=Iq,this.atlasManager=new Kq(e,n),this.batchManager=new Yq(n),this.simpleShapeOptions=new Map,this.program=this._createShaderProgram(ys.SCREEN),this.pickingProgram=this._createShaderProgram(ys.PICKING),this.vao=this._createVAO()}return Ia(r,[{key:"addAtlasCollection",value:function(t,n){this.atlasManager.addAtlasCollection(t,n)}},{key:"addTextureAtlasRenderType",value:function(t,n){this.atlasManager.addRenderType(t,n)}},{key:"addSimpleShapeRenderType",value:function(t,n){this.simpleShapeOptions.set(t,n)}},{key:"invalidate",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.type,i=this.atlasManager;return a?i.invalidate(t,{filterType:function(u){return u===a},forceRedraw:!0}):i.invalidate(t)}},{key:"gc",value:function(){this.atlasManager.gc()}},{key:"_createShaderProgram",value:function(t){var n=this.gl,a=`#version 300 es
      precision highp float;

      uniform mat3 uPanZoomMatrix;
      uniform int  uAtlasSize;
      
      // instanced
      in vec2 aPosition; // a vertex from the unit square
      
      in mat3 aTransform; // used to transform verticies, eg into a bounding box
      in int aVertType; // the type of thing we are rendering

      // the z-index that is output when using picking mode
      in vec4 aIndex;
      
      // For textures
      in int aAtlasId; // which shader unit/atlas to use
      in vec4 aTex; // x/y/w/h of texture in atlas

      // for edges
      in vec4 aPointAPointB;
      in vec4 aPointCPointD;
      in vec2 aLineWidth; // also used for node border width

      // simple shapes
      in vec4 aCornerRadius; // for round-rectangle [top-right, bottom-right, top-left, bottom-left]
      in vec4 aColor; // also used for edges
      in vec4 aBorderColor; // aLineWidth is used for border width

      // output values passed to the fragment shader
      out vec2 vTexCoord;
      out vec4 vColor;
      out vec2 vPosition;
      // flat values are not interpolated
      flat out int vAtlasId; 
      flat out int vVertType;
      flat out vec2 vTopRight;
      flat out vec2 vBotLeft;
      flat out vec4 vCornerRadius;
      flat out vec4 vBorderColor;
      flat out vec2 vBorderWidth;
      flat out vec4 vIndex;
      
      void main(void) {
        int vid = gl_VertexID;
        vec2 position = aPosition; // TODO make this a vec3, simplifies some code below

        if(aVertType == `.concat(Dv,`) {
          float texX = aTex.x; // texture coordinates
          float texY = aTex.y;
          float texW = aTex.z;
          float texH = aTex.w;

          if(vid == 1 || vid == 2 || vid == 4) {
            texX += texW;
          }
          if(vid == 2 || vid == 4 || vid == 5) {
            texY += texH;
          }

          float d = float(uAtlasSize);
          vTexCoord = vec2(texX / d, texY / d); // tex coords must be between 0 and 1

          gl_Position = vec4(uPanZoomMatrix * aTransform * vec3(position, 1.0), 1.0);
        }
        else if(aVertType == `).concat(Ki," || aVertType == ").concat(us,` 
             || aVertType == `).concat(ul," || aVertType == ").concat(ss,`) { // simple shapes

          // the bounding box is needed by the fragment shader
          vBotLeft  = (aTransform * vec3(0, 0, 1)).xy; // flat
          vTopRight = (aTransform * vec3(1, 1, 1)).xy; // flat
          vPosition = (aTransform * vec3(position, 1)).xy; // will be interpolated

          // calculations are done in the fragment shader, just pass these along
          vColor = aColor;
          vCornerRadius = aCornerRadius;
          vBorderColor = aBorderColor;
          vBorderWidth = aLineWidth;

          gl_Position = vec4(uPanZoomMatrix * aTransform * vec3(position, 1.0), 1.0);
        }
        else if(aVertType == `).concat(vS,`) {
          vec2 source = aPointAPointB.xy;
          vec2 target = aPointAPointB.zw;

          // adjust the geometry so that the line is centered on the edge
          position.y = position.y - 0.5;

          // stretch the unit square into a long skinny rectangle
          vec2 xBasis = target - source;
          vec2 yBasis = normalize(vec2(-xBasis.y, xBasis.x));
          vec2 point = source + xBasis * position.x + yBasis * aLineWidth[0] * position.y;

          gl_Position = vec4(uPanZoomMatrix * vec3(point, 1.0), 1.0);
          vColor = aColor;
        } 
        else if(aVertType == `).concat(hS,`) {
          vec2 pointA = aPointAPointB.xy;
          vec2 pointB = aPointAPointB.zw;
          vec2 pointC = aPointCPointD.xy;
          vec2 pointD = aPointCPointD.zw;

          // adjust the geometry so that the line is centered on the edge
          position.y = position.y - 0.5;

          vec2 p0, p1, p2, pos;
          if(position.x == 0.0) { // The left side of the unit square
            p0 = pointA;
            p1 = pointB;
            p2 = pointC;
            pos = position;
          } else { // The right side of the unit square, use same approach but flip the geometry upside down
            p0 = pointD;
            p1 = pointC;
            p2 = pointB;
            pos = vec2(0.0, -position.y);
          }

          vec2 p01 = p1 - p0;
          vec2 p12 = p2 - p1;
          vec2 p21 = p1 - p2;

          // Find the normal vector.
          vec2 tangent = normalize(normalize(p12) + normalize(p01));
          vec2 normal = vec2(-tangent.y, tangent.x);

          // Find the vector perpendicular to p0 -> p1.
          vec2 p01Norm = normalize(vec2(-p01.y, p01.x));

          // Determine the bend direction.
          float sigma = sign(dot(p01 + p21, normal));
          float width = aLineWidth[0];

          if(sign(pos.y) == -sigma) {
            // This is an intersecting vertex. Adjust the position so that there's no overlap.
            vec2 point = 0.5 * width * normal * -sigma / dot(normal, p01Norm);
            gl_Position = vec4(uPanZoomMatrix * vec3(p1 + point, 1.0), 1.0);
          } else {
            // This is a non-intersecting vertex. Treat it like a mitre join.
            vec2 point = 0.5 * width * normal * sigma * dot(normal, p01Norm);
            gl_Position = vec4(uPanZoomMatrix * vec3(p1 + point, 1.0), 1.0);
          }

          vColor = aColor;
        } 
        else if(aVertType == `).concat(Iv,` && vid < 3) {
          // massage the first triangle into an edge arrow
          if(vid == 0)
            position = vec2(-0.15, -0.3);
          if(vid == 1)
            position = vec2(  0.0,  0.0);
          if(vid == 2)
            position = vec2( 0.15, -0.3);

          gl_Position = vec4(uPanZoomMatrix * aTransform * vec3(position, 1.0), 1.0);
          vColor = aColor;
        }
        else {
          gl_Position = vec4(2.0, 0.0, 0.0, 1.0); // discard vertex by putting it outside webgl clip space
        }

        vAtlasId = aAtlasId;
        vVertType = aVertType;
        vIndex = aIndex;
      }
    `),i=this.batchManager.getIndexArray(),s=`#version 300 es
      precision highp float;

      // declare texture unit for each texture atlas in the batch
      `.concat(i.map(function(c){return"uniform sampler2D uTexture".concat(c,";")}).join(`
	`),`

      uniform vec4 uBGColor;
      uniform float uZoom;

      in vec2 vTexCoord;
      in vec4 vColor;
      in vec2 vPosition; // model coordinates

      flat in int vAtlasId;
      flat in vec4 vIndex;
      flat in int vVertType;
      flat in vec2 vTopRight;
      flat in vec2 vBotLeft;
      flat in vec4 vCornerRadius;
      flat in vec4 vBorderColor;
      flat in vec2 vBorderWidth;

      out vec4 outColor;

      `).concat(Xq,`
      `).concat(Zq,`
      `).concat(Qq,`
      `).concat(Jq,`

      vec4 blend(vec4 top, vec4 bot) { // blend colors with premultiplied alpha
        return vec4( 
          top.rgb + (bot.rgb * (1.0 - top.a)),
          top.a   + (bot.a   * (1.0 - top.a)) 
        );
      }

      vec4 distInterp(vec4 cA, vec4 cB, float d) { // interpolate color using Signed Distance
        // scale to the zoom level so that borders don't look blurry when zoomed in
        // note 1.5 is an aribitrary value chosen because it looks good
        return mix(cA, cB, 1.0 - smoothstep(0.0, 1.5 / uZoom, abs(d))); 
      }

      void main(void) {
        if(vVertType == `).concat(Dv,`) {
          // look up the texel from the texture unit
          `).concat(i.map(function(c){return"if(vAtlasId == ".concat(c,") outColor = texture(uTexture").concat(c,", vTexCoord);")}).join(`
	else `),`
        } 
        else if(vVertType == `).concat(Iv,`) {
          // mimics how canvas renderer uses context.globalCompositeOperation = 'destination-out';
          outColor = blend(vColor, uBGColor);
          outColor.a = 1.0; // make opaque, masks out line under arrow
        }
        else if(vVertType == `).concat(Ki,` && vBorderWidth == vec2(0.0)) { // simple rectangle with no border
          outColor = vColor; // unit square is already transformed to the rectangle, nothing else needs to be done
        }
        else if(vVertType == `).concat(Ki," || vVertType == ").concat(us,` 
          || vVertType == `).concat(ul," || vVertType == ").concat(ss,`) { // use SDF

          float outerBorder = vBorderWidth[0];
          float innerBorder = vBorderWidth[1];
          float borderPadding = outerBorder * 2.0;
          float w = vTopRight.x - vBotLeft.x - borderPadding;
          float h = vTopRight.y - vBotLeft.y - borderPadding;
          vec2 b = vec2(w/2.0, h/2.0); // half width, half height
          vec2 p = vPosition - vec2(vTopRight.x - b[0] - outerBorder, vTopRight.y - b[1] - outerBorder); // translate to center

          float d; // signed distance
          if(vVertType == `).concat(Ki,`) {
            d = rectangleSD(p, b);
          } else if(vVertType == `).concat(us,` && w == h) {
            d = circleSD(p, b.x); // faster than ellipse
          } else if(vVertType == `).concat(us,`) {
            d = ellipseSD(p, b);
          } else {
            d = roundRectangleSD(p, b, vCornerRadius.wzyx);
          }

          // use the distance to interpolate a color to smooth the edges of the shape, doesn't need multisampling
          // we must smooth colors inwards, because we can't change pixels outside the shape's bounding box
          if(d > 0.0) {
            if(d > outerBorder) {
              discard;
            } else {
              outColor = distInterp(vBorderColor, vec4(0), d - outerBorder);
            }
          } else {
            if(d > innerBorder) {
              vec4 outerColor = outerBorder == 0.0 ? vec4(0) : vBorderColor;
              vec4 innerBorderColor = blend(vBorderColor, vColor);
              outColor = distInterp(innerBorderColor, outerColor, d);
            } 
            else {
              vec4 outerColor;
              if(innerBorder == 0.0 && outerBorder == 0.0) {
                outerColor = vec4(0);
              } else if(innerBorder == 0.0) {
                outerColor = vBorderColor;
              } else {
                outerColor = blend(vBorderColor, vColor);
              }
              outColor = distInterp(vColor, outerColor, d - innerBorder);
            }
          }
        }
        else {
          outColor = vColor;
        }

        `).concat(t.picking?`if(outColor.a == 0.0) discard;
             else outColor = vIndex;`:"",`
      }
    `),u=Dq(n,a,s);u.aPosition=n.getAttribLocation(u,"aPosition"),u.aIndex=n.getAttribLocation(u,"aIndex"),u.aVertType=n.getAttribLocation(u,"aVertType"),u.aTransform=n.getAttribLocation(u,"aTransform"),u.aAtlasId=n.getAttribLocation(u,"aAtlasId"),u.aTex=n.getAttribLocation(u,"aTex"),u.aPointAPointB=n.getAttribLocation(u,"aPointAPointB"),u.aPointCPointD=n.getAttribLocation(u,"aPointCPointD"),u.aLineWidth=n.getAttribLocation(u,"aLineWidth"),u.aColor=n.getAttribLocation(u,"aColor"),u.aCornerRadius=n.getAttribLocation(u,"aCornerRadius"),u.aBorderColor=n.getAttribLocation(u,"aBorderColor"),u.uPanZoomMatrix=n.getUniformLocation(u,"uPanZoomMatrix"),u.uAtlasSize=n.getUniformLocation(u,"uAtlasSize"),u.uBGColor=n.getUniformLocation(u,"uBGColor"),u.uZoom=n.getUniformLocation(u,"uZoom"),u.uTextures=[];for(var f=0;f<this.batchManager.getMaxAtlasesPerBatch();f++)u.uTextures.push(n.getUniformLocation(u,"uTexture".concat(f)));return u}},{key:"_createVAO",value:function(){var t=[0,0,1,0,1,1,0,0,1,1,0,1];this.vertexCount=t.length/2;var n=this.maxInstances,a=this.gl,i=this.program,s=a.createVertexArray();return a.bindVertexArray(s),zq(a,"vec2",i.aPosition,t),this.transformBuffer=Vq(a,n,i.aTransform),this.indexBuffer=Cn(a,n,"vec4",i.aIndex),this.vertTypeBuffer=Cn(a,n,"int",i.aVertType),this.atlasIdBuffer=Cn(a,n,"int",i.aAtlasId),this.texBuffer=Cn(a,n,"vec4",i.aTex),this.pointAPointBBuffer=Cn(a,n,"vec4",i.aPointAPointB),this.pointCPointDBuffer=Cn(a,n,"vec4",i.aPointCPointD),this.lineWidthBuffer=Cn(a,n,"vec2",i.aLineWidth),this.colorBuffer=Cn(a,n,"vec4",i.aColor),this.cornerRadiusBuffer=Cn(a,n,"vec4",i.aCornerRadius),this.borderColorBuffer=Cn(a,n,"vec4",i.aBorderColor),a.bindVertexArray(null),s}},{key:"buffers",get:function(){var t=this;return this._buffers||(this._buffers=Object.keys(this).filter(function(n){return wa(n,"Buffer")}).map(function(n){return t[n]})),this._buffers}},{key:"startFrame",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ys.SCREEN;this.panZoomMatrix=t,this.renderTarget=n,this.batchDebugInfo=[],this.wrappedCount=0,this.simpleCount=0,this.startBatch()}},{key:"startBatch",value:function(){this.instanceCount=0,this.batchManager.startBatch()}},{key:"endFrame",value:function(){this.endBatch()}},{key:"_isVisible",value:function(t,n){return t.visible()?n&&n.isVisible?n.isVisible(t):!0:!1}},{key:"drawTexture",value:function(t,n,a){var i=this.atlasManager,s=this.batchManager,u=i.getRenderTypeOpts(a);if(this._isVisible(t,u)&&!(t.isEdge()&&!this._isValidEdge(t))){if(this.renderTarget.picking&&u.getTexPickingMode){var f=u.getTexPickingMode(t);if(f===Ml.IGNORE)return;if(f==Ml.USE_BB){this.drawPickingRectangle(t,n,a);return}}var c=i.getAtlasInfo(t,a),d=qt(c),v;try{for(d.s();!(v=d.n()).done;){var p=v.value,g=p.atlas,y=p.tex1,x=p.tex2;s.canAddToCurrentBatch(g)||this.endBatch();for(var w=s.getAtlasIndexForBatch(g),b=0,E=[[y,!0],[x,!1]];b<E.length;b++){var S=Hr(E[b],2),T=S[0],R=S[1];if(T.w!=0){var A=this.instanceCount;this.vertTypeBuffer.getView(A)[0]=Dv;var k=this.indexBuffer.getView(A);Wi(n,k);var P=this.atlasIdBuffer.getView(A);P[0]=w;var D=this.texBuffer.getView(A);D[0]=T.x,D[1]=T.y,D[2]=T.w,D[3]=T.h;var I=this.transformBuffer.getMatrixView(A);this.setTransformMatrix(t,I,u,p,R),this.instanceCount++,R||this.wrappedCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}}}}catch(M){d.e(M)}finally{d.f()}}}},{key:"setTransformMatrix",value:function(t,n,a,i){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,u=0;if(a.shapeProps&&a.shapeProps.padding&&(u=t.pstyle(a.shapeProps.padding).pfValue),i){var f=i.bb,c=i.tex1,d=i.tex2,v=c.w/(c.w+d.w);s||(v=1-v);var p=this._getAdjustedBB(f,u,s,v);this._applyTransformMatrix(n,p,a,t)}else{var g=a.getBoundingBox(t),y=this._getAdjustedBB(g,u,!0,1);this._applyTransformMatrix(n,y,a,t)}}},{key:"_applyTransformMatrix",value:function(t,n,a,i){var s,u;cS(t);var f=a.getRotation?a.getRotation(i):0;if(f!==0){var c=a.getRotationPoint(i),d=c.x,v=c.y;wl(t,t,[d,v]),dS(t,t,f);var p=a.getRotationOffset(i);s=p.x+(n.xOffset||0),u=p.y+(n.yOffset||0)}else s=n.x1,u=n.y1;wl(t,t,[s,u]),p0(t,t,[n.w,n.h])}},{key:"_getAdjustedBB",value:function(t,n,a,i){var s=t.x1,u=t.y1,f=t.w,c=t.h,d=t.yOffset;n&&(s-=n,u-=n,f+=2*n,c+=2*n);var v=0,p=f*i;return a&&i<1?f=p:!a&&i<1&&(v=f-p,s+=v,f=p),{x1:s,y1:u,w:f,h:c,xOffset:v,yOffset:d}}},{key:"drawPickingRectangle",value:function(t,n,a){var i=this.atlasManager.getRenderTypeOpts(a),s=this.instanceCount;this.vertTypeBuffer.getView(s)[0]=Ki;var u=this.indexBuffer.getView(s);Wi(n,u);var f=this.colorBuffer.getView(s);Ja([0,0,0],1,f);var c=this.transformBuffer.getMatrixView(s);this.setTransformMatrix(t,c,i),this.simpleCount++,this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}},{key:"drawNode",value:function(t,n,a){var i=this.simpleShapeOptions.get(a);if(this._isVisible(t,i)){var s=i.shapeProps,u=this._getVertTypeForShape(t,s.shape);if(u===void 0||i.isSimple&&!i.isSimple(t)){this.drawTexture(t,n,a);return}var f=this.instanceCount;if(this.vertTypeBuffer.getView(f)[0]=u,u===ul||u===ss){var c=i.getBoundingBox(t),d=this._getCornerRadius(t,s.radius,c),v=this.cornerRadiusBuffer.getView(f);v[0]=d,v[1]=d,v[2]=d,v[3]=d,u===ss&&(v[0]=0,v[2]=0)}var p=this.indexBuffer.getView(f);Wi(n,p);var g=t.pstyle(s.color).value,y=t.pstyle(s.opacity).value,x=this.colorBuffer.getView(f);Ja(g,y,x);var w=this.lineWidthBuffer.getView(f);if(w[0]=0,w[1]=0,s.border){var b=t.pstyle("border-width").value;if(b>0){var E=t.pstyle("border-color").value,S=t.pstyle("border-opacity").value,T=this.borderColorBuffer.getView(f);Ja(E,S,T);var R=t.pstyle("border-position").value;if(R==="inside")w[0]=0,w[1]=-b;else if(R==="outside")w[0]=b,w[1]=0;else{var A=b/2;w[0]=A,w[1]=-A}}}var k=this.transformBuffer.getMatrixView(f);this.setTransformMatrix(t,k,i),this.simpleCount++,this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}}},{key:"_getVertTypeForShape",value:function(t,n){var a=t.pstyle(n).value;switch(a){case"rectangle":return Ki;case"ellipse":return us;case"roundrectangle":case"round-rectangle":return ul;case"bottom-round-rectangle":return ss;default:return}}},{key:"_getCornerRadius",value:function(t,n,a){var i=a.w,s=a.h;if(t.pstyle(n).value==="auto")return _a(i,s);var u=t.pstyle(n).pfValue,f=i/2,c=s/2;return Math.min(u,c,f)}},{key:"drawEdgeArrow",value:function(t,n,a){if(t.visible()){var i=t._private.rscratch,s,u,f;if(a==="source"?(s=i.arrowStartX,u=i.arrowStartY,f=i.srcArrowAngle):(s=i.arrowEndX,u=i.arrowEndY,f=i.tgtArrowAngle),!(isNaN(s)||s==null||isNaN(u)||u==null||isNaN(f)||f==null)){var c=t.pstyle(a+"-arrow-shape").value;if(c!=="none"){var d=t.pstyle(a+"-arrow-color").value,v=t.pstyle("opacity").value,p=t.pstyle("line-opacity").value,g=v*p,y=t.pstyle("width").pfValue,x=t.pstyle("arrow-scale").value,w=this.r.getArrowWidth(y,x),b=this.instanceCount,E=this.transformBuffer.getMatrixView(b);cS(E),wl(E,E,[s,u]),p0(E,E,[w,w]),dS(E,E,f),this.vertTypeBuffer.getView(b)[0]=Iv;var S=this.indexBuffer.getView(b);Wi(n,S);var T=this.colorBuffer.getView(b);Ja(d,g,T),this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}}}}},{key:"drawEdgeLine",value:function(t,n){if(t.visible()){var a=this._getEdgePoints(t);if(a){var i=t.pstyle("opacity").value,s=t.pstyle("line-opacity").value,u=t.pstyle("width").pfValue,f=t.pstyle("line-color").value,c=i*s;if(a.length/2+this.instanceCount>this.maxInstances&&this.endBatch(),a.length==4){var d=this.instanceCount;this.vertTypeBuffer.getView(d)[0]=vS;var v=this.indexBuffer.getView(d);Wi(n,v);var p=this.colorBuffer.getView(d);Ja(f,c,p);var g=this.lineWidthBuffer.getView(d);g[0]=u;var y=this.pointAPointBBuffer.getView(d);y[0]=a[0],y[1]=a[1],y[2]=a[2],y[3]=a[3],this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}else for(var x=0;x<a.length-2;x+=2){var w=this.instanceCount;this.vertTypeBuffer.getView(w)[0]=hS;var b=this.indexBuffer.getView(w);Wi(n,b);var E=this.colorBuffer.getView(w);Ja(f,c,E);var S=this.lineWidthBuffer.getView(w);S[0]=u;var T=a[x-2],R=a[x-1],A=a[x],k=a[x+1],P=a[x+2],D=a[x+3],I=a[x+4],M=a[x+5];x==0&&(T=2*A-P+.001,R=2*k-D+.001),x==a.length-4&&(I=2*P-A+.001,M=2*D-k+.001);var L=this.pointAPointBBuffer.getView(w);L[0]=T,L[1]=R,L[2]=A,L[3]=k;var N=this.pointCPointDBuffer.getView(w);N[0]=P,N[1]=D,N[2]=I,N[3]=M,this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}}}}},{key:"_isValidEdge",value:function(t){var n=t._private.rscratch;return!(n.badLine||n.allpts==null||isNaN(n.allpts[0]))}},{key:"_getEdgePoints",value:function(t){var n=t._private.rscratch;if(this._isValidEdge(t)){var a=n.allpts;if(a.length==4)return a;var i=this._getNumSegments(t);return this._getCurveSegmentPoints(a,i)}}},{key:"_getNumSegments",value:function(t){var n=15;return Math.min(Math.max(n,5),this.maxInstances)}},{key:"_getCurveSegmentPoints",value:function(t,n){if(t.length==4)return t;for(var a=Array((n+1)*2),i=0;i<=n;i++)if(i==0)a[0]=t[0],a[1]=t[1];else if(i==n)a[i*2]=t[t.length-2],a[i*2+1]=t[t.length-1];else{var s=i/n;this._setCurvePoint(t,s,a,i*2)}return a}},{key:"_setCurvePoint",value:function(t,n,a,i){if(t.length<=2)a[i]=t[0],a[i+1]=t[1];else{for(var s=Array(t.length-2),u=0;u<s.length;u+=2){var f=(1-n)*t[u]+n*t[u+2],c=(1-n)*t[u+1]+n*t[u+3];s[u]=f,s[u+1]=c}return this._setCurvePoint(s,n,a,i)}}},{key:"endBatch",value:function(){var t=this.gl,n=this.vao,a=this.vertexCount,i=this.instanceCount;if(i!==0){var s=this.renderTarget.picking?this.pickingProgram:this.program;t.useProgram(s),t.bindVertexArray(n);var u=qt(this.buffers),f;try{for(u.s();!(f=u.n()).done;){var c=f.value;c.bufferSubData(i)}}catch(y){u.e(y)}finally{u.f()}for(var d=this.batchManager.getAtlases(),v=0;v<d.length;v++)d[v].bufferIfNeeded(t);for(var p=0;p<d.length;p++)t.activeTexture(t.TEXTURE0+p),t.bindTexture(t.TEXTURE_2D,d[p].texture),t.uniform1i(s.uTextures[p],p);t.uniform1f(s.uZoom,Mq(this.r)),t.uniformMatrix3fv(s.uPanZoomMatrix,!1,this.panZoomMatrix),t.uniform1i(s.uAtlasSize,this.batchManager.getAtlasSize());var g=Ja(this.bgColor,1);t.uniform4fv(s.uBGColor,g),t.drawArraysInstanced(t.TRIANGLES,0,a,i),t.bindVertexArray(null),t.bindTexture(t.TEXTURE_2D,null),this.debug&&this.batchDebugInfo.push({count:i,atlasCount:d.length}),this.startBatch()}}},{key:"getDebugInfo",value:function(){var t=this.atlasManager.getDebugInfo(),n=t.reduce(function(s,u){return s+u.atlasCount},0),a=this.batchDebugInfo,i=a.reduce(function(s,u){return s+u.count},0);return{atlasInfo:t,totalAtlases:n,wrappedCount:this.wrappedCount,simpleCount:this.simpleCount,batchCount:a.length,batchInfo:a,totalInstances:i}}}])})(),EA={};EA.initWebgl=function(r,e){var t=this,n=t.data.contexts[t.WEBGL];r.bgColor=rF(t),r.webglTexSize=Math.min(r.webglTexSize,n.getParameter(n.MAX_TEXTURE_SIZE)),r.webglTexRows=Math.min(r.webglTexRows,54),r.webglTexRowsNodes=Math.min(r.webglTexRowsNodes,54),r.webglBatchSize=Math.min(r.webglBatchSize,16384),r.webglTexPerBatch=Math.min(r.webglTexPerBatch,n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS)),t.webglDebug=r.webglDebug,t.webglDebugShowAtlases=r.webglDebugShowAtlases,t.pickingFrameBuffer=$q(n),t.pickingFrameBuffer.needsDraw=!0,t.drawing=new eF(t,n,r);var a=function(v){return function(p){return t.getTextAngle(p,v)}},i=function(v){return function(p){var g=p.pstyle(v);return g&&g.value}},s=function(v){return function(p){return p.pstyle("".concat(v,"-opacity")).value>0}},u=function(v){var p=v.pstyle("text-events").strValue==="yes";return p?Ml.USE_BB:Ml.IGNORE},f=function(v){var p=v.position(),g=p.x,y=p.y,x=v.outerWidth(),w=v.outerHeight();return{w:x,h:w,x1:g-x/2,y1:y-w/2}};t.drawing.addAtlasCollection("node",{texRows:r.webglTexRowsNodes}),t.drawing.addAtlasCollection("label",{texRows:r.webglTexRows}),t.drawing.addTextureAtlasRenderType("node-body",{collection:"node",getKey:e.getStyleKey,getBoundingBox:e.getElementBox,drawElement:e.drawElement}),t.drawing.addSimpleShapeRenderType("node-body",{getBoundingBox:f,isSimple:Nq,shapeProps:{shape:"shape",color:"background-color",opacity:"background-opacity",radius:"corner-radius",border:!0}}),t.drawing.addSimpleShapeRenderType("node-overlay",{getBoundingBox:f,isVisible:s("overlay"),shapeProps:{shape:"overlay-shape",color:"overlay-color",opacity:"overlay-opacity",padding:"overlay-padding",radius:"overlay-corner-radius"}}),t.drawing.addSimpleShapeRenderType("node-underlay",{getBoundingBox:f,isVisible:s("underlay"),shapeProps:{shape:"underlay-shape",color:"underlay-color",opacity:"underlay-opacity",padding:"underlay-padding",radius:"underlay-corner-radius"}}),t.drawing.addTextureAtlasRenderType("label",{collection:"label",getTexPickingMode:u,getKey:Mv(e.getLabelKey,null),getBoundingBox:Ov(e.getLabelBox,null),drawClipped:!0,drawElement:e.drawLabel,getRotation:a(null),getRotationPoint:e.getLabelRotationPoint,getRotationOffset:e.getLabelRotationOffset,isVisible:i("label")}),t.drawing.addTextureAtlasRenderType("edge-source-label",{collection:"label",getTexPickingMode:u,getKey:Mv(e.getSourceLabelKey,"source"),getBoundingBox:Ov(e.getSourceLabelBox,"source"),drawClipped:!0,drawElement:e.drawSourceLabel,getRotation:a("source"),getRotationPoint:e.getSourceLabelRotationPoint,getRotationOffset:e.getSourceLabelRotationOffset,isVisible:i("source-label")}),t.drawing.addTextureAtlasRenderType("edge-target-label",{collection:"label",getTexPickingMode:u,getKey:Mv(e.getTargetLabelKey,"target"),getBoundingBox:Ov(e.getTargetLabelBox,"target"),drawClipped:!0,drawElement:e.drawTargetLabel,getRotation:a("target"),getRotationPoint:e.getTargetLabelRotationPoint,getRotationOffset:e.getTargetLabelRotationOffset,isVisible:i("target-label")});var c=Ms(function(){console.log("garbage collect flag set"),t.data.gc=!0},1e4);t.onUpdateEleCalcs(function(d,v){var p=!1;v&&v.length>0&&(p|=t.drawing.invalidate(v)),p&&c()}),tF(t)};function rF(r){var e=r.cy.container(),t=e&&e.style&&e.style.backgroundColor||"white";return Xk(t)}function SA(r,e){var t=r._private.rscratch;return Lt(t,"labelWrapCachedLines",e)||[]}var Mv=function(e,t){return function(n){var a=e(n),i=SA(n,t);return i.length>1?i.map(function(s,u){return"".concat(a,"_").concat(u)}):a}},Ov=function(e,t){return function(n,a){var i=e(n);if(typeof a=="string"){var s=a.indexOf("_");if(s>0){var u=Number(a.substring(s+1)),f=SA(n,t),c=i.h/f.length,d=c*u,v=i.y1+d;return{x1:i.x1,w:i.w,y1:v,h:c,yOffset:d}}}return i}};function tF(r){{var e=r.render;r.render=function(i){i=i||{};var s=r.cy;r.webgl&&(s.zoom()>pA?(nF(r),e.call(r,i)):(aF(r),TA(r,i,ys.SCREEN)))}}{var t=r.matchCanvasSize;r.matchCanvasSize=function(i){t.call(r,i),r.pickingFrameBuffer.setFramebufferAttachmentSizes(r.canvasWidth,r.canvasHeight),r.pickingFrameBuffer.needsDraw=!0}}r.findNearestElements=function(i,s,u,f){return fF(r,i,s)};{var n=r.invalidateCachedZSortedEles;r.invalidateCachedZSortedEles=function(){n.call(r),r.pickingFrameBuffer.needsDraw=!0}}{var a=r.notify;r.notify=function(i,s){a.call(r,i,s),i==="viewport"||i==="bounds"?r.pickingFrameBuffer.needsDraw=!0:i==="background"&&r.drawing.invalidate(s,{type:"node-body"})}}}function nF(r){var e=r.data.contexts[r.WEBGL];e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT)}function aF(r){var e=function(n){n.save(),n.setTransform(1,0,0,1,0,0),n.clearRect(0,0,r.canvasWidth,r.canvasHeight),n.restore()};e(r.data.contexts[r.NODE]),e(r.data.contexts[r.DRAG])}function iF(r){var e=r.canvasWidth,t=r.canvasHeight,n=j0(r),a=n.pan,i=n.zoom,s=Pv();wl(s,s,[a.x,a.y]),p0(s,s,[i,i]);var u=Pv();Gq(u,e,t);var f=Pv();return Uq(f,u,s),f}function CA(r,e){var t=r.canvasWidth,n=r.canvasHeight,a=j0(r),i=a.pan,s=a.zoom;e.setTransform(1,0,0,1,0,0),e.clearRect(0,0,t,n),e.translate(i.x,i.y),e.scale(s,s)}function oF(r,e){r.drawSelectionRectangle(e,function(t){return CA(r,t)})}function sF(r){var e=r.data.contexts[r.NODE];e.save(),CA(r,e),e.strokeStyle="rgba(0, 0, 0, 0.3)",e.beginPath(),e.moveTo(-1e3,0),e.lineTo(1e3,0),e.stroke(),e.beginPath(),e.moveTo(0,-1e3),e.lineTo(0,1e3),e.stroke(),e.restore()}function uF(r){var e=function(a,i,s){for(var u=a.atlasManager.getAtlasCollection(i),f=r.data.contexts[r.NODE],c=u.atlases,d=0;d<c.length;d++){var v=c[d],p=v.canvas;if(p){var g=p.width,y=p.height,x=g*d,w=p.height*s,b=.4;f.save(),f.scale(b,b),f.drawImage(p,x,w),f.strokeStyle="black",f.rect(x,w,g,y),f.stroke(),f.restore()}}},t=0;e(r.drawing,"node",t++),e(r.drawing,"label",t++)}function lF(r,e,t,n,a){var i,s,u,f,c=j0(r),d=c.pan,v=c.zoom;{var p=Oq(r,d,v,e,t),g=Hr(p,2),y=g[0],x=g[1],w=6;i=y-w/2,s=x-w/2,u=w,f=w}if(u===0||f===0)return[];var b=r.data.contexts[r.WEBGL];b.bindFramebuffer(b.FRAMEBUFFER,r.pickingFrameBuffer),r.pickingFrameBuffer.needsDraw&&(b.viewport(0,0,b.canvas.width,b.canvas.height),TA(r,null,ys.PICKING),r.pickingFrameBuffer.needsDraw=!1);var E=u*f,S=new Uint8Array(E*4);b.readPixels(i,s,u,f,b.RGBA,b.UNSIGNED_BYTE,S),b.bindFramebuffer(b.FRAMEBUFFER,null);for(var T=new Set,R=0;R<E;R++){var A=S.slice(R*4,R*4+4),k=Bq(A)-1;k>=0&&T.add(k)}return T}function fF(r,e,t){var n=lF(r,e,t),a=r.getCachedZSortedEles(),i,s,u=qt(n),f;try{for(u.s();!(f=u.n()).done;){var c=f.value,d=a[c];if(!i&&d.isNode()&&(i=d),!s&&d.isEdge()&&(s=d),i&&s)break}}catch(v){u.e(v)}finally{u.f()}return[i,s].filter(Boolean)}function Nv(r,e,t){var n=r.drawing;e+=1,t.isNode()?(n.drawNode(t,e,"node-underlay"),n.drawNode(t,e,"node-body"),n.drawTexture(t,e,"label"),n.drawNode(t,e,"node-overlay")):(n.drawEdgeLine(t,e),n.drawEdgeArrow(t,e,"source"),n.drawEdgeArrow(t,e,"target"),n.drawTexture(t,e,"label"),n.drawTexture(t,e,"edge-source-label"),n.drawTexture(t,e,"edge-target-label"))}function TA(r,e,t){var n;r.webglDebug&&(n=performance.now());var a=r.drawing,i=0;if(t.screen&&r.data.canvasNeedsRedraw[r.SELECT_BOX]&&oF(r,e),r.data.canvasNeedsRedraw[r.NODE]||t.picking){var s=r.data.contexts[r.WEBGL];t.screen?(s.clearColor(0,0,0,0),s.enable(s.BLEND),s.blendFunc(s.ONE,s.ONE_MINUS_SRC_ALPHA)):s.disable(s.BLEND),s.clear(s.COLOR_BUFFER_BIT|s.DEPTH_BUFFER_BIT),s.viewport(0,0,s.canvas.width,s.canvas.height);var u=iF(r),f=r.getCachedZSortedEles();if(i=f.length,a.startFrame(u,t),t.screen){for(var c=0;c<f.nondrag.length;c++)Nv(r,c,f.nondrag[c]);for(var d=0;d<f.drag.length;d++)Nv(r,d,f.drag[d])}else if(t.picking)for(var v=0;v<f.length;v++)Nv(r,v,f[v]);a.endFrame(),t.screen&&r.webglDebugShowAtlases&&(sF(r),uF(r)),r.data.canvasNeedsRedraw[r.NODE]=!1,r.data.canvasNeedsRedraw[r.DRAG]=!1}if(r.webglDebug){var p=performance.now(),g=!1,y=Math.ceil(p-n),x=a.getDebugInfo(),w=["".concat(i," elements"),"".concat(x.totalInstances," instances"),"".concat(x.batchCount," batches"),"".concat(x.totalAtlases," atlases"),"".concat(x.wrappedCount," wrapped textures"),"".concat(x.simpleCount," simple shapes")].join(", ");if(g)console.log("WebGL (".concat(t.name,") - time ").concat(y,"ms, ").concat(w));else{console.log("WebGL (".concat(t.name,") - frame time ").concat(y,"ms")),console.log("Totals:"),console.log("  ".concat(w)),console.log("Texture Atlases Used:");var b=x.atlasInfo,E=qt(b),S;try{for(E.s();!(S=E.n()).done;){var T=S.value;console.log("  ".concat(T.type,": ").concat(T.keyCount," keys, ").concat(T.atlasCount," atlases"))}}catch(R){E.e(R)}finally{E.f()}console.log("")}}r.data.gc&&(console.log("Garbage Collect!"),r.data.gc=!1,a.gc())}var Na={};Na.drawPolygonPath=function(r,e,t,n,a,i){var s=n/2,u=a/2;r.beginPath&&r.beginPath(),r.moveTo(e+s*i[0],t+u*i[1]);for(var f=1;f<i.length/2;f++)r.lineTo(e+s*i[f*2],t+u*i[f*2+1]);r.closePath()};Na.drawRoundPolygonPath=function(r,e,t,n,a,i,s){s.forEach(function(u){return oA(r,u)}),r.closePath()};Na.drawRoundRectanglePath=function(r,e,t,n,a,i){var s=n/2,u=a/2,f=i==="auto"?_a(n,a):Math.min(i,u,s);r.beginPath&&r.beginPath(),r.moveTo(e,t-u),r.arcTo(e+s,t-u,e+s,t,f),r.arcTo(e+s,t+u,e,t+u,f),r.arcTo(e-s,t+u,e-s,t,f),r.arcTo(e-s,t-u,e,t-u,f),r.lineTo(e,t-u),r.closePath()};Na.drawBottomRoundRectanglePath=function(r,e,t,n,a,i){var s=n/2,u=a/2,f=i==="auto"?_a(n,a):i;r.beginPath&&r.beginPath(),r.moveTo(e,t-u),r.lineTo(e+s,t-u),r.lineTo(e+s,t),r.arcTo(e+s,t+u,e,t+u,f),r.arcTo(e-s,t+u,e-s,t,f),r.lineTo(e-s,t-u),r.lineTo(e,t-u),r.closePath()};Na.drawCutRectanglePath=function(r,e,t,n,a,i,s){var u=n/2,f=a/2,c=s==="auto"?D0():s;r.beginPath&&r.beginPath(),r.moveTo(e-u+c,t-f),r.lineTo(e+u-c,t-f),r.lineTo(e+u,t-f+c),r.lineTo(e+u,t+f-c),r.lineTo(e+u-c,t+f),r.lineTo(e-u+c,t+f),r.lineTo(e-u,t+f-c),r.lineTo(e-u,t-f+c),r.closePath()};Na.drawBarrelPath=function(r,e,t,n,a){var i=n/2,s=a/2,u=e-i,f=e+i,c=t-s,d=t+s,v=r0(n,a),p=v.widthOffset,g=v.heightOffset,y=v.ctrlPtOffsetPct*p;r.beginPath&&r.beginPath(),r.moveTo(u,c+g),r.lineTo(u,d-g),r.quadraticCurveTo(u+y,d,u+p,d),r.lineTo(f-p,d),r.quadraticCurveTo(f-y,d,f,d-g),r.lineTo(f,c+g),r.quadraticCurveTo(f-y,c,f-p,c),r.lineTo(u+p,c),r.quadraticCurveTo(u+y,c,u,c+g),r.closePath()};var pS=Math.sin(0),gS=Math.cos(0),g0={},y0={},_A=Math.PI/40;for(var Yi=0*Math.PI;Yi<2*Math.PI;Yi+=_A)g0[Yi]=Math.sin(Yi),y0[Yi]=Math.cos(Yi);Na.drawEllipsePath=function(r,e,t,n,a){if(r.beginPath&&r.beginPath(),r.ellipse)r.ellipse(e,t,n/2,a/2,0,0,2*Math.PI);else for(var i,s,u=n/2,f=a/2,c=0*Math.PI;c<2*Math.PI;c+=_A)i=e-u*g0[c]*pS+u*y0[c]*gS,s=t+f*y0[c]*pS+f*g0[c]*gS,c===0?r.moveTo(i,s):r.lineTo(i,s);r.closePath()};var Fs={};Fs.createBuffer=function(r,e){var t=document.createElement("canvas");return t.width=r,t.height=e,[t,t.getContext("2d")]};Fs.bufferCanvasImage=function(r){var e=this.cy,t=e.mutableElements(),n=t.boundingBox(),a=this.findContainerClientCoords(),i=r.full?Math.ceil(n.w):a[2],s=r.full?Math.ceil(n.h):a[3],u=Te(r.maxWidth)||Te(r.maxHeight),f=this.getPixelRatio(),c=1;if(r.scale!==void 0)i*=r.scale,s*=r.scale,c=r.scale;else if(u){var d=1/0,v=1/0;Te(r.maxWidth)&&(d=c*r.maxWidth/i),Te(r.maxHeight)&&(v=c*r.maxHeight/s),c=Math.min(d,v),i*=c,s*=c}u||(i*=f,s*=f,c*=f);var p=document.createElement("canvas");p.width=i,p.height=s,p.style.width=i+"px",p.style.height=s+"px";var g=p.getContext("2d");if(i>0&&s>0){g.clearRect(0,0,i,s),g.globalCompositeOperation="source-over";var y=this.getCachedZSortedEles();if(r.full)g.translate(-n.x1*c,-n.y1*c),g.scale(c,c),this.drawElements(g,y),g.scale(1/c,1/c),g.translate(n.x1*c,n.y1*c);else{var x=e.pan(),w={x:x.x*c,y:x.y*c};c*=e.zoom(),g.translate(w.x,w.y),g.scale(c,c),this.drawElements(g,y),g.scale(1/c,1/c),g.translate(-w.x,-w.y)}r.bg&&(g.globalCompositeOperation="destination-over",g.fillStyle=r.bg,g.rect(0,0,i,s),g.fill())}return p};function cF(r,e){for(var t=atob(r),n=new ArrayBuffer(t.length),a=new Uint8Array(n),i=0;i<t.length;i++)a[i]=t.charCodeAt(i);return new Blob([n],{type:e})}function yS(r){var e=r.indexOf(",");return r.substr(e+1)}function kA(r,e,t){var n=function(){return e.toDataURL(t,r.quality)};switch(r.output){case"blob-promise":return new uo(function(a,i){try{e.toBlob(function(s){s!=null?a(s):i(new Error("`canvas.toBlob()` sent a null value in its callback"))},t,r.quality)}catch(s){i(s)}});case"blob":return cF(yS(n()),t);case"base64":return yS(n());case"base64uri":default:return n()}}Fs.png=function(r){return kA(r,this.bufferCanvasImage(r),"image/png")};Fs.jpg=function(r){return kA(r,this.bufferCanvasImage(r),"image/jpeg")};var RA={};RA.nodeShapeImpl=function(r,e,t,n,a,i,s,u){switch(r){case"ellipse":return this.drawEllipsePath(e,t,n,a,i);case"polygon":return this.drawPolygonPath(e,t,n,a,i,s);case"round-polygon":return this.drawRoundPolygonPath(e,t,n,a,i,s,u);case"roundrectangle":case"round-rectangle":return this.drawRoundRectanglePath(e,t,n,a,i,u);case"cutrectangle":case"cut-rectangle":return this.drawCutRectanglePath(e,t,n,a,i,s,u);case"bottomroundrectangle":case"bottom-round-rectangle":return this.drawBottomRoundRectanglePath(e,t,n,a,i,u);case"barrel":return this.drawBarrelPath(e,t,n,a,i)}};var dF=AA,ir=AA.prototype;ir.CANVAS_LAYERS=3;ir.SELECT_BOX=0;ir.DRAG=1;ir.NODE=2;ir.WEBGL=3;ir.CANVAS_TYPES=["2d","2d","2d","webgl2"];ir.BUFFER_COUNT=3;ir.TEXTURE_BUFFER=0;ir.MOTIONBLUR_BUFFER_NODE=1;ir.MOTIONBLUR_BUFFER_DRAG=2;function AA(r){var e=this,t=e.cy.window(),n=t.document;r.webgl&&(ir.CANVAS_LAYERS=e.CANVAS_LAYERS=4,console.log("webgl rendering enabled")),e.data={canvases:new Array(ir.CANVAS_LAYERS),contexts:new Array(ir.CANVAS_LAYERS),canvasNeedsRedraw:new Array(ir.CANVAS_LAYERS),bufferCanvases:new Array(ir.BUFFER_COUNT),bufferContexts:new Array(ir.CANVAS_LAYERS)};var a="-webkit-tap-highlight-color",i="rgba(0,0,0,0)";e.data.canvasContainer=n.createElement("div");var s=e.data.canvasContainer.style;e.data.canvasContainer.style[a]=i,s.position="relative",s.zIndex="0",s.overflow="hidden";var u=r.cy.container();u.appendChild(e.data.canvasContainer),u.style[a]=i;var f={"-webkit-user-select":"none","-moz-user-select":"-moz-none","user-select":"none","-webkit-tap-highlight-color":"rgba(0,0,0,0)","outline-style":"none"};oM()&&(f["-ms-touch-action"]="none",f["touch-action"]="none");for(var c=0;c<ir.CANVAS_LAYERS;c++){var d=e.data.canvases[c]=n.createElement("canvas"),v=ir.CANVAS_TYPES[c];e.data.contexts[c]=d.getContext(v),e.data.contexts[c]||Pr("Could not create canvas of type "+v),Object.keys(f).forEach(function(ie){d.style[ie]=f[ie]}),d.style.position="absolute",d.setAttribute("data-id","layer"+c),d.style.zIndex=String(ir.CANVAS_LAYERS-c),e.data.canvasContainer.appendChild(d),e.data.canvasNeedsRedraw[c]=!1}e.data.topCanvas=e.data.canvases[0],e.data.canvases[ir.NODE].setAttribute("data-id","layer"+ir.NODE+"-node"),e.data.canvases[ir.SELECT_BOX].setAttribute("data-id","layer"+ir.SELECT_BOX+"-selectbox"),e.data.canvases[ir.DRAG].setAttribute("data-id","layer"+ir.DRAG+"-drag"),e.data.canvases[ir.WEBGL]&&e.data.canvases[ir.WEBGL].setAttribute("data-id","layer"+ir.WEBGL+"-webgl");for(var c=0;c<ir.BUFFER_COUNT;c++)e.data.bufferCanvases[c]=n.createElement("canvas"),e.data.bufferContexts[c]=e.data.bufferCanvases[c].getContext("2d"),e.data.bufferCanvases[c].style.position="absolute",e.data.bufferCanvases[c].setAttribute("data-id","buffer"+c),e.data.bufferCanvases[c].style.zIndex=String(-c-1),e.data.bufferCanvases[c].style.visibility="hidden";e.pathsEnabled=!0;var p=Rt(),g=function(Q){return{x:(Q.x1+Q.x2)/2,y:(Q.y1+Q.y2)/2}},y=function(Q){return{x:-Q.w/2,y:-Q.h/2}},x=function(Q){var re=Q[0]._private,se=re.oldBackgroundTimestamp===re.backgroundTimestamp;return!se},w=function(Q){return Q[0]._private.nodeKey},b=function(Q){return Q[0]._private.labelStyleKey},E=function(Q){return Q[0]._private.sourceLabelStyleKey},S=function(Q){return Q[0]._private.targetLabelStyleKey},T=function(Q,re,se,ce,me){return e.drawElement(Q,re,se,!1,!1,me)},R=function(Q,re,se,ce,me){return e.drawElementText(Q,re,se,ce,"main",me)},A=function(Q,re,se,ce,me){return e.drawElementText(Q,re,se,ce,"source",me)},k=function(Q,re,se,ce,me){return e.drawElementText(Q,re,se,ce,"target",me)},P=function(Q){return Q.boundingBox(),Q[0]._private.bodyBounds},D=function(Q){return Q.boundingBox(),Q[0]._private.labelBounds.main||p},I=function(Q){return Q.boundingBox(),Q[0]._private.labelBounds.source||p},M=function(Q){return Q.boundingBox(),Q[0]._private.labelBounds.target||p},L=function(Q,re){return re},N=function(Q){return g(P(Q))},z=function(Q,re,se){var ce=Q?Q+"-":"";return{x:re.x+se.pstyle(ce+"text-margin-x").pfValue,y:re.y+se.pstyle(ce+"text-margin-y").pfValue}},G=function(Q,re,se){var ce=Q[0]._private.rscratch;return{x:ce[re],y:ce[se]}},H=function(Q){return z("",G(Q,"labelX","labelY"),Q)},U=function(Q){return z("source",G(Q,"sourceLabelX","sourceLabelY"),Q)},F=function(Q){return z("target",G(Q,"targetLabelX","targetLabelY"),Q)},X=function(Q){return y(P(Q))},K=function(Q){return y(I(Q))},B=function(Q){return y(M(Q))},V=function(Q){var re=D(Q),se=y(D(Q));if(Q.isNode()){switch(Q.pstyle("text-halign").value){case"left":se.x=-re.w-(re.leftPad||0);break;case"right":se.x=-(re.rightPad||0);break}switch(Q.pstyle("text-valign").value){case"top":se.y=-re.h-(re.topPad||0);break;case"bottom":se.y=-(re.botPad||0);break}}return se},te=e.data.eleTxrCache=new cs(e,{getKey:w,doesEleInvalidateKey:x,drawElement:T,getBoundingBox:P,getRotationPoint:N,getRotationOffset:X,allowEdgeTxrCaching:!1,allowParentTxrCaching:!1}),$=e.data.lblTxrCache=new cs(e,{getKey:b,drawElement:R,getBoundingBox:D,getRotationPoint:H,getRotationOffset:V,isVisible:L}),j=e.data.slbTxrCache=new cs(e,{getKey:E,drawElement:A,getBoundingBox:I,getRotationPoint:U,getRotationOffset:K,isVisible:L}),Y=e.data.tlbTxrCache=new cs(e,{getKey:S,drawElement:k,getBoundingBox:M,getRotationPoint:F,getRotationOffset:B,isVisible:L}),ee=e.data.lyrTxrCache=new gA(e);e.onUpdateEleCalcs(function(Q,re){te.invalidateElements(re),$.invalidateElements(re),j.invalidateElements(re),Y.invalidateElements(re),ee.invalidateElements(re);for(var se=0;se<re.length;se++){var ce=re[se]._private;ce.oldBackgroundTimestamp=ce.backgroundTimestamp}});var le=function(Q){for(var re=0;re<Q.length;re++)ee.enqueueElementRefinement(Q[re].ele)};te.onDequeue(le),$.onDequeue(le),j.onDequeue(le),Y.onDequeue(le),r.webgl&&e.initWebgl(r,{getStyleKey:w,getLabelKey:b,getSourceLabelKey:E,getTargetLabelKey:S,drawElement:T,drawLabel:R,drawSourceLabel:A,drawTargetLabel:k,getElementBox:P,getLabelBox:D,getSourceLabelBox:I,getTargetLabelBox:M,getElementRotationPoint:N,getElementRotationOffset:X,getLabelRotationPoint:H,getSourceLabelRotationPoint:U,getTargetLabelRotationPoint:F,getLabelRotationOffset:V,getSourceLabelRotationOffset:K,getTargetLabelRotationOffset:B})}ir.redrawHint=function(r,e){var t=this;switch(r){case"eles":t.data.canvasNeedsRedraw[ir.NODE]=e;break;case"drag":t.data.canvasNeedsRedraw[ir.DRAG]=e;break;case"select":t.data.canvasNeedsRedraw[ir.SELECT_BOX]=e;break;case"gc":t.data.gc=!0;break}};var vF=typeof Path2D<"u";ir.path2dEnabled=function(r){if(r===void 0)return this.pathsEnabled;this.pathsEnabled=!!r};ir.usePaths=function(){return vF&&this.pathsEnabled};ir.setImgSmoothing=function(r,e){r.imageSmoothingEnabled!=null?r.imageSmoothingEnabled=e:(r.webkitImageSmoothingEnabled=e,r.mozImageSmoothingEnabled=e,r.msImageSmoothingEnabled=e)};ir.getImgSmoothing=function(r){return r.imageSmoothingEnabled!=null?r.imageSmoothingEnabled:r.webkitImageSmoothingEnabled||r.mozImageSmoothingEnabled||r.msImageSmoothingEnabled};ir.makeOffscreenCanvas=function(r,e){var t;if((typeof OffscreenCanvas>"u"?"undefined":Jr(OffscreenCanvas))!=="undefined")t=new OffscreenCanvas(r,e);else{var n=this.cy.window(),a=n.document;t=a.createElement("canvas"),t.width=r,t.height=e}return t};[yA,An,Hn,G0,ci,Oa,At,EA,Na,Fs,RA].forEach(function(r){Ke(ir,r)});var hF=[{name:"null",impl:nA},{name:"base",impl:vA},{name:"canvas",impl:dF}],pF=[{type:"layout",extensions:zB},{type:"renderer",extensions:hF}],PA={},DA={};function IA(r,e,t){var n=t,a=function(P){pr("Can not register `"+e+"` for `"+r+"` since `"+P+"` already exists in the prototype and can not be overridden")};if(r==="core"){if(_s.prototype[e])return a(e);_s.prototype[e]=t}else if(r==="collection"){if(ct.prototype[e])return a(e);ct.prototype[e]=t}else if(r==="layout"){for(var i=function(P){this.options=P,t.call(this,P),cr(this._private)||(this._private={}),this._private.cy=P.cy,this._private.listeners=[],this.createEmitter()},s=i.prototype=Object.create(t.prototype),u=[],f=0;f<u.length;f++){var c=u[f];s[c]=s[c]||function(){return this}}s.start&&!s.run?s.run=function(){return this.start(),this}:!s.start&&s.run&&(s.start=function(){return this.run(),this});var d=t.prototype.stop;s.stop=function(){var k=this.options;if(k&&k.animate){var P=this.animations;if(P)for(var D=0;D<P.length;D++)P[D].stop()}return d?d.call(this):this.emit("layoutstop"),this},s.destroy||(s.destroy=function(){return this}),s.cy=function(){return this._private.cy};var v=function(P){return P._private.cy},p={addEventFields:function(P,D){D.layout=P,D.cy=v(P),D.target=P},bubble:function(){return!0},parent:function(P){return v(P)}};Ke(s,{createEmitter:function(){return this._private.emitter=new Hl(p,this),this},emitter:function(){return this._private.emitter},on:function(P,D){return this.emitter().on(P,D),this},one:function(P,D){return this.emitter().one(P,D),this},once:function(P,D){return this.emitter().one(P,D),this},removeListener:function(P,D){return this.emitter().removeListener(P,D),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},emit:function(P,D){return this.emitter().emit(P,D),this}}),hr.eventAliasesOn(s),n=i}else if(r==="renderer"&&e!=="null"&&e!=="base"){var g=MA("renderer","base"),y=g.prototype,x=t,w=t.prototype,b=function(){g.apply(this,arguments),x.apply(this,arguments)},E=b.prototype;for(var S in y){var T=y[S],R=w[S]!=null;if(R)return a(S);E[S]=T}for(var A in w)E[A]=w[A];y.clientFunctions.forEach(function(k){E[k]=E[k]||function(){Pr("Renderer does not implement `renderer."+k+"()` on its prototype")}}),n=b}else if(r==="__proto__"||r==="constructor"||r==="prototype")return Pr(r+" is an illegal type to be registered, possibly lead to prototype pollutions");return Zk({map:PA,keys:[r,e],value:n})}function MA(r,e){return Qk({map:PA,keys:[r,e]})}function gF(r,e,t,n,a){return Zk({map:DA,keys:[r,e,t,n],value:a})}function yF(r,e,t,n){return Qk({map:DA,keys:[r,e,t,n]})}var m0=function(){if(arguments.length===2)return MA.apply(null,arguments);if(arguments.length===3)return IA.apply(null,arguments);if(arguments.length===4)return yF.apply(null,arguments);if(arguments.length===5)return gF.apply(null,arguments);Pr("Invalid extension access syntax")};_s.prototype.extension=m0;pF.forEach(function(r){r.extensions.forEach(function(e){IA(r.type,e.name,e.impl)})});var Ol=function(){if(!(this instanceof Ol))return new Ol;this.length=0},li=Ol.prototype;li.instanceString=function(){return"stylesheet"};li.selector=function(r){var e=this.length++;return this[e]={selector:r,properties:[]},this};li.css=function(r,e){var t=this.length-1;if(je(r))this[t].properties.push({name:r,value:e});else if(cr(r))for(var n=r,a=Object.keys(n),i=0;i<a.length;i++){var s=a[i],u=n[s];if(u!=null){var f=it.properties[s]||it.properties[Ll(s)];if(f!=null){var c=f.name,d=u;this[t].properties.push({name:c,value:d})}}}return this};li.style=li.css;li.generateStyle=function(r){var e=new it(r);return this.appendToStyle(e)};li.appendToStyle=function(r){for(var e=0;e<this.length;e++){var t=this[e],n=t.selector,a=t.properties;r.selector(n);for(var i=0;i<a.length;i++){var s=a[i];r.css(s.name,s.value)}}return r};var mF="3.33.1",Pa=function(e){if(e===void 0&&(e={}),cr(e))return new _s(e);if(je(e))return m0.apply(m0,arguments)};Pa.use=function(r){var e=Array.prototype.slice.call(arguments,1);return e.unshift(Pa),r.apply(null,e),this};Pa.warnings=function(r){return iR(r)};Pa.version=mF;Pa.stylesheet=Pa.Stylesheet=Ol;var bl={exports:{}};function H0(r){throw new Error('Could not dynamically require "'+r+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Lv,mS;function wF(){if(mS)return Lv;mS=1;function r(){this.__data__=[],this.size=0}return Lv=r,Lv}var Bv,wS;function ho(){if(wS)return Bv;wS=1;function r(e,t){return e===t||e!==e&&t!==t}return Bv=r,Bv}var qv,bS;function ef(){if(bS)return qv;bS=1;var r=ho();function e(t,n){for(var a=t.length;a--;)if(r(t[a][0],n))return a;return-1}return qv=e,qv}var Fv,xS;function bF(){if(xS)return Fv;xS=1;var r=ef(),e=Array.prototype,t=e.splice;function n(a){var i=this.__data__,s=r(i,a);if(s<0)return!1;var u=i.length-1;return s==u?i.pop():t.call(i,s,1),--this.size,!0}return Fv=n,Fv}var zv,ES;function xF(){if(ES)return zv;ES=1;var r=ef();function e(t){var n=this.__data__,a=r(n,t);return a<0?void 0:n[a][1]}return zv=e,zv}var Vv,SS;function EF(){if(SS)return Vv;SS=1;var r=ef();function e(t){return r(this.__data__,t)>-1}return Vv=e,Vv}var $v,CS;function SF(){if(CS)return $v;CS=1;var r=ef();function e(t,n){var a=this.__data__,i=r(a,t);return i<0?(++this.size,a.push([t,n])):a[i][1]=n,this}return $v=e,$v}var Uv,TS;function rf(){if(TS)return Uv;TS=1;var r=wF(),e=bF(),t=xF(),n=EF(),a=SF();function i(s){var u=-1,f=s==null?0:s.length;for(this.clear();++u<f;){var c=s[u];this.set(c[0],c[1])}}return i.prototype.clear=r,i.prototype.delete=e,i.prototype.get=t,i.prototype.has=n,i.prototype.set=a,Uv=i,Uv}var Gv,_S;function CF(){if(_S)return Gv;_S=1;var r=rf();function e(){this.__data__=new r,this.size=0}return Gv=e,Gv}var jv,kS;function TF(){if(kS)return jv;kS=1;function r(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}return jv=r,jv}var Hv,RS;function _F(){if(RS)return Hv;RS=1;function r(e){return this.__data__.get(e)}return Hv=r,Hv}var Wv,AS;function kF(){if(AS)return Wv;AS=1;function r(e){return this.__data__.has(e)}return Wv=r,Wv}var Kv,PS;function OA(){if(PS)return Kv;PS=1;var r=typeof Ku=="object"&&Ku&&Ku.Object===Object&&Ku;return Kv=r,Kv}var Yv,DS;function yn(){if(DS)return Yv;DS=1;var r=OA(),e=typeof self=="object"&&self&&self.Object===Object&&self,t=r||e||Function("return this")();return Yv=t,Yv}var Xv,IS;function po(){if(IS)return Xv;IS=1;var r=yn(),e=r.Symbol;return Xv=e,Xv}var Zv,MS;function RF(){if(MS)return Zv;MS=1;var r=po(),e=Object.prototype,t=e.hasOwnProperty,n=e.toString,a=r?r.toStringTag:void 0;function i(s){var u=t.call(s,a),f=s[a];try{s[a]=void 0;var c=!0}catch{}var d=n.call(s);return c&&(u?s[a]=f:delete s[a]),d}return Zv=i,Zv}var Qv,OS;function AF(){if(OS)return Qv;OS=1;var r=Object.prototype,e=r.toString;function t(n){return e.call(n)}return Qv=t,Qv}var Jv,NS;function di(){if(NS)return Jv;NS=1;var r=po(),e=RF(),t=AF(),n="[object Null]",a="[object Undefined]",i=r?r.toStringTag:void 0;function s(u){return u==null?u===void 0?a:n:i&&i in Object(u)?e(u):t(u)}return Jv=s,Jv}var eh,LS;function nn(){if(LS)return eh;LS=1;function r(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}return eh=r,eh}var rh,BS;function zs(){if(BS)return rh;BS=1;var r=di(),e=nn(),t="[object AsyncFunction]",n="[object Function]",a="[object GeneratorFunction]",i="[object Proxy]";function s(u){if(!e(u))return!1;var f=r(u);return f==n||f==a||f==t||f==i}return rh=s,rh}var th,qS;function PF(){if(qS)return th;qS=1;var r=yn(),e=r["__core-js_shared__"];return th=e,th}var nh,FS;function DF(){if(FS)return nh;FS=1;var r=PF(),e=(function(){var n=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""})();function t(n){return!!e&&e in n}return nh=t,nh}var ah,zS;function NA(){if(zS)return ah;zS=1;var r=Function.prototype,e=r.toString;function t(n){if(n!=null){try{return e.call(n)}catch{}try{return n+""}catch{}}return""}return ah=t,ah}var ih,VS;function IF(){if(VS)return ih;VS=1;var r=zs(),e=DF(),t=nn(),n=NA(),a=/[\\^$.*+?()[\]{}|]/g,i=/^\[object .+?Constructor\]$/,s=Function.prototype,u=Object.prototype,f=s.toString,c=u.hasOwnProperty,d=RegExp("^"+f.call(c).replace(a,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function v(p){if(!t(p)||e(p))return!1;var g=r(p)?d:i;return g.test(n(p))}return ih=v,ih}var oh,$S;function MF(){if($S)return oh;$S=1;function r(e,t){return e==null?void 0:e[t]}return oh=r,oh}var sh,US;function vi(){if(US)return sh;US=1;var r=IF(),e=MF();function t(n,a){var i=e(n,a);return r(i)?i:void 0}return sh=t,sh}var uh,GS;function W0(){if(GS)return uh;GS=1;var r=vi(),e=yn(),t=r(e,"Map");return uh=t,uh}var lh,jS;function tf(){if(jS)return lh;jS=1;var r=vi(),e=r(Object,"create");return lh=e,lh}var fh,HS;function OF(){if(HS)return fh;HS=1;var r=tf();function e(){this.__data__=r?r(null):{},this.size=0}return fh=e,fh}var ch,WS;function NF(){if(WS)return ch;WS=1;function r(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}return ch=r,ch}var dh,KS;function LF(){if(KS)return dh;KS=1;var r=tf(),e="__lodash_hash_undefined__",t=Object.prototype,n=t.hasOwnProperty;function a(i){var s=this.__data__;if(r){var u=s[i];return u===e?void 0:u}return n.call(s,i)?s[i]:void 0}return dh=a,dh}var vh,YS;function BF(){if(YS)return vh;YS=1;var r=tf(),e=Object.prototype,t=e.hasOwnProperty;function n(a){var i=this.__data__;return r?i[a]!==void 0:t.call(i,a)}return vh=n,vh}var hh,XS;function qF(){if(XS)return hh;XS=1;var r=tf(),e="__lodash_hash_undefined__";function t(n,a){var i=this.__data__;return this.size+=this.has(n)?0:1,i[n]=r&&a===void 0?e:a,this}return hh=t,hh}var ph,ZS;function FF(){if(ZS)return ph;ZS=1;var r=OF(),e=NF(),t=LF(),n=BF(),a=qF();function i(s){var u=-1,f=s==null?0:s.length;for(this.clear();++u<f;){var c=s[u];this.set(c[0],c[1])}}return i.prototype.clear=r,i.prototype.delete=e,i.prototype.get=t,i.prototype.has=n,i.prototype.set=a,ph=i,ph}var gh,QS;function zF(){if(QS)return gh;QS=1;var r=FF(),e=rf(),t=W0();function n(){this.size=0,this.__data__={hash:new r,map:new(t||e),string:new r}}return gh=n,gh}var yh,JS;function VF(){if(JS)return yh;JS=1;function r(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}return yh=r,yh}var mh,eC;function nf(){if(eC)return mh;eC=1;var r=VF();function e(t,n){var a=t.__data__;return r(n)?a[typeof n=="string"?"string":"hash"]:a.map}return mh=e,mh}var wh,rC;function $F(){if(rC)return wh;rC=1;var r=nf();function e(t){var n=r(this,t).delete(t);return this.size-=n?1:0,n}return wh=e,wh}var bh,tC;function UF(){if(tC)return bh;tC=1;var r=nf();function e(t){return r(this,t).get(t)}return bh=e,bh}var xh,nC;function GF(){if(nC)return xh;nC=1;var r=nf();function e(t){return r(this,t).has(t)}return xh=e,xh}var Eh,aC;function jF(){if(aC)return Eh;aC=1;var r=nf();function e(t,n){var a=r(this,t),i=a.size;return a.set(t,n),this.size+=a.size==i?0:1,this}return Eh=e,Eh}var Sh,iC;function K0(){if(iC)return Sh;iC=1;var r=zF(),e=$F(),t=UF(),n=GF(),a=jF();function i(s){var u=-1,f=s==null?0:s.length;for(this.clear();++u<f;){var c=s[u];this.set(c[0],c[1])}}return i.prototype.clear=r,i.prototype.delete=e,i.prototype.get=t,i.prototype.has=n,i.prototype.set=a,Sh=i,Sh}var Ch,oC;function HF(){if(oC)return Ch;oC=1;var r=rf(),e=W0(),t=K0(),n=200;function a(i,s){var u=this.__data__;if(u instanceof r){var f=u.__data__;if(!e||f.length<n-1)return f.push([i,s]),this.size=++u.size,this;u=this.__data__=new t(f)}return u.set(i,s),this.size=u.size,this}return Ch=a,Ch}var Th,sC;function af(){if(sC)return Th;sC=1;var r=rf(),e=CF(),t=TF(),n=_F(),a=kF(),i=HF();function s(u){var f=this.__data__=new r(u);this.size=f.size}return s.prototype.clear=e,s.prototype.delete=t,s.prototype.get=n,s.prototype.has=a,s.prototype.set=i,Th=s,Th}var _h,uC;function Y0(){if(uC)return _h;uC=1;function r(e,t){for(var n=-1,a=e==null?0:e.length;++n<a&&t(e[n],n,e)!==!1;);return e}return _h=r,_h}var kh,lC;function LA(){if(lC)return kh;lC=1;var r=vi(),e=(function(){try{var t=r(Object,"defineProperty");return t({},"",{}),t}catch{}})();return kh=e,kh}var Rh,fC;function of(){if(fC)return Rh;fC=1;var r=LA();function e(t,n,a){n=="__proto__"&&r?r(t,n,{configurable:!0,enumerable:!0,value:a,writable:!0}):t[n]=a}return Rh=e,Rh}var Ah,cC;function sf(){if(cC)return Ah;cC=1;var r=of(),e=ho(),t=Object.prototype,n=t.hasOwnProperty;function a(i,s,u){var f=i[s];(!(n.call(i,s)&&e(f,u))||u===void 0&&!(s in i))&&r(i,s,u)}return Ah=a,Ah}var Ph,dC;function Vs(){if(dC)return Ph;dC=1;var r=sf(),e=of();function t(n,a,i,s){var u=!i;i||(i={});for(var f=-1,c=a.length;++f<c;){var d=a[f],v=s?s(i[d],n[d],d,i,n):void 0;v===void 0&&(v=n[d]),u?e(i,d,v):r(i,d,v)}return i}return Ph=t,Ph}var Dh,vC;function WF(){if(vC)return Dh;vC=1;function r(e,t){for(var n=-1,a=Array(e);++n<e;)a[n]=t(n);return a}return Dh=r,Dh}var Ih,hC;function Pn(){if(hC)return Ih;hC=1;function r(e){return e!=null&&typeof e=="object"}return Ih=r,Ih}var Mh,pC;function KF(){if(pC)return Mh;pC=1;var r=di(),e=Pn(),t="[object Arguments]";function n(a){return e(a)&&r(a)==t}return Mh=n,Mh}var Oh,gC;function $s(){if(gC)return Oh;gC=1;var r=KF(),e=Pn(),t=Object.prototype,n=t.hasOwnProperty,a=t.propertyIsEnumerable,i=r((function(){return arguments})())?r:function(s){return e(s)&&n.call(s,"callee")&&!a.call(s,"callee")};return Oh=i,Oh}var Nh,yC;function Wr(){if(yC)return Nh;yC=1;var r=Array.isArray;return Nh=r,Nh}var ds={exports:{}},Lh,mC;function YF(){if(mC)return Lh;mC=1;function r(){return!1}return Lh=r,Lh}ds.exports;var wC;function go(){return wC||(wC=1,(function(r,e){var t=yn(),n=YF(),a=e&&!e.nodeType&&e,i=a&&!0&&r&&!r.nodeType&&r,s=i&&i.exports===a,u=s?t.Buffer:void 0,f=u?u.isBuffer:void 0,c=f||n;r.exports=c})(ds,ds.exports)),ds.exports}var Bh,bC;function uf(){if(bC)return Bh;bC=1;var r=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function t(n,a){var i=typeof n;return a=a??r,!!a&&(i=="number"||i!="symbol"&&e.test(n))&&n>-1&&n%1==0&&n<a}return Bh=t,Bh}var qh,xC;function X0(){if(xC)return qh;xC=1;var r=9007199254740991;function e(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=r}return qh=e,qh}var Fh,EC;function XF(){if(EC)return Fh;EC=1;var r=di(),e=X0(),t=Pn(),n="[object Arguments]",a="[object Array]",i="[object Boolean]",s="[object Date]",u="[object Error]",f="[object Function]",c="[object Map]",d="[object Number]",v="[object Object]",p="[object RegExp]",g="[object Set]",y="[object String]",x="[object WeakMap]",w="[object ArrayBuffer]",b="[object DataView]",E="[object Float32Array]",S="[object Float64Array]",T="[object Int8Array]",R="[object Int16Array]",A="[object Int32Array]",k="[object Uint8Array]",P="[object Uint8ClampedArray]",D="[object Uint16Array]",I="[object Uint32Array]",M={};M[E]=M[S]=M[T]=M[R]=M[A]=M[k]=M[P]=M[D]=M[I]=!0,M[n]=M[a]=M[w]=M[i]=M[b]=M[s]=M[u]=M[f]=M[c]=M[d]=M[v]=M[p]=M[g]=M[y]=M[x]=!1;function L(N){return t(N)&&e(N.length)&&!!M[r(N)]}return Fh=L,Fh}var zh,SC;function lf(){if(SC)return zh;SC=1;function r(e){return function(t){return e(t)}}return zh=r,zh}var vs={exports:{}};vs.exports;var CC;function Z0(){return CC||(CC=1,(function(r,e){var t=OA(),n=e&&!e.nodeType&&e,a=n&&!0&&r&&!r.nodeType&&r,i=a&&a.exports===n,s=i&&t.process,u=(function(){try{var f=a&&a.require&&a.require("util").types;return f||s&&s.binding&&s.binding("util")}catch{}})();r.exports=u})(vs,vs.exports)),vs.exports}var Vh,TC;function Us(){if(TC)return Vh;TC=1;var r=XF(),e=lf(),t=Z0(),n=t&&t.isTypedArray,a=n?e(n):r;return Vh=a,Vh}var $h,_C;function BA(){if(_C)return $h;_C=1;var r=WF(),e=$s(),t=Wr(),n=go(),a=uf(),i=Us(),s=Object.prototype,u=s.hasOwnProperty;function f(c,d){var v=t(c),p=!v&&e(c),g=!v&&!p&&n(c),y=!v&&!p&&!g&&i(c),x=v||p||g||y,w=x?r(c.length,String):[],b=w.length;for(var E in c)(d||u.call(c,E))&&!(x&&(E=="length"||g&&(E=="offset"||E=="parent")||y&&(E=="buffer"||E=="byteLength"||E=="byteOffset")||a(E,b)))&&w.push(E);return w}return $h=f,$h}var Uh,kC;function ff(){if(kC)return Uh;kC=1;var r=Object.prototype;function e(t){var n=t&&t.constructor,a=typeof n=="function"&&n.prototype||r;return t===a}return Uh=e,Uh}var Gh,RC;function qA(){if(RC)return Gh;RC=1;function r(e,t){return function(n){return e(t(n))}}return Gh=r,Gh}var jh,AC;function ZF(){if(AC)return jh;AC=1;var r=qA(),e=r(Object.keys,Object);return jh=e,jh}var Hh,PC;function Q0(){if(PC)return Hh;PC=1;var r=ff(),e=ZF(),t=Object.prototype,n=t.hasOwnProperty;function a(i){if(!r(i))return e(i);var s=[];for(var u in Object(i))n.call(i,u)&&u!="constructor"&&s.push(u);return s}return Hh=a,Hh}var Wh,DC;function Wn(){if(DC)return Wh;DC=1;var r=zs(),e=X0();function t(n){return n!=null&&e(n.length)&&!r(n)}return Wh=t,Wh}var Kh,IC;function La(){if(IC)return Kh;IC=1;var r=BA(),e=Q0(),t=Wn();function n(a){return t(a)?r(a):e(a)}return Kh=n,Kh}var Yh,MC;function QF(){if(MC)return Yh;MC=1;var r=Vs(),e=La();function t(n,a){return n&&r(a,e(a),n)}return Yh=t,Yh}var Xh,OC;function JF(){if(OC)return Xh;OC=1;function r(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t}return Xh=r,Xh}var Zh,NC;function ez(){if(NC)return Zh;NC=1;var r=nn(),e=ff(),t=JF(),n=Object.prototype,a=n.hasOwnProperty;function i(s){if(!r(s))return t(s);var u=e(s),f=[];for(var c in s)c=="constructor"&&(u||!a.call(s,c))||f.push(c);return f}return Zh=i,Zh}var Qh,LC;function hi(){if(LC)return Qh;LC=1;var r=BA(),e=ez(),t=Wn();function n(a){return t(a)?r(a,!0):e(a)}return Qh=n,Qh}var Jh,BC;function rz(){if(BC)return Jh;BC=1;var r=Vs(),e=hi();function t(n,a){return n&&r(a,e(a),n)}return Jh=t,Jh}var hs={exports:{}};hs.exports;var qC;function FA(){return qC||(qC=1,(function(r,e){var t=yn(),n=e&&!e.nodeType&&e,a=n&&!0&&r&&!r.nodeType&&r,i=a&&a.exports===n,s=i?t.Buffer:void 0,u=s?s.allocUnsafe:void 0;function f(c,d){if(d)return c.slice();var v=c.length,p=u?u(v):new c.constructor(v);return c.copy(p),p}r.exports=f})(hs,hs.exports)),hs.exports}var ep,FC;function zA(){if(FC)return ep;FC=1;function r(e,t){var n=-1,a=e.length;for(t||(t=Array(a));++n<a;)t[n]=e[n];return t}return ep=r,ep}var rp,zC;function VA(){if(zC)return rp;zC=1;function r(e,t){for(var n=-1,a=e==null?0:e.length,i=0,s=[];++n<a;){var u=e[n];t(u,n,e)&&(s[i++]=u)}return s}return rp=r,rp}var tp,VC;function $A(){if(VC)return tp;VC=1;function r(){return[]}return tp=r,tp}var np,$C;function J0(){if($C)return np;$C=1;var r=VA(),e=$A(),t=Object.prototype,n=t.propertyIsEnumerable,a=Object.getOwnPropertySymbols,i=a?function(s){return s==null?[]:(s=Object(s),r(a(s),function(u){return n.call(s,u)}))}:e;return np=i,np}var ap,UC;function tz(){if(UC)return ap;UC=1;var r=Vs(),e=J0();function t(n,a){return r(n,e(n),a)}return ap=t,ap}var ip,GC;function e1(){if(GC)return ip;GC=1;function r(e,t){for(var n=-1,a=t.length,i=e.length;++n<a;)e[i+n]=t[n];return e}return ip=r,ip}var op,jC;function cf(){if(jC)return op;jC=1;var r=qA(),e=r(Object.getPrototypeOf,Object);return op=e,op}var sp,HC;function UA(){if(HC)return sp;HC=1;var r=e1(),e=cf(),t=J0(),n=$A(),a=Object.getOwnPropertySymbols,i=a?function(s){for(var u=[];s;)r(u,t(s)),s=e(s);return u}:n;return sp=i,sp}var up,WC;function nz(){if(WC)return up;WC=1;var r=Vs(),e=UA();function t(n,a){return r(n,e(n),a)}return up=t,up}var lp,KC;function GA(){if(KC)return lp;KC=1;var r=e1(),e=Wr();function t(n,a,i){var s=a(n);return e(n)?s:r(s,i(n))}return lp=t,lp}var fp,YC;function jA(){if(YC)return fp;YC=1;var r=GA(),e=J0(),t=La();function n(a){return r(a,t,e)}return fp=n,fp}var cp,XC;function az(){if(XC)return cp;XC=1;var r=GA(),e=UA(),t=hi();function n(a){return r(a,t,e)}return cp=n,cp}var dp,ZC;function iz(){if(ZC)return dp;ZC=1;var r=vi(),e=yn(),t=r(e,"DataView");return dp=t,dp}var vp,QC;function oz(){if(QC)return vp;QC=1;var r=vi(),e=yn(),t=r(e,"Promise");return vp=t,vp}var hp,JC;function HA(){if(JC)return hp;JC=1;var r=vi(),e=yn(),t=r(e,"Set");return hp=t,hp}var pp,eT;function sz(){if(eT)return pp;eT=1;var r=vi(),e=yn(),t=r(e,"WeakMap");return pp=t,pp}var gp,rT;function yo(){if(rT)return gp;rT=1;var r=iz(),e=W0(),t=oz(),n=HA(),a=sz(),i=di(),s=NA(),u="[object Map]",f="[object Object]",c="[object Promise]",d="[object Set]",v="[object WeakMap]",p="[object DataView]",g=s(r),y=s(e),x=s(t),w=s(n),b=s(a),E=i;return(r&&E(new r(new ArrayBuffer(1)))!=p||e&&E(new e)!=u||t&&E(t.resolve())!=c||n&&E(new n)!=d||a&&E(new a)!=v)&&(E=function(S){var T=i(S),R=T==f?S.constructor:void 0,A=R?s(R):"";if(A)switch(A){case g:return p;case y:return u;case x:return c;case w:return d;case b:return v}return T}),gp=E,gp}var yp,tT;function uz(){if(tT)return yp;tT=1;var r=Object.prototype,e=r.hasOwnProperty;function t(n){var a=n.length,i=new n.constructor(a);return a&&typeof n[0]=="string"&&e.call(n,"index")&&(i.index=n.index,i.input=n.input),i}return yp=t,yp}var mp,nT;function WA(){if(nT)return mp;nT=1;var r=yn(),e=r.Uint8Array;return mp=e,mp}var wp,aT;function r1(){if(aT)return wp;aT=1;var r=WA();function e(t){var n=new t.constructor(t.byteLength);return new r(n).set(new r(t)),n}return wp=e,wp}var bp,iT;function lz(){if(iT)return bp;iT=1;var r=r1();function e(t,n){var a=n?r(t.buffer):t.buffer;return new t.constructor(a,t.byteOffset,t.byteLength)}return bp=e,bp}var xp,oT;function fz(){if(oT)return xp;oT=1;var r=/\w*$/;function e(t){var n=new t.constructor(t.source,r.exec(t));return n.lastIndex=t.lastIndex,n}return xp=e,xp}var Ep,sT;function cz(){if(sT)return Ep;sT=1;var r=po(),e=r?r.prototype:void 0,t=e?e.valueOf:void 0;function n(a){return t?Object(t.call(a)):{}}return Ep=n,Ep}var Sp,uT;function KA(){if(uT)return Sp;uT=1;var r=r1();function e(t,n){var a=n?r(t.buffer):t.buffer;return new t.constructor(a,t.byteOffset,t.length)}return Sp=e,Sp}var Cp,lT;function dz(){if(lT)return Cp;lT=1;var r=r1(),e=lz(),t=fz(),n=cz(),a=KA(),i="[object Boolean]",s="[object Date]",u="[object Map]",f="[object Number]",c="[object RegExp]",d="[object Set]",v="[object String]",p="[object Symbol]",g="[object ArrayBuffer]",y="[object DataView]",x="[object Float32Array]",w="[object Float64Array]",b="[object Int8Array]",E="[object Int16Array]",S="[object Int32Array]",T="[object Uint8Array]",R="[object Uint8ClampedArray]",A="[object Uint16Array]",k="[object Uint32Array]";function P(D,I,M){var L=D.constructor;switch(I){case g:return r(D);case i:case s:return new L(+D);case y:return e(D,M);case x:case w:case b:case E:case S:case T:case R:case A:case k:return a(D,M);case u:return new L;case f:case v:return new L(D);case c:return t(D);case d:return new L;case p:return n(D)}}return Cp=P,Cp}var Tp,fT;function YA(){if(fT)return Tp;fT=1;var r=nn(),e=Object.create,t=(function(){function n(){}return function(a){if(!r(a))return{};if(e)return e(a);n.prototype=a;var i=new n;return n.prototype=void 0,i}})();return Tp=t,Tp}var _p,cT;function XA(){if(cT)return _p;cT=1;var r=YA(),e=cf(),t=ff();function n(a){return typeof a.constructor=="function"&&!t(a)?r(e(a)):{}}return _p=n,_p}var kp,dT;function vz(){if(dT)return kp;dT=1;var r=yo(),e=Pn(),t="[object Map]";function n(a){return e(a)&&r(a)==t}return kp=n,kp}var Rp,vT;function hz(){if(vT)return Rp;vT=1;var r=vz(),e=lf(),t=Z0(),n=t&&t.isMap,a=n?e(n):r;return Rp=a,Rp}var Ap,hT;function pz(){if(hT)return Ap;hT=1;var r=yo(),e=Pn(),t="[object Set]";function n(a){return e(a)&&r(a)==t}return Ap=n,Ap}var Pp,pT;function gz(){if(pT)return Pp;pT=1;var r=pz(),e=lf(),t=Z0(),n=t&&t.isSet,a=n?e(n):r;return Pp=a,Pp}var Dp,gT;function ZA(){if(gT)return Dp;gT=1;var r=af(),e=Y0(),t=sf(),n=QF(),a=rz(),i=FA(),s=zA(),u=tz(),f=nz(),c=jA(),d=az(),v=yo(),p=uz(),g=dz(),y=XA(),x=Wr(),w=go(),b=hz(),E=nn(),S=gz(),T=La(),R=hi(),A=1,k=2,P=4,D="[object Arguments]",I="[object Array]",M="[object Boolean]",L="[object Date]",N="[object Error]",z="[object Function]",G="[object GeneratorFunction]",H="[object Map]",U="[object Number]",F="[object Object]",X="[object RegExp]",K="[object Set]",B="[object String]",V="[object Symbol]",te="[object WeakMap]",$="[object ArrayBuffer]",j="[object DataView]",Y="[object Float32Array]",ee="[object Float64Array]",le="[object Int8Array]",ie="[object Int16Array]",Q="[object Int32Array]",re="[object Uint8Array]",se="[object Uint8ClampedArray]",ce="[object Uint16Array]",me="[object Uint32Array]",xe={};xe[D]=xe[I]=xe[$]=xe[j]=xe[M]=xe[L]=xe[Y]=xe[ee]=xe[le]=xe[ie]=xe[Q]=xe[H]=xe[U]=xe[F]=xe[X]=xe[K]=xe[B]=xe[V]=xe[re]=xe[se]=xe[ce]=xe[me]=!0,xe[N]=xe[z]=xe[te]=!1;function Ze(Se,Ve,Oe,Ce,Ae,Pe){var Ne,Be=Ve&A,Ye=Ve&k,ar=Ve&P;if(Oe&&(Ne=Ae?Oe(Se,Ce,Ae,Pe):Oe(Se)),Ne!==void 0)return Ne;if(!E(Se))return Se;var sr=x(Se);if(sr){if(Ne=p(Se),!Be)return s(Se,Ne)}else{var er=v(Se),ur=er==z||er==G;if(w(Se))return i(Se,Be);if(er==F||er==D||ur&&!Ae){if(Ne=Ye||ur?{}:y(Se),!Be)return Ye?f(Se,a(Ne,Se)):u(Se,n(Ne,Se))}else{if(!xe[er])return Ae?Se:{};Ne=g(Se,er,Be)}}Pe||(Pe=new r);var Ge=Pe.get(Se);if(Ge)return Ge;Pe.set(Se,Ne),S(Se)?Se.forEach(function(q){Ne.add(Ze(q,Ve,Oe,q,Se,Pe))}):b(Se)&&Se.forEach(function(q,ne){Ne.set(ne,Ze(q,Ve,Oe,ne,Se,Pe))});var _e=ar?Ye?d:c:Ye?R:T,he=sr?void 0:_e(Se);return e(he||Se,function(q,ne){he&&(ne=q,q=Se[ne]),t(Ne,ne,Ze(q,Ve,Oe,ne,Se,Pe))}),Ne}return Dp=Ze,Dp}var Ip,yT;function yz(){if(yT)return Ip;yT=1;var r=ZA(),e=4;function t(n){return r(n,e)}return Ip=t,Ip}var Mp,mT;function t1(){if(mT)return Mp;mT=1;function r(e){return function(){return e}}return Mp=r,Mp}var Op,wT;function mz(){if(wT)return Op;wT=1;function r(e){return function(t,n,a){for(var i=-1,s=Object(t),u=a(t),f=u.length;f--;){var c=u[e?f:++i];if(n(s[c],c,s)===!1)break}return t}}return Op=r,Op}var Np,bT;function n1(){if(bT)return Np;bT=1;var r=mz(),e=r();return Np=e,Np}var Lp,xT;function a1(){if(xT)return Lp;xT=1;var r=n1(),e=La();function t(n,a){return n&&r(n,a,e)}return Lp=t,Lp}var Bp,ET;function wz(){if(ET)return Bp;ET=1;var r=Wn();function e(t,n){return function(a,i){if(a==null)return a;if(!r(a))return t(a,i);for(var s=a.length,u=n?s:-1,f=Object(a);(n?u--:++u<s)&&i(f[u],u,f)!==!1;);return a}}return Bp=e,Bp}var qp,ST;function df(){if(ST)return qp;ST=1;var r=a1(),e=wz(),t=e(r);return qp=t,qp}var Fp,CT;function pi(){if(CT)return Fp;CT=1;function r(e){return e}return Fp=r,Fp}var zp,TT;function QA(){if(TT)return zp;TT=1;var r=pi();function e(t){return typeof t=="function"?t:r}return zp=e,zp}var Vp,_T;function JA(){if(_T)return Vp;_T=1;var r=Y0(),e=df(),t=QA(),n=Wr();function a(i,s){var u=n(i)?r:e;return u(i,t(s))}return Vp=a,Vp}var $p,kT;function eP(){return kT||(kT=1,$p=JA()),$p}var Up,RT;function bz(){if(RT)return Up;RT=1;var r=df();function e(t,n){var a=[];return r(t,function(i,s,u){n(i,s,u)&&a.push(i)}),a}return Up=e,Up}var Gp,AT;function xz(){if(AT)return Gp;AT=1;var r="__lodash_hash_undefined__";function e(t){return this.__data__.set(t,r),this}return Gp=e,Gp}var jp,PT;function Ez(){if(PT)return jp;PT=1;function r(e){return this.__data__.has(e)}return jp=r,jp}var Hp,DT;function rP(){if(DT)return Hp;DT=1;var r=K0(),e=xz(),t=Ez();function n(a){var i=-1,s=a==null?0:a.length;for(this.__data__=new r;++i<s;)this.add(a[i])}return n.prototype.add=n.prototype.push=e,n.prototype.has=t,Hp=n,Hp}var Wp,IT;function Sz(){if(IT)return Wp;IT=1;function r(e,t){for(var n=-1,a=e==null?0:e.length;++n<a;)if(t(e[n],n,e))return!0;return!1}return Wp=r,Wp}var Kp,MT;function tP(){if(MT)return Kp;MT=1;function r(e,t){return e.has(t)}return Kp=r,Kp}var Yp,OT;function nP(){if(OT)return Yp;OT=1;var r=rP(),e=Sz(),t=tP(),n=1,a=2;function i(s,u,f,c,d,v){var p=f&n,g=s.length,y=u.length;if(g!=y&&!(p&&y>g))return!1;var x=v.get(s),w=v.get(u);if(x&&w)return x==u&&w==s;var b=-1,E=!0,S=f&a?new r:void 0;for(v.set(s,u),v.set(u,s);++b<g;){var T=s[b],R=u[b];if(c)var A=p?c(R,T,b,u,s,v):c(T,R,b,s,u,v);if(A!==void 0){if(A)continue;E=!1;break}if(S){if(!e(u,function(k,P){if(!t(S,P)&&(T===k||d(T,k,f,c,v)))return S.push(P)})){E=!1;break}}else if(!(T===R||d(T,R,f,c,v))){E=!1;break}}return v.delete(s),v.delete(u),E}return Yp=i,Yp}var Xp,NT;function Cz(){if(NT)return Xp;NT=1;function r(e){var t=-1,n=Array(e.size);return e.forEach(function(a,i){n[++t]=[i,a]}),n}return Xp=r,Xp}var Zp,LT;function i1(){if(LT)return Zp;LT=1;function r(e){var t=-1,n=Array(e.size);return e.forEach(function(a){n[++t]=a}),n}return Zp=r,Zp}var Qp,BT;function Tz(){if(BT)return Qp;BT=1;var r=po(),e=WA(),t=ho(),n=nP(),a=Cz(),i=i1(),s=1,u=2,f="[object Boolean]",c="[object Date]",d="[object Error]",v="[object Map]",p="[object Number]",g="[object RegExp]",y="[object Set]",x="[object String]",w="[object Symbol]",b="[object ArrayBuffer]",E="[object DataView]",S=r?r.prototype:void 0,T=S?S.valueOf:void 0;function R(A,k,P,D,I,M,L){switch(P){case E:if(A.byteLength!=k.byteLength||A.byteOffset!=k.byteOffset)return!1;A=A.buffer,k=k.buffer;case b:return!(A.byteLength!=k.byteLength||!M(new e(A),new e(k)));case f:case c:case p:return t(+A,+k);case d:return A.name==k.name&&A.message==k.message;case g:case x:return A==k+"";case v:var N=a;case y:var z=D&s;if(N||(N=i),A.size!=k.size&&!z)return!1;var G=L.get(A);if(G)return G==k;D|=u,L.set(A,k);var H=n(N(A),N(k),D,I,M,L);return L.delete(A),H;case w:if(T)return T.call(A)==T.call(k)}return!1}return Qp=R,Qp}var Jp,qT;function _z(){if(qT)return Jp;qT=1;var r=jA(),e=1,t=Object.prototype,n=t.hasOwnProperty;function a(i,s,u,f,c,d){var v=u&e,p=r(i),g=p.length,y=r(s),x=y.length;if(g!=x&&!v)return!1;for(var w=g;w--;){var b=p[w];if(!(v?b in s:n.call(s,b)))return!1}var E=d.get(i),S=d.get(s);if(E&&S)return E==s&&S==i;var T=!0;d.set(i,s),d.set(s,i);for(var R=v;++w<g;){b=p[w];var A=i[b],k=s[b];if(f)var P=v?f(k,A,b,s,i,d):f(A,k,b,i,s,d);if(!(P===void 0?A===k||c(A,k,u,f,d):P)){T=!1;break}R||(R=b=="constructor")}if(T&&!R){var D=i.constructor,I=s.constructor;D!=I&&"constructor"in i&&"constructor"in s&&!(typeof D=="function"&&D instanceof D&&typeof I=="function"&&I instanceof I)&&(T=!1)}return d.delete(i),d.delete(s),T}return Jp=a,Jp}var eg,FT;function kz(){if(FT)return eg;FT=1;var r=af(),e=nP(),t=Tz(),n=_z(),a=yo(),i=Wr(),s=go(),u=Us(),f=1,c="[object Arguments]",d="[object Array]",v="[object Object]",p=Object.prototype,g=p.hasOwnProperty;function y(x,w,b,E,S,T){var R=i(x),A=i(w),k=R?d:a(x),P=A?d:a(w);k=k==c?v:k,P=P==c?v:P;var D=k==v,I=P==v,M=k==P;if(M&&s(x)){if(!s(w))return!1;R=!0,D=!1}if(M&&!D)return T||(T=new r),R||u(x)?e(x,w,b,E,S,T):t(x,w,k,b,E,S,T);if(!(b&f)){var L=D&&g.call(x,"__wrapped__"),N=I&&g.call(w,"__wrapped__");if(L||N){var z=L?x.value():x,G=N?w.value():w;return T||(T=new r),S(z,G,b,E,T)}}return M?(T||(T=new r),n(x,w,b,E,S,T)):!1}return eg=y,eg}var rg,zT;function aP(){if(zT)return rg;zT=1;var r=kz(),e=Pn();function t(n,a,i,s,u){return n===a?!0:n==null||a==null||!e(n)&&!e(a)?n!==n&&a!==a:r(n,a,i,s,t,u)}return rg=t,rg}var tg,VT;function Rz(){if(VT)return tg;VT=1;var r=af(),e=aP(),t=1,n=2;function a(i,s,u,f){var c=u.length,d=c,v=!f;if(i==null)return!d;for(i=Object(i);c--;){var p=u[c];if(v&&p[2]?p[1]!==i[p[0]]:!(p[0]in i))return!1}for(;++c<d;){p=u[c];var g=p[0],y=i[g],x=p[1];if(v&&p[2]){if(y===void 0&&!(g in i))return!1}else{var w=new r;if(f)var b=f(y,x,g,i,s,w);if(!(b===void 0?e(x,y,t|n,f,w):b))return!1}}return!0}return tg=a,tg}var ng,$T;function iP(){if($T)return ng;$T=1;var r=nn();function e(t){return t===t&&!r(t)}return ng=e,ng}var ag,UT;function Az(){if(UT)return ag;UT=1;var r=iP(),e=La();function t(n){for(var a=e(n),i=a.length;i--;){var s=a[i],u=n[s];a[i]=[s,u,r(u)]}return a}return ag=t,ag}var ig,GT;function oP(){if(GT)return ig;GT=1;function r(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}return ig=r,ig}var og,jT;function Pz(){if(jT)return og;jT=1;var r=Rz(),e=Az(),t=oP();function n(a){var i=e(a);return i.length==1&&i[0][2]?t(i[0][0],i[0][1]):function(s){return s===a||r(s,a,i)}}return og=n,og}var sg,HT;function mo(){if(HT)return sg;HT=1;var r=di(),e=Pn(),t="[object Symbol]";function n(a){return typeof a=="symbol"||e(a)&&r(a)==t}return sg=n,sg}var ug,WT;function o1(){if(WT)return ug;WT=1;var r=Wr(),e=mo(),t=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(i,s){if(r(i))return!1;var u=typeof i;return u=="number"||u=="symbol"||u=="boolean"||i==null||e(i)?!0:n.test(i)||!t.test(i)||s!=null&&i in Object(s)}return ug=a,ug}var lg,KT;function Dz(){if(KT)return lg;KT=1;var r=K0(),e="Expected a function";function t(n,a){if(typeof n!="function"||a!=null&&typeof a!="function")throw new TypeError(e);var i=function(){var s=arguments,u=a?a.apply(this,s):s[0],f=i.cache;if(f.has(u))return f.get(u);var c=n.apply(this,s);return i.cache=f.set(u,c)||f,c};return i.cache=new(t.Cache||r),i}return t.Cache=r,lg=t,lg}var fg,YT;function Iz(){if(YT)return fg;YT=1;var r=Dz(),e=500;function t(n){var a=r(n,function(s){return i.size===e&&i.clear(),s}),i=a.cache;return a}return fg=t,fg}var cg,XT;function Mz(){if(XT)return cg;XT=1;var r=Iz(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,t=/\\(\\)?/g,n=r(function(a){var i=[];return a.charCodeAt(0)===46&&i.push(""),a.replace(e,function(s,u,f,c){i.push(f?c.replace(t,"$1"):u||s)}),i});return cg=n,cg}var dg,ZT;function vf(){if(ZT)return dg;ZT=1;function r(e,t){for(var n=-1,a=e==null?0:e.length,i=Array(a);++n<a;)i[n]=t(e[n],n,e);return i}return dg=r,dg}var vg,QT;function Oz(){if(QT)return vg;QT=1;var r=po(),e=vf(),t=Wr(),n=mo(),a=r?r.prototype:void 0,i=a?a.toString:void 0;function s(u){if(typeof u=="string")return u;if(t(u))return e(u,s)+"";if(n(u))return i?i.call(u):"";var f=u+"";return f=="0"&&1/u==-1/0?"-0":f}return vg=s,vg}var hg,JT;function sP(){if(JT)return hg;JT=1;var r=Oz();function e(t){return t==null?"":r(t)}return hg=e,hg}var pg,e_;function hf(){if(e_)return pg;e_=1;var r=Wr(),e=o1(),t=Mz(),n=sP();function a(i,s){return r(i)?i:e(i,s)?[i]:t(n(i))}return pg=a,pg}var gg,r_;function Gs(){if(r_)return gg;r_=1;var r=mo();function e(t){if(typeof t=="string"||r(t))return t;var n=t+"";return n=="0"&&1/t==-1/0?"-0":n}return gg=e,gg}var yg,t_;function pf(){if(t_)return yg;t_=1;var r=hf(),e=Gs();function t(n,a){a=r(a,n);for(var i=0,s=a.length;n!=null&&i<s;)n=n[e(a[i++])];return i&&i==s?n:void 0}return yg=t,yg}var mg,n_;function Nz(){if(n_)return mg;n_=1;var r=pf();function e(t,n,a){var i=t==null?void 0:r(t,n);return i===void 0?a:i}return mg=e,mg}var wg,a_;function Lz(){if(a_)return wg;a_=1;function r(e,t){return e!=null&&t in Object(e)}return wg=r,wg}var bg,i_;function uP(){if(i_)return bg;i_=1;var r=hf(),e=$s(),t=Wr(),n=uf(),a=X0(),i=Gs();function s(u,f,c){f=r(f,u);for(var d=-1,v=f.length,p=!1;++d<v;){var g=i(f[d]);if(!(p=u!=null&&c(u,g)))break;u=u[g]}return p||++d!=v?p:(v=u==null?0:u.length,!!v&&a(v)&&n(g,v)&&(t(u)||e(u)))}return bg=s,bg}var xg,o_;function lP(){if(o_)return xg;o_=1;var r=Lz(),e=uP();function t(n,a){return n!=null&&e(n,a,r)}return xg=t,xg}var Eg,s_;function Bz(){if(s_)return Eg;s_=1;var r=aP(),e=Nz(),t=lP(),n=o1(),a=iP(),i=oP(),s=Gs(),u=1,f=2;function c(d,v){return n(d)&&a(v)?i(s(d),v):function(p){var g=e(p,d);return g===void 0&&g===v?t(p,d):r(v,g,u|f)}}return Eg=c,Eg}var Sg,u_;function fP(){if(u_)return Sg;u_=1;function r(e){return function(t){return t==null?void 0:t[e]}}return Sg=r,Sg}var Cg,l_;function qz(){if(l_)return Cg;l_=1;var r=pf();function e(t){return function(n){return r(n,t)}}return Cg=e,Cg}var Tg,f_;function Fz(){if(f_)return Tg;f_=1;var r=fP(),e=qz(),t=o1(),n=Gs();function a(i){return t(i)?r(n(i)):e(i)}return Tg=a,Tg}var _g,c_;function Kn(){if(c_)return _g;c_=1;var r=Pz(),e=Bz(),t=pi(),n=Wr(),a=Fz();function i(s){return typeof s=="function"?s:s==null?t:typeof s=="object"?n(s)?e(s[0],s[1]):r(s):a(s)}return _g=i,_g}var kg,d_;function cP(){if(d_)return kg;d_=1;var r=VA(),e=bz(),t=Kn(),n=Wr();function a(i,s){var u=n(i)?r:e;return u(i,t(s,3))}return kg=a,kg}var Rg,v_;function zz(){if(v_)return Rg;v_=1;var r=Object.prototype,e=r.hasOwnProperty;function t(n,a){return n!=null&&e.call(n,a)}return Rg=t,Rg}var Ag,h_;function dP(){if(h_)return Ag;h_=1;var r=zz(),e=uP();function t(n,a){return n!=null&&e(n,a,r)}return Ag=t,Ag}var Pg,p_;function Vz(){if(p_)return Pg;p_=1;var r=Q0(),e=yo(),t=$s(),n=Wr(),a=Wn(),i=go(),s=ff(),u=Us(),f="[object Map]",c="[object Set]",d=Object.prototype,v=d.hasOwnProperty;function p(g){if(g==null)return!0;if(a(g)&&(n(g)||typeof g=="string"||typeof g.splice=="function"||i(g)||u(g)||t(g)))return!g.length;var y=e(g);if(y==f||y==c)return!g.size;if(s(g))return!r(g).length;for(var x in g)if(v.call(g,x))return!1;return!0}return Pg=p,Pg}var Dg,g_;function vP(){if(g_)return Dg;g_=1;function r(e){return e===void 0}return Dg=r,Dg}var Ig,y_;function hP(){if(y_)return Ig;y_=1;var r=df(),e=Wn();function t(n,a){var i=-1,s=e(n)?Array(n.length):[];return r(n,function(u,f,c){s[++i]=a(u,f,c)}),s}return Ig=t,Ig}var Mg,m_;function pP(){if(m_)return Mg;m_=1;var r=vf(),e=Kn(),t=hP(),n=Wr();function a(i,s){var u=n(i)?r:t;return u(i,e(s,3))}return Mg=a,Mg}var Og,w_;function $z(){if(w_)return Og;w_=1;function r(e,t,n,a){var i=-1,s=e==null?0:e.length;for(a&&s&&(n=e[++i]);++i<s;)n=t(n,e[i],i,e);return n}return Og=r,Og}var Ng,b_;function Uz(){if(b_)return Ng;b_=1;function r(e,t,n,a,i){return i(e,function(s,u,f){n=a?(a=!1,s):t(n,s,u,f)}),n}return Ng=r,Ng}var Lg,x_;function gP(){if(x_)return Lg;x_=1;var r=$z(),e=df(),t=Kn(),n=Uz(),a=Wr();function i(s,u,f){var c=a(s)?r:n,d=arguments.length<3;return c(s,t(u,4),f,d,e)}return Lg=i,Lg}var Bg,E_;function Gz(){if(E_)return Bg;E_=1;var r=di(),e=Wr(),t=Pn(),n="[object String]";function a(i){return typeof i=="string"||!e(i)&&t(i)&&r(i)==n}return Bg=a,Bg}var qg,S_;function jz(){if(S_)return qg;S_=1;var r=fP(),e=r("length");return qg=e,qg}var Fg,C_;function Hz(){if(C_)return Fg;C_=1;var r="\\ud800-\\udfff",e="\\u0300-\\u036f",t="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",a=e+t+n,i="\\ufe0e\\ufe0f",s="\\u200d",u=RegExp("["+s+r+a+i+"]");function f(c){return u.test(c)}return Fg=f,Fg}var zg,T_;function Wz(){if(T_)return zg;T_=1;var r="\\ud800-\\udfff",e="\\u0300-\\u036f",t="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",a=e+t+n,i="\\ufe0e\\ufe0f",s="["+r+"]",u="["+a+"]",f="\\ud83c[\\udffb-\\udfff]",c="(?:"+u+"|"+f+")",d="[^"+r+"]",v="(?:\\ud83c[\\udde6-\\uddff]){2}",p="[\\ud800-\\udbff][\\udc00-\\udfff]",g="\\u200d",y=c+"?",x="["+i+"]?",w="(?:"+g+"(?:"+[d,v,p].join("|")+")"+x+y+")*",b=x+y+w,E="(?:"+[d+u+"?",u,v,p,s].join("|")+")",S=RegExp(f+"(?="+f+")|"+E+b,"g");function T(R){for(var A=S.lastIndex=0;S.test(R);)++A;return A}return zg=T,zg}var Vg,__;function Kz(){if(__)return Vg;__=1;var r=jz(),e=Hz(),t=Wz();function n(a){return e(a)?t(a):r(a)}return Vg=n,Vg}var $g,k_;function Yz(){if(k_)return $g;k_=1;var r=Q0(),e=yo(),t=Wn(),n=Gz(),a=Kz(),i="[object Map]",s="[object Set]";function u(f){if(f==null)return 0;if(t(f))return n(f)?a(f):f.length;var c=e(f);return c==i||c==s?f.size:r(f).length}return $g=u,$g}var Ug,R_;function Xz(){if(R_)return Ug;R_=1;var r=Y0(),e=YA(),t=a1(),n=Kn(),a=cf(),i=Wr(),s=go(),u=zs(),f=nn(),c=Us();function d(v,p,g){var y=i(v),x=y||s(v)||c(v);if(p=n(p,4),g==null){var w=v&&v.constructor;x?g=y?new w:[]:f(v)?g=u(w)?e(a(v)):{}:g={}}return(x?r:t)(v,function(b,E,S){return p(g,b,E,S)}),g}return Ug=d,Ug}var Gg,A_;function Zz(){if(A_)return Gg;A_=1;var r=po(),e=$s(),t=Wr(),n=r?r.isConcatSpreadable:void 0;function a(i){return t(i)||e(i)||!!(n&&i&&i[n])}return Gg=a,Gg}var jg,P_;function s1(){if(P_)return jg;P_=1;var r=e1(),e=Zz();function t(n,a,i,s,u){var f=-1,c=n.length;for(i||(i=e),u||(u=[]);++f<c;){var d=n[f];a>0&&i(d)?a>1?t(d,a-1,i,s,u):r(u,d):s||(u[u.length]=d)}return u}return jg=t,jg}var Hg,D_;function Qz(){if(D_)return Hg;D_=1;function r(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}return Hg=r,Hg}var Wg,I_;function yP(){if(I_)return Wg;I_=1;var r=Qz(),e=Math.max;function t(n,a,i){return a=e(a===void 0?n.length-1:a,0),function(){for(var s=arguments,u=-1,f=e(s.length-a,0),c=Array(f);++u<f;)c[u]=s[a+u];u=-1;for(var d=Array(a+1);++u<a;)d[u]=s[u];return d[a]=i(c),r(n,this,d)}}return Wg=t,Wg}var Kg,M_;function Jz(){if(M_)return Kg;M_=1;var r=t1(),e=LA(),t=pi(),n=e?function(a,i){return e(a,"toString",{configurable:!0,enumerable:!1,value:r(i),writable:!0})}:t;return Kg=n,Kg}var Yg,O_;function e5(){if(O_)return Yg;O_=1;var r=800,e=16,t=Date.now;function n(a){var i=0,s=0;return function(){var u=t(),f=e-(u-s);if(s=u,f>0){if(++i>=r)return arguments[0]}else i=0;return a.apply(void 0,arguments)}}return Yg=n,Yg}var Xg,N_;function mP(){if(N_)return Xg;N_=1;var r=Jz(),e=e5(),t=e(r);return Xg=t,Xg}var Zg,L_;function gf(){if(L_)return Zg;L_=1;var r=pi(),e=yP(),t=mP();function n(a,i){return t(e(a,i,r),a+"")}return Zg=n,Zg}var Qg,B_;function wP(){if(B_)return Qg;B_=1;function r(e,t,n,a){for(var i=e.length,s=n+(a?1:-1);a?s--:++s<i;)if(t(e[s],s,e))return s;return-1}return Qg=r,Qg}var Jg,q_;function r5(){if(q_)return Jg;q_=1;function r(e){return e!==e}return Jg=r,Jg}var ey,F_;function t5(){if(F_)return ey;F_=1;function r(e,t,n){for(var a=n-1,i=e.length;++a<i;)if(e[a]===t)return a;return-1}return ey=r,ey}var ry,z_;function n5(){if(z_)return ry;z_=1;var r=wP(),e=r5(),t=t5();function n(a,i,s){return i===i?t(a,i,s):r(a,e,s)}return ry=n,ry}var ty,V_;function a5(){if(V_)return ty;V_=1;var r=n5();function e(t,n){var a=t==null?0:t.length;return!!a&&r(t,n,0)>-1}return ty=e,ty}var ny,$_;function i5(){if($_)return ny;$_=1;function r(e,t,n){for(var a=-1,i=e==null?0:e.length;++a<i;)if(n(t,e[a]))return!0;return!1}return ny=r,ny}var ay,U_;function o5(){if(U_)return ay;U_=1;function r(){}return ay=r,ay}var iy,G_;function s5(){if(G_)return iy;G_=1;var r=HA(),e=o5(),t=i1(),n=1/0,a=r&&1/t(new r([,-0]))[1]==n?function(i){return new r(i)}:e;return iy=a,iy}var oy,j_;function u5(){if(j_)return oy;j_=1;var r=rP(),e=a5(),t=i5(),n=tP(),a=s5(),i=i1(),s=200;function u(f,c,d){var v=-1,p=e,g=f.length,y=!0,x=[],w=x;if(d)y=!1,p=t;else if(g>=s){var b=c?null:a(f);if(b)return i(b);y=!1,p=n,w=new r}else w=c?[]:x;e:for(;++v<g;){var E=f[v],S=c?c(E):E;if(E=d||E!==0?E:0,y&&S===S){for(var T=w.length;T--;)if(w[T]===S)continue e;c&&w.push(S),x.push(E)}else p(w,S,d)||(w!==x&&w.push(S),x.push(E))}return x}return oy=u,oy}var sy,H_;function bP(){if(H_)return sy;H_=1;var r=Wn(),e=Pn();function t(n){return e(n)&&r(n)}return sy=t,sy}var uy,W_;function l5(){if(W_)return uy;W_=1;var r=s1(),e=gf(),t=u5(),n=bP(),a=e(function(i){return t(r(i,1,n,!0))});return uy=a,uy}var ly,K_;function f5(){if(K_)return ly;K_=1;var r=vf();function e(t,n){return r(n,function(a){return t[a]})}return ly=e,ly}var fy,Y_;function xP(){if(Y_)return fy;Y_=1;var r=f5(),e=La();function t(n){return n==null?[]:r(n,e(n))}return fy=t,fy}var cy,X_;function an(){if(X_)return cy;X_=1;var r;if(typeof H0=="function")try{r={clone:yz(),constant:t1(),each:eP(),filter:cP(),has:dP(),isArray:Wr(),isEmpty:Vz(),isFunction:zs(),isUndefined:vP(),keys:La(),map:pP(),reduce:gP(),size:Yz(),transform:Xz(),union:l5(),values:xP()}}catch{}return r||(r=window._),cy=r,cy}var dy,Z_;function u1(){if(Z_)return dy;Z_=1;var r=an();dy=a;var e="\0",t="\0",n="";function a(d){this._isDirected=r.has(d,"directed")?d.directed:!0,this._isMultigraph=r.has(d,"multigraph")?d.multigraph:!1,this._isCompound=r.has(d,"compound")?d.compound:!1,this._label=void 0,this._defaultNodeLabelFn=r.constant(void 0),this._defaultEdgeLabelFn=r.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[t]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}a.prototype._nodeCount=0,a.prototype._edgeCount=0,a.prototype.isDirected=function(){return this._isDirected},a.prototype.isMultigraph=function(){return this._isMultigraph},a.prototype.isCompound=function(){return this._isCompound},a.prototype.setGraph=function(d){return this._label=d,this},a.prototype.graph=function(){return this._label},a.prototype.setDefaultNodeLabel=function(d){return r.isFunction(d)||(d=r.constant(d)),this._defaultNodeLabelFn=d,this},a.prototype.nodeCount=function(){return this._nodeCount},a.prototype.nodes=function(){return r.keys(this._nodes)},a.prototype.sources=function(){var d=this;return r.filter(this.nodes(),function(v){return r.isEmpty(d._in[v])})},a.prototype.sinks=function(){var d=this;return r.filter(this.nodes(),function(v){return r.isEmpty(d._out[v])})},a.prototype.setNodes=function(d,v){var p=arguments,g=this;return r.each(d,function(y){p.length>1?g.setNode(y,v):g.setNode(y)}),this},a.prototype.setNode=function(d,v){return r.has(this._nodes,d)?(arguments.length>1&&(this._nodes[d]=v),this):(this._nodes[d]=arguments.length>1?v:this._defaultNodeLabelFn(d),this._isCompound&&(this._parent[d]=t,this._children[d]={},this._children[t][d]=!0),this._in[d]={},this._preds[d]={},this._out[d]={},this._sucs[d]={},++this._nodeCount,this)},a.prototype.node=function(d){return this._nodes[d]},a.prototype.hasNode=function(d){return r.has(this._nodes,d)},a.prototype.removeNode=function(d){var v=this;if(r.has(this._nodes,d)){var p=function(g){v.removeEdge(v._edgeObjs[g])};delete this._nodes[d],this._isCompound&&(this._removeFromParentsChildList(d),delete this._parent[d],r.each(this.children(d),function(g){v.setParent(g)}),delete this._children[d]),r.each(r.keys(this._in[d]),p),delete this._in[d],delete this._preds[d],r.each(r.keys(this._out[d]),p),delete this._out[d],delete this._sucs[d],--this._nodeCount}return this},a.prototype.setParent=function(d,v){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(r.isUndefined(v))v=t;else{v+="";for(var p=v;!r.isUndefined(p);p=this.parent(p))if(p===d)throw new Error("Setting "+v+" as parent of "+d+" would create a cycle");this.setNode(v)}return this.setNode(d),this._removeFromParentsChildList(d),this._parent[d]=v,this._children[v][d]=!0,this},a.prototype._removeFromParentsChildList=function(d){delete this._children[this._parent[d]][d]},a.prototype.parent=function(d){if(this._isCompound){var v=this._parent[d];if(v!==t)return v}},a.prototype.children=function(d){if(r.isUndefined(d)&&(d=t),this._isCompound){var v=this._children[d];if(v)return r.keys(v)}else{if(d===t)return this.nodes();if(this.hasNode(d))return[]}},a.prototype.predecessors=function(d){var v=this._preds[d];if(v)return r.keys(v)},a.prototype.successors=function(d){var v=this._sucs[d];if(v)return r.keys(v)},a.prototype.neighbors=function(d){var v=this.predecessors(d);if(v)return r.union(v,this.successors(d))},a.prototype.isLeaf=function(d){var v;return this.isDirected()?v=this.successors(d):v=this.neighbors(d),v.length===0},a.prototype.filterNodes=function(d){var v=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});v.setGraph(this.graph());var p=this;r.each(this._nodes,function(x,w){d(w)&&v.setNode(w,x)}),r.each(this._edgeObjs,function(x){v.hasNode(x.v)&&v.hasNode(x.w)&&v.setEdge(x,p.edge(x))});var g={};function y(x){var w=p.parent(x);return w===void 0||v.hasNode(w)?(g[x]=w,w):w in g?g[w]:y(w)}return this._isCompound&&r.each(v.nodes(),function(x){v.setParent(x,y(x))}),v},a.prototype.setDefaultEdgeLabel=function(d){return r.isFunction(d)||(d=r.constant(d)),this._defaultEdgeLabelFn=d,this},a.prototype.edgeCount=function(){return this._edgeCount},a.prototype.edges=function(){return r.values(this._edgeObjs)},a.prototype.setPath=function(d,v){var p=this,g=arguments;return r.reduce(d,function(y,x){return g.length>1?p.setEdge(y,x,v):p.setEdge(y,x),x}),this},a.prototype.setEdge=function(){var d,v,p,g,y=!1,x=arguments[0];typeof x=="object"&&x!==null&&"v"in x?(d=x.v,v=x.w,p=x.name,arguments.length===2&&(g=arguments[1],y=!0)):(d=x,v=arguments[1],p=arguments[3],arguments.length>2&&(g=arguments[2],y=!0)),d=""+d,v=""+v,r.isUndefined(p)||(p=""+p);var w=u(this._isDirected,d,v,p);if(r.has(this._edgeLabels,w))return y&&(this._edgeLabels[w]=g),this;if(!r.isUndefined(p)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(d),this.setNode(v),this._edgeLabels[w]=y?g:this._defaultEdgeLabelFn(d,v,p);var b=f(this._isDirected,d,v,p);return d=b.v,v=b.w,Object.freeze(b),this._edgeObjs[w]=b,i(this._preds[v],d),i(this._sucs[d],v),this._in[v][w]=b,this._out[d][w]=b,this._edgeCount++,this},a.prototype.edge=function(d,v,p){var g=arguments.length===1?c(this._isDirected,arguments[0]):u(this._isDirected,d,v,p);return this._edgeLabels[g]},a.prototype.hasEdge=function(d,v,p){var g=arguments.length===1?c(this._isDirected,arguments[0]):u(this._isDirected,d,v,p);return r.has(this._edgeLabels,g)},a.prototype.removeEdge=function(d,v,p){var g=arguments.length===1?c(this._isDirected,arguments[0]):u(this._isDirected,d,v,p),y=this._edgeObjs[g];return y&&(d=y.v,v=y.w,delete this._edgeLabels[g],delete this._edgeObjs[g],s(this._preds[v],d),s(this._sucs[d],v),delete this._in[v][g],delete this._out[d][g],this._edgeCount--),this},a.prototype.inEdges=function(d,v){var p=this._in[d];if(p){var g=r.values(p);return v?r.filter(g,function(y){return y.v===v}):g}},a.prototype.outEdges=function(d,v){var p=this._out[d];if(p){var g=r.values(p);return v?r.filter(g,function(y){return y.w===v}):g}},a.prototype.nodeEdges=function(d,v){var p=this.inEdges(d,v);if(p)return p.concat(this.outEdges(d,v))};function i(d,v){d[v]?d[v]++:d[v]=1}function s(d,v){--d[v]||delete d[v]}function u(d,v,p,g){var y=""+v,x=""+p;if(!d&&y>x){var w=y;y=x,x=w}return y+n+x+n+(r.isUndefined(g)?e:g)}function f(d,v,p,g){var y=""+v,x=""+p;if(!d&&y>x){var w=y;y=x,x=w}var b={v:y,w:x};return g&&(b.name=g),b}function c(d,v){return u(d,v.v,v.w,v.name)}return dy}var vy,Q_;function c5(){return Q_||(Q_=1,vy="2.1.8"),vy}var hy,J_;function d5(){return J_||(J_=1,hy={Graph:u1(),version:c5()}),hy}var py,e2;function v5(){if(e2)return py;e2=1;var r=an(),e=u1();py={write:t,read:i};function t(s){var u={options:{directed:s.isDirected(),multigraph:s.isMultigraph(),compound:s.isCompound()},nodes:n(s),edges:a(s)};return r.isUndefined(s.graph())||(u.value=r.clone(s.graph())),u}function n(s){return r.map(s.nodes(),function(u){var f=s.node(u),c=s.parent(u),d={v:u};return r.isUndefined(f)||(d.value=f),r.isUndefined(c)||(d.parent=c),d})}function a(s){return r.map(s.edges(),function(u){var f=s.edge(u),c={v:u.v,w:u.w};return r.isUndefined(u.name)||(c.name=u.name),r.isUndefined(f)||(c.value=f),c})}function i(s){var u=new e(s.options).setGraph(s.value);return r.each(s.nodes,function(f){u.setNode(f.v,f.value),f.parent&&u.setParent(f.v,f.parent)}),r.each(s.edges,function(f){u.setEdge({v:f.v,w:f.w,name:f.name},f.value)}),u}return py}var gy,r2;function h5(){if(r2)return gy;r2=1;var r=an();gy=e;function e(t){var n={},a=[],i;function s(u){r.has(n,u)||(n[u]=!0,i.push(u),r.each(t.successors(u),s),r.each(t.predecessors(u),s))}return r.each(t.nodes(),function(u){i=[],s(u),i.length&&a.push(i)}),a}return gy}var yy,t2;function EP(){if(t2)return yy;t2=1;var r=an();yy=e;function e(){this._arr=[],this._keyIndices={}}return e.prototype.size=function(){return this._arr.length},e.prototype.keys=function(){return this._arr.map(function(t){return t.key})},e.prototype.has=function(t){return r.has(this._keyIndices,t)},e.prototype.priority=function(t){var n=this._keyIndices[t];if(n!==void 0)return this._arr[n].priority},e.prototype.min=function(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key},e.prototype.add=function(t,n){var a=this._keyIndices;if(t=String(t),!r.has(a,t)){var i=this._arr,s=i.length;return a[t]=s,i.push({key:t,priority:n}),this._decrease(s),!0}return!1},e.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var t=this._arr.pop();return delete this._keyIndices[t.key],this._heapify(0),t.key},e.prototype.decrease=function(t,n){var a=this._keyIndices[t];if(n>this._arr[a].priority)throw new Error("New priority is greater than current priority. Key: "+t+" Old: "+this._arr[a].priority+" New: "+n);this._arr[a].priority=n,this._decrease(a)},e.prototype._heapify=function(t){var n=this._arr,a=2*t,i=a+1,s=t;a<n.length&&(s=n[a].priority<n[s].priority?a:s,i<n.length&&(s=n[i].priority<n[s].priority?i:s),s!==t&&(this._swap(t,s),this._heapify(s)))},e.prototype._decrease=function(t){for(var n=this._arr,a=n[t].priority,i;t!==0&&(i=t>>1,!(n[i].priority<a));)this._swap(t,i),t=i},e.prototype._swap=function(t,n){var a=this._arr,i=this._keyIndices,s=a[t],u=a[n];a[t]=u,a[n]=s,i[u.key]=t,i[s.key]=n},yy}var my,n2;function SP(){if(n2)return my;n2=1;var r=an(),e=EP();my=n;var t=r.constant(1);function n(i,s,u,f){return a(i,String(s),u||t,f||function(c){return i.outEdges(c)})}function a(i,s,u,f){var c={},d=new e,v,p,g=function(y){var x=y.v!==v?y.v:y.w,w=c[x],b=u(y),E=p.distance+b;if(b<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+y+" Weight: "+b);E<w.distance&&(w.distance=E,w.predecessor=v,d.decrease(x,E))};for(i.nodes().forEach(function(y){var x=y===s?0:Number.POSITIVE_INFINITY;c[y]={distance:x},d.add(y,x)});d.size()>0&&(v=d.removeMin(),p=c[v],p.distance!==Number.POSITIVE_INFINITY);)f(v).forEach(g);return c}return my}var wy,a2;function p5(){if(a2)return wy;a2=1;var r=SP(),e=an();wy=t;function t(n,a,i){return e.transform(n.nodes(),function(s,u){s[u]=r(n,u,a,i)},{})}return wy}var by,i2;function CP(){if(i2)return by;i2=1;var r=an();by=e;function e(t){var n=0,a=[],i={},s=[];function u(f){var c=i[f]={onStack:!0,lowlink:n,index:n++};if(a.push(f),t.successors(f).forEach(function(p){r.has(i,p)?i[p].onStack&&(c.lowlink=Math.min(c.lowlink,i[p].index)):(u(p),c.lowlink=Math.min(c.lowlink,i[p].lowlink))}),c.lowlink===c.index){var d=[],v;do v=a.pop(),i[v].onStack=!1,d.push(v);while(f!==v);s.push(d)}}return t.nodes().forEach(function(f){r.has(i,f)||u(f)}),s}return by}var xy,o2;function g5(){if(o2)return xy;o2=1;var r=an(),e=CP();xy=t;function t(n){return r.filter(e(n),function(a){return a.length>1||a.length===1&&n.hasEdge(a[0],a[0])})}return xy}var Ey,s2;function y5(){if(s2)return Ey;s2=1;var r=an();Ey=t;var e=r.constant(1);function t(a,i,s){return n(a,i||e,s||function(u){return a.outEdges(u)})}function n(a,i,s){var u={},f=a.nodes();return f.forEach(function(c){u[c]={},u[c][c]={distance:0},f.forEach(function(d){c!==d&&(u[c][d]={distance:Number.POSITIVE_INFINITY})}),s(c).forEach(function(d){var v=d.v===c?d.w:d.v,p=i(d);u[c][v]={distance:p,predecessor:c}})}),f.forEach(function(c){var d=u[c];f.forEach(function(v){var p=u[v];f.forEach(function(g){var y=p[c],x=d[g],w=p[g],b=y.distance+x.distance;b<w.distance&&(w.distance=b,w.predecessor=x.predecessor)})})}),u}return Ey}var Sy,u2;function TP(){if(u2)return Sy;u2=1;var r=an();Sy=e,e.CycleException=t;function e(n){var a={},i={},s=[];function u(f){if(r.has(i,f))throw new t;r.has(a,f)||(i[f]=!0,a[f]=!0,r.each(n.predecessors(f),u),delete i[f],s.push(f))}if(r.each(n.sinks(),u),r.size(a)!==n.nodeCount())throw new t;return s}function t(){}return t.prototype=new Error,Sy}var Cy,l2;function m5(){if(l2)return Cy;l2=1;var r=TP();Cy=e;function e(t){try{r(t)}catch(n){if(n instanceof r.CycleException)return!1;throw n}return!0}return Cy}var Ty,f2;function _P(){if(f2)return Ty;f2=1;var r=an();Ty=e;function e(n,a,i){r.isArray(a)||(a=[a]);var s=(n.isDirected()?n.successors:n.neighbors).bind(n),u=[],f={};return r.each(a,function(c){if(!n.hasNode(c))throw new Error("Graph does not have node: "+c);t(n,c,i==="post",f,s,u)}),u}function t(n,a,i,s,u,f){r.has(s,a)||(s[a]=!0,i||f.push(a),r.each(u(a),function(c){t(n,c,i,s,u,f)}),i&&f.push(a))}return Ty}var _y,c2;function w5(){if(c2)return _y;c2=1;var r=_P();_y=e;function e(t,n){return r(t,n,"post")}return _y}var ky,d2;function b5(){if(d2)return ky;d2=1;var r=_P();ky=e;function e(t,n){return r(t,n,"pre")}return ky}var Ry,v2;function x5(){if(v2)return Ry;v2=1;var r=an(),e=u1(),t=EP();Ry=n;function n(a,i){var s=new e,u={},f=new t,c;function d(p){var g=p.v===c?p.w:p.v,y=f.priority(g);if(y!==void 0){var x=i(p);x<y&&(u[g]=c,f.decrease(g,x))}}if(a.nodeCount()===0)return s;r.each(a.nodes(),function(p){f.add(p,Number.POSITIVE_INFINITY),s.setNode(p)}),f.decrease(a.nodes()[0],0);for(var v=!1;f.size()>0;){if(c=f.removeMin(),r.has(u,c))s.setEdge(c,u[c]);else{if(v)throw new Error("Input graph is not connected: "+a);v=!0}a.nodeEdges(c).forEach(d)}return s}return Ry}var Ay,h2;function E5(){return h2||(h2=1,Ay={components:h5(),dijkstra:SP(),dijkstraAll:p5(),findCycles:g5(),floydWarshall:y5(),isAcyclic:m5(),postorder:w5(),preorder:b5(),prim:x5(),tarjan:CP(),topsort:TP()}),Ay}var Py,p2;function S5(){if(p2)return Py;p2=1;var r=d5();return Py={Graph:r.Graph,json:v5(),alg:E5(),version:r.version},Py}var Dy,g2;function gn(){if(g2)return Dy;g2=1;var r;if(typeof H0=="function")try{r=S5()}catch{}return r||(r=window.graphlib),Dy=r,Dy}var Iy,y2;function C5(){if(y2)return Iy;y2=1;var r=ZA(),e=1,t=4;function n(a){return r(a,e|t)}return Iy=n,Iy}var My,m2;function yf(){if(m2)return My;m2=1;var r=ho(),e=Wn(),t=uf(),n=nn();function a(i,s,u){if(!n(u))return!1;var f=typeof s;return(f=="number"?e(u)&&t(s,u.length):f=="string"&&s in u)?r(u[s],i):!1}return My=a,My}var Oy,w2;function T5(){if(w2)return Oy;w2=1;var r=gf(),e=ho(),t=yf(),n=hi(),a=Object.prototype,i=a.hasOwnProperty,s=r(function(u,f){u=Object(u);var c=-1,d=f.length,v=d>2?f[2]:void 0;for(v&&t(f[0],f[1],v)&&(d=1);++c<d;)for(var p=f[c],g=n(p),y=-1,x=g.length;++y<x;){var w=g[y],b=u[w];(b===void 0||e(b,a[w])&&!i.call(u,w))&&(u[w]=p[w])}return u});return Oy=s,Oy}var Ny,b2;function _5(){if(b2)return Ny;b2=1;var r=Kn(),e=Wn(),t=La();function n(a){return function(i,s,u){var f=Object(i);if(!e(i)){var c=r(s,3);i=t(i),s=function(v){return c(f[v],v,f)}}var d=a(i,s,u);return d>-1?f[c?i[d]:d]:void 0}}return Ny=n,Ny}var Ly,x2;function k5(){if(x2)return Ly;x2=1;var r=/\s/;function e(t){for(var n=t.length;n--&&r.test(t.charAt(n)););return n}return Ly=e,Ly}var By,E2;function R5(){if(E2)return By;E2=1;var r=k5(),e=/^\s+/;function t(n){return n&&n.slice(0,r(n)+1).replace(e,"")}return By=t,By}var qy,S2;function A5(){if(S2)return qy;S2=1;var r=R5(),e=nn(),t=mo(),n=NaN,a=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,s=/^0o[0-7]+$/i,u=parseInt;function f(c){if(typeof c=="number")return c;if(t(c))return n;if(e(c)){var d=typeof c.valueOf=="function"?c.valueOf():c;c=e(d)?d+"":d}if(typeof c!="string")return c===0?c:+c;c=r(c);var v=i.test(c);return v||s.test(c)?u(c.slice(2),v?2:8):a.test(c)?n:+c}return qy=f,qy}var Fy,C2;function kP(){if(C2)return Fy;C2=1;var r=A5(),e=1/0,t=17976931348623157e292;function n(a){if(!a)return a===0?a:0;if(a=r(a),a===e||a===-e){var i=a<0?-1:1;return i*t}return a===a?a:0}return Fy=n,Fy}var zy,T2;function P5(){if(T2)return zy;T2=1;var r=kP();function e(t){var n=r(t),a=n%1;return n===n?a?n-a:n:0}return zy=e,zy}var Vy,_2;function D5(){if(_2)return Vy;_2=1;var r=wP(),e=Kn(),t=P5(),n=Math.max;function a(i,s,u){var f=i==null?0:i.length;if(!f)return-1;var c=u==null?0:t(u);return c<0&&(c=n(f+c,0)),r(i,e(s,3),c)}return Vy=a,Vy}var $y,k2;function I5(){if(k2)return $y;k2=1;var r=_5(),e=D5(),t=r(e);return $y=t,$y}var Uy,R2;function RP(){if(R2)return Uy;R2=1;var r=s1();function e(t){var n=t==null?0:t.length;return n?r(t,1):[]}return Uy=e,Uy}var Gy,A2;function M5(){if(A2)return Gy;A2=1;var r=n1(),e=QA(),t=hi();function n(a,i){return a==null?a:r(a,e(i),t)}return Gy=n,Gy}var jy,P2;function O5(){if(P2)return jy;P2=1;function r(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}return jy=r,jy}var Hy,D2;function N5(){if(D2)return Hy;D2=1;var r=of(),e=a1(),t=Kn();function n(a,i){var s={};return i=t(i,3),e(a,function(u,f,c){r(s,f,i(u,f,c))}),s}return Hy=n,Hy}var Wy,I2;function l1(){if(I2)return Wy;I2=1;var r=mo();function e(t,n,a){for(var i=-1,s=t.length;++i<s;){var u=t[i],f=n(u);if(f!=null&&(c===void 0?f===f&&!r(f):a(f,c)))var c=f,d=u}return d}return Wy=e,Wy}var Ky,M2;function L5(){if(M2)return Ky;M2=1;function r(e,t){return e>t}return Ky=r,Ky}var Yy,O2;function B5(){if(O2)return Yy;O2=1;var r=l1(),e=L5(),t=pi();function n(a){return a&&a.length?r(a,t,e):void 0}return Yy=n,Yy}var Xy,N2;function AP(){if(N2)return Xy;N2=1;var r=of(),e=ho();function t(n,a,i){(i!==void 0&&!e(n[a],i)||i===void 0&&!(a in n))&&r(n,a,i)}return Xy=t,Xy}var Zy,L2;function q5(){if(L2)return Zy;L2=1;var r=di(),e=cf(),t=Pn(),n="[object Object]",a=Function.prototype,i=Object.prototype,s=a.toString,u=i.hasOwnProperty,f=s.call(Object);function c(d){if(!t(d)||r(d)!=n)return!1;var v=e(d);if(v===null)return!0;var p=u.call(v,"constructor")&&v.constructor;return typeof p=="function"&&p instanceof p&&s.call(p)==f}return Zy=c,Zy}var Qy,B2;function PP(){if(B2)return Qy;B2=1;function r(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}return Qy=r,Qy}var Jy,q2;function F5(){if(q2)return Jy;q2=1;var r=Vs(),e=hi();function t(n){return r(n,e(n))}return Jy=t,Jy}var em,F2;function z5(){if(F2)return em;F2=1;var r=AP(),e=FA(),t=KA(),n=zA(),a=XA(),i=$s(),s=Wr(),u=bP(),f=go(),c=zs(),d=nn(),v=q5(),p=Us(),g=PP(),y=F5();function x(w,b,E,S,T,R,A){var k=g(w,E),P=g(b,E),D=A.get(P);if(D){r(w,E,D);return}var I=R?R(k,P,E+"",w,b,A):void 0,M=I===void 0;if(M){var L=s(P),N=!L&&f(P),z=!L&&!N&&p(P);I=P,L||N||z?s(k)?I=k:u(k)?I=n(k):N?(M=!1,I=e(P,!0)):z?(M=!1,I=t(P,!0)):I=[]:v(P)||i(P)?(I=k,i(k)?I=y(k):(!d(k)||c(k))&&(I=a(P))):M=!1}M&&(A.set(P,I),T(I,P,S,R,A),A.delete(P)),r(w,E,I)}return em=x,em}var rm,z2;function V5(){if(z2)return rm;z2=1;var r=af(),e=AP(),t=n1(),n=z5(),a=nn(),i=hi(),s=PP();function u(f,c,d,v,p){f!==c&&t(c,function(g,y){if(p||(p=new r),a(g))n(f,c,y,d,u,v,p);else{var x=v?v(s(f,y),g,y+"",f,c,p):void 0;x===void 0&&(x=g),e(f,y,x)}},i)}return rm=u,rm}var tm,V2;function $5(){if(V2)return tm;V2=1;var r=gf(),e=yf();function t(n){return r(function(a,i){var s=-1,u=i.length,f=u>1?i[u-1]:void 0,c=u>2?i[2]:void 0;for(f=n.length>3&&typeof f=="function"?(u--,f):void 0,c&&e(i[0],i[1],c)&&(f=u<3?void 0:f,u=1),a=Object(a);++s<u;){var d=i[s];d&&n(a,d,s,f)}return a})}return tm=t,tm}var nm,$2;function U5(){if($2)return nm;$2=1;var r=V5(),e=$5(),t=e(function(n,a,i){r(n,a,i)});return nm=t,nm}var am,U2;function DP(){if(U2)return am;U2=1;function r(e,t){return e<t}return am=r,am}var im,G2;function G5(){if(G2)return im;G2=1;var r=l1(),e=DP(),t=pi();function n(a){return a&&a.length?r(a,t,e):void 0}return im=n,im}var om,j2;function j5(){if(j2)return om;j2=1;var r=l1(),e=Kn(),t=DP();function n(a,i){return a&&a.length?r(a,e(i,2),t):void 0}return om=n,om}var sm,H2;function H5(){if(H2)return sm;H2=1;var r=yn(),e=function(){return r.Date.now()};return sm=e,sm}var um,W2;function W5(){if(W2)return um;W2=1;var r=sf(),e=hf(),t=uf(),n=nn(),a=Gs();function i(s,u,f,c){if(!n(s))return s;u=e(u,s);for(var d=-1,v=u.length,p=v-1,g=s;g!=null&&++d<v;){var y=a(u[d]),x=f;if(y==="__proto__"||y==="constructor"||y==="prototype")return s;if(d!=p){var w=g[y];x=c?c(w,y,g):void 0,x===void 0&&(x=n(w)?w:t(u[d+1])?[]:{})}r(g,y,x),g=g[y]}return s}return um=i,um}var lm,K2;function K5(){if(K2)return lm;K2=1;var r=pf(),e=W5(),t=hf();function n(a,i,s){for(var u=-1,f=i.length,c={};++u<f;){var d=i[u],v=r(a,d);s(v,d)&&e(c,t(d,a),v)}return c}return lm=n,lm}var fm,Y2;function Y5(){if(Y2)return fm;Y2=1;var r=K5(),e=lP();function t(n,a){return r(n,a,function(i,s){return e(n,s)})}return fm=t,fm}var cm,X2;function X5(){if(X2)return cm;X2=1;var r=RP(),e=yP(),t=mP();function n(a){return t(e(a,void 0,r),a+"")}return cm=n,cm}var dm,Z2;function Z5(){if(Z2)return dm;Z2=1;var r=Y5(),e=X5(),t=e(function(n,a){return n==null?{}:r(n,a)});return dm=t,dm}var vm,Q2;function Q5(){if(Q2)return vm;Q2=1;var r=Math.ceil,e=Math.max;function t(n,a,i,s){for(var u=-1,f=e(r((a-n)/(i||1)),0),c=Array(f);f--;)c[s?f:++u]=n,n+=i;return c}return vm=t,vm}var hm,J2;function J5(){if(J2)return hm;J2=1;var r=Q5(),e=yf(),t=kP();function n(a){return function(i,s,u){return u&&typeof u!="number"&&e(i,s,u)&&(s=u=void 0),i=t(i),s===void 0?(s=i,i=0):s=t(s),u=u===void 0?i<s?1:-1:t(u),r(i,s,u,a)}}return hm=n,hm}var pm,ek;function e3(){if(ek)return pm;ek=1;var r=J5(),e=r();return pm=e,pm}var gm,rk;function r3(){if(rk)return gm;rk=1;function r(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}return gm=r,gm}var ym,tk;function t3(){if(tk)return ym;tk=1;var r=mo();function e(t,n){if(t!==n){var a=t!==void 0,i=t===null,s=t===t,u=r(t),f=n!==void 0,c=n===null,d=n===n,v=r(n);if(!c&&!v&&!u&&t>n||u&&f&&d&&!c&&!v||i&&f&&d||!a&&d||!s)return 1;if(!i&&!u&&!v&&t<n||v&&a&&s&&!i&&!u||c&&a&&s||!f&&s||!d)return-1}return 0}return ym=e,ym}var mm,nk;function n3(){if(nk)return mm;nk=1;var r=t3();function e(t,n,a){for(var i=-1,s=t.criteria,u=n.criteria,f=s.length,c=a.length;++i<f;){var d=r(s[i],u[i]);if(d){if(i>=c)return d;var v=a[i];return d*(v=="desc"?-1:1)}}return t.index-n.index}return mm=e,mm}var wm,ak;function a3(){if(ak)return wm;ak=1;var r=vf(),e=pf(),t=Kn(),n=hP(),a=r3(),i=lf(),s=n3(),u=pi(),f=Wr();function c(d,v,p){v.length?v=r(v,function(x){return f(x)?function(w){return e(w,x.length===1?x[0]:x)}:x}):v=[u];var g=-1;v=r(v,i(t));var y=n(d,function(x,w,b){var E=r(v,function(S){return S(x)});return{criteria:E,index:++g,value:x}});return a(y,function(x,w){return s(x,w,p)})}return wm=c,wm}var bm,ik;function i3(){if(ik)return bm;ik=1;var r=s1(),e=a3(),t=gf(),n=yf(),a=t(function(i,s){if(i==null)return[];var u=s.length;return u>1&&n(i,s[0],s[1])?s=[]:u>2&&n(s[0],s[1],s[2])&&(s=[s[0]]),e(i,r(s,1),[])});return bm=a,bm}var xm,ok;function o3(){if(ok)return xm;ok=1;var r=sP(),e=0;function t(n){var a=++e;return r(n)+a}return xm=t,xm}var Em,sk;function s3(){if(sk)return Em;sk=1;function r(e,t,n){for(var a=-1,i=e.length,s=t.length,u={};++a<i;){var f=a<s?t[a]:void 0;n(u,e[a],f)}return u}return Em=r,Em}var Sm,uk;function u3(){if(uk)return Sm;uk=1;var r=sf(),e=s3();function t(n,a){return e(n||[],a||[],r)}return Sm=t,Sm}var Cm,lk;function Dr(){if(lk)return Cm;lk=1;var r;if(typeof H0=="function")try{r={cloneDeep:C5(),constant:t1(),defaults:T5(),each:eP(),filter:cP(),find:I5(),flatten:RP(),forEach:JA(),forIn:M5(),has:dP(),isUndefined:vP(),last:O5(),map:pP(),mapValues:N5(),max:B5(),merge:U5(),min:G5(),minBy:j5(),now:H5(),pick:Z5(),range:e3(),reduce:gP(),sortBy:i3(),uniqueId:o3(),values:xP(),zipObject:u3()}}catch{}return r||(r=window._),Cm=r,Cm}var Tm,fk;function l3(){if(fk)return Tm;fk=1,Tm=r;function r(){var n={};n._next=n._prev=n,this._sentinel=n}r.prototype.dequeue=function(){var n=this._sentinel,a=n._prev;if(a!==n)return e(a),a},r.prototype.enqueue=function(n){var a=this._sentinel;n._prev&&n._next&&e(n),n._next=a._next,a._next._prev=n,a._next=n,n._prev=a},r.prototype.toString=function(){for(var n=[],a=this._sentinel,i=a._prev;i!==a;)n.push(JSON.stringify(i,t)),i=i._prev;return"["+n.join(", ")+"]"};function e(n){n._prev._next=n._next,n._next._prev=n._prev,delete n._next,delete n._prev}function t(n,a){if(n!=="_next"&&n!=="_prev")return a}return Tm}var _m,ck;function f3(){if(ck)return _m;ck=1;var r=Dr(),e=gn().Graph,t=l3();_m=a;var n=r.constant(1);function a(c,d){if(c.nodeCount()<=1)return[];var v=u(c,d||n),p=i(v.graph,v.buckets,v.zeroIdx);return r.flatten(r.map(p,function(g){return c.outEdges(g.v,g.w)}),!0)}function i(c,d,v){for(var p=[],g=d[d.length-1],y=d[0],x;c.nodeCount();){for(;x=y.dequeue();)s(c,d,v,x);for(;x=g.dequeue();)s(c,d,v,x);if(c.nodeCount()){for(var w=d.length-2;w>0;--w)if(x=d[w].dequeue(),x){p=p.concat(s(c,d,v,x,!0));break}}}return p}function s(c,d,v,p,g){var y=g?[]:void 0;return r.forEach(c.inEdges(p.v),function(x){var w=c.edge(x),b=c.node(x.v);g&&y.push({v:x.v,w:x.w}),b.out-=w,f(d,v,b)}),r.forEach(c.outEdges(p.v),function(x){var w=c.edge(x),b=x.w,E=c.node(b);E.in-=w,f(d,v,E)}),c.removeNode(p.v),y}function u(c,d){var v=new e,p=0,g=0;r.forEach(c.nodes(),function(w){v.setNode(w,{v:w,in:0,out:0})}),r.forEach(c.edges(),function(w){var b=v.edge(w.v,w.w)||0,E=d(w),S=b+E;v.setEdge(w.v,w.w,S),g=Math.max(g,v.node(w.v).out+=E),p=Math.max(p,v.node(w.w).in+=E)});var y=r.range(g+p+3).map(function(){return new t}),x=p+1;return r.forEach(v.nodes(),function(w){f(y,x,v.node(w))}),{graph:v,buckets:y,zeroIdx:x}}function f(c,d,v){v.out?v.in?c[v.out-v.in+d].enqueue(v):c[c.length-1].enqueue(v):c[0].enqueue(v)}return _m}var km,dk;function c3(){if(dk)return km;dk=1;var r=Dr(),e=f3();km={run:t,undo:a};function t(i){var s=i.graph().acyclicer==="greedy"?e(i,u(i)):n(i);r.forEach(s,function(f){var c=i.edge(f);i.removeEdge(f),c.forwardName=f.name,c.reversed=!0,i.setEdge(f.w,f.v,c,r.uniqueId("rev"))});function u(f){return function(c){return f.edge(c).weight}}}function n(i){var s=[],u={},f={};function c(d){r.has(f,d)||(f[d]=!0,u[d]=!0,r.forEach(i.outEdges(d),function(v){r.has(u,v.w)?s.push(v):c(v.w)}),delete u[d])}return r.forEach(i.nodes(),c),s}function a(i){r.forEach(i.edges(),function(s){var u=i.edge(s);if(u.reversed){i.removeEdge(s);var f=u.forwardName;delete u.reversed,delete u.forwardName,i.setEdge(s.w,s.v,u,f)}})}return km}var Rm,vk;function Ft(){if(vk)return Rm;vk=1;var r=Dr(),e=gn().Graph;Rm={addDummyNode:t,simplify:n,asNonCompoundGraph:a,successorWeights:i,predecessorWeights:s,intersectRect:u,buildLayerMatrix:f,normalizeRanks:c,removeEmptyRanks:d,addBorderNode:v,maxRank:p,partition:g,time:y,notime:x};function t(w,b,E,S){var T;do T=r.uniqueId(S);while(w.hasNode(T));return E.dummy=b,w.setNode(T,E),T}function n(w){var b=new e().setGraph(w.graph());return r.forEach(w.nodes(),function(E){b.setNode(E,w.node(E))}),r.forEach(w.edges(),function(E){var S=b.edge(E.v,E.w)||{weight:0,minlen:1},T=w.edge(E);b.setEdge(E.v,E.w,{weight:S.weight+T.weight,minlen:Math.max(S.minlen,T.minlen)})}),b}function a(w){var b=new e({multigraph:w.isMultigraph()}).setGraph(w.graph());return r.forEach(w.nodes(),function(E){w.children(E).length||b.setNode(E,w.node(E))}),r.forEach(w.edges(),function(E){b.setEdge(E,w.edge(E))}),b}function i(w){var b=r.map(w.nodes(),function(E){var S={};return r.forEach(w.outEdges(E),function(T){S[T.w]=(S[T.w]||0)+w.edge(T).weight}),S});return r.zipObject(w.nodes(),b)}function s(w){var b=r.map(w.nodes(),function(E){var S={};return r.forEach(w.inEdges(E),function(T){S[T.v]=(S[T.v]||0)+w.edge(T).weight}),S});return r.zipObject(w.nodes(),b)}function u(w,b){var E=w.x,S=w.y,T=b.x-E,R=b.y-S,A=w.width/2,k=w.height/2;if(!T&&!R)throw new Error("Not possible to find intersection inside of the rectangle");var P,D;return Math.abs(R)*A>Math.abs(T)*k?(R<0&&(k=-k),P=k*T/R,D=k):(T<0&&(A=-A),P=A,D=A*R/T),{x:E+P,y:S+D}}function f(w){var b=r.map(r.range(p(w)+1),function(){return[]});return r.forEach(w.nodes(),function(E){var S=w.node(E),T=S.rank;r.isUndefined(T)||(b[T][S.order]=E)}),b}function c(w){var b=r.min(r.map(w.nodes(),function(E){return w.node(E).rank}));r.forEach(w.nodes(),function(E){var S=w.node(E);r.has(S,"rank")&&(S.rank-=b)})}function d(w){var b=r.min(r.map(w.nodes(),function(R){return w.node(R).rank})),E=[];r.forEach(w.nodes(),function(R){var A=w.node(R).rank-b;E[A]||(E[A]=[]),E[A].push(R)});var S=0,T=w.graph().nodeRankFactor;r.forEach(E,function(R,A){r.isUndefined(R)&&A%T!==0?--S:S&&r.forEach(R,function(k){w.node(k).rank+=S})})}function v(w,b,E,S){var T={width:0,height:0};return arguments.length>=4&&(T.rank=E,T.order=S),t(w,"border",T,b)}function p(w){return r.max(r.map(w.nodes(),function(b){var E=w.node(b).rank;if(!r.isUndefined(E))return E}))}function g(w,b){var E={lhs:[],rhs:[]};return r.forEach(w,function(S){b(S)?E.lhs.push(S):E.rhs.push(S)}),E}function y(w,b){var E=r.now();try{return b()}finally{console.log(w+" time: "+(r.now()-E)+"ms")}}function x(w,b){return b()}return Rm}var Am,hk;function d3(){if(hk)return Am;hk=1;var r=Dr(),e=Ft();Am={run:t,undo:a};function t(i){i.graph().dummyChains=[],r.forEach(i.edges(),function(s){n(i,s)})}function n(i,s){var u=s.v,f=i.node(u).rank,c=s.w,d=i.node(c).rank,v=s.name,p=i.edge(s),g=p.labelRank;if(d!==f+1){i.removeEdge(s);var y,x,w;for(w=0,++f;f<d;++w,++f)p.points=[],x={width:0,height:0,edgeLabel:p,edgeObj:s,rank:f},y=e.addDummyNode(i,"edge",x,"_d"),f===g&&(x.width=p.width,x.height=p.height,x.dummy="edge-label",x.labelpos=p.labelpos),i.setEdge(u,y,{weight:p.weight},v),w===0&&i.graph().dummyChains.push(y),u=y;i.setEdge(u,c,{weight:p.weight},v)}}function a(i){r.forEach(i.graph().dummyChains,function(s){var u=i.node(s),f=u.edgeLabel,c;for(i.setEdge(u.edgeObj,f);u.dummy;)c=i.successors(s)[0],i.removeNode(s),f.points.push({x:u.x,y:u.y}),u.dummy==="edge-label"&&(f.x=u.x,f.y=u.y,f.width=u.width,f.height=u.height),s=c,u=i.node(s)})}return Am}var Pm,pk;function Nl(){if(pk)return Pm;pk=1;var r=Dr();Pm={longestPath:e,slack:t};function e(n){var a={};function i(s){var u=n.node(s);if(r.has(a,s))return u.rank;a[s]=!0;var f=r.min(r.map(n.outEdges(s),function(c){return i(c.w)-n.edge(c).minlen}));return(f===Number.POSITIVE_INFINITY||f===void 0||f===null)&&(f=0),u.rank=f}r.forEach(n.sources(),i)}function t(n,a){return n.node(a.w).rank-n.node(a.v).rank-n.edge(a).minlen}return Pm}var Dm,gk;function IP(){if(gk)return Dm;gk=1;var r=Dr(),e=gn().Graph,t=Nl().slack;Dm=n;function n(u){var f=new e({directed:!1}),c=u.nodes()[0],d=u.nodeCount();f.setNode(c,{});for(var v,p;a(f,u)<d;)v=i(f,u),p=f.hasNode(v.v)?t(u,v):-t(u,v),s(f,u,p);return f}function a(u,f){function c(d){r.forEach(f.nodeEdges(d),function(v){var p=v.v,g=d===p?v.w:p;!u.hasNode(g)&&!t(f,v)&&(u.setNode(g,{}),u.setEdge(d,g,{}),c(g))})}return r.forEach(u.nodes(),c),u.nodeCount()}function i(u,f){return r.minBy(f.edges(),function(c){if(u.hasNode(c.v)!==u.hasNode(c.w))return t(f,c)})}function s(u,f,c){r.forEach(u.nodes(),function(d){f.node(d).rank+=c})}return Dm}var Im,yk;function v3(){if(yk)return Im;yk=1;var r=Dr(),e=IP(),t=Nl().slack,n=Nl().longestPath,a=gn().alg.preorder,i=gn().alg.postorder,s=Ft().simplify;Im=u,u.initLowLimValues=v,u.initCutValues=f,u.calcCutValue=d,u.leaveEdge=g,u.enterEdge=y,u.exchangeEdges=x;function u(S){S=s(S),n(S);var T=e(S);v(T),f(T,S);for(var R,A;R=g(T);)A=y(T,S,R),x(T,S,R,A)}function f(S,T){var R=i(S,S.nodes());R=R.slice(0,R.length-1),r.forEach(R,function(A){c(S,T,A)})}function c(S,T,R){var A=S.node(R),k=A.parent;S.edge(R,k).cutvalue=d(S,T,R)}function d(S,T,R){var A=S.node(R),k=A.parent,P=!0,D=T.edge(R,k),I=0;return D||(P=!1,D=T.edge(k,R)),I=D.weight,r.forEach(T.nodeEdges(R),function(M){var L=M.v===R,N=L?M.w:M.v;if(N!==k){var z=L===P,G=T.edge(M).weight;if(I+=z?G:-G,b(S,R,N)){var H=S.edge(R,N).cutvalue;I+=z?-H:H}}}),I}function v(S,T){arguments.length<2&&(T=S.nodes()[0]),p(S,{},1,T)}function p(S,T,R,A,k){var P=R,D=S.node(A);return T[A]=!0,r.forEach(S.neighbors(A),function(I){r.has(T,I)||(R=p(S,T,R,I,A))}),D.low=P,D.lim=R++,k?D.parent=k:delete D.parent,R}function g(S){return r.find(S.edges(),function(T){return S.edge(T).cutvalue<0})}function y(S,T,R){var A=R.v,k=R.w;T.hasEdge(A,k)||(A=R.w,k=R.v);var P=S.node(A),D=S.node(k),I=P,M=!1;P.lim>D.lim&&(I=D,M=!0);var L=r.filter(T.edges(),function(N){return M===E(S,S.node(N.v),I)&&M!==E(S,S.node(N.w),I)});return r.minBy(L,function(N){return t(T,N)})}function x(S,T,R,A){var k=R.v,P=R.w;S.removeEdge(k,P),S.setEdge(A.v,A.w,{}),v(S),f(S,T),w(S,T)}function w(S,T){var R=r.find(S.nodes(),function(k){return!T.node(k).parent}),A=a(S,R);A=A.slice(1),r.forEach(A,function(k){var P=S.node(k).parent,D=T.edge(k,P),I=!1;D||(D=T.edge(P,k),I=!0),T.node(k).rank=T.node(P).rank+(I?D.minlen:-D.minlen)})}function b(S,T,R){return S.hasEdge(T,R)}function E(S,T,R){return R.low<=T.lim&&T.lim<=R.lim}return Im}var Mm,mk;function h3(){if(mk)return Mm;mk=1;var r=Nl(),e=r.longestPath,t=IP(),n=v3();Mm=a;function a(f){switch(f.graph().ranker){case"network-simplex":u(f);break;case"tight-tree":s(f);break;case"longest-path":i(f);break;default:u(f)}}var i=e;function s(f){e(f),t(f)}function u(f){n(f)}return Mm}var Om,wk;function p3(){if(wk)return Om;wk=1;var r=Dr();Om=e;function e(a){var i=n(a);r.forEach(a.graph().dummyChains,function(s){for(var u=a.node(s),f=u.edgeObj,c=t(a,i,f.v,f.w),d=c.path,v=c.lca,p=0,g=d[p],y=!0;s!==f.w;){if(u=a.node(s),y){for(;(g=d[p])!==v&&a.node(g).maxRank<u.rank;)p++;g===v&&(y=!1)}if(!y){for(;p<d.length-1&&a.node(g=d[p+1]).minRank<=u.rank;)p++;g=d[p]}a.setParent(s,g),s=a.successors(s)[0]}})}function t(a,i,s,u){var f=[],c=[],d=Math.min(i[s].low,i[u].low),v=Math.max(i[s].lim,i[u].lim),p,g;p=s;do p=a.parent(p),f.push(p);while(p&&(i[p].low>d||v>i[p].lim));for(g=p,p=u;(p=a.parent(p))!==g;)c.push(p);return{path:f.concat(c.reverse()),lca:g}}function n(a){var i={},s=0;function u(f){var c=s;r.forEach(a.children(f),u),i[f]={low:c,lim:s++}}return r.forEach(a.children(),u),i}return Om}var Nm,bk;function g3(){if(bk)return Nm;bk=1;var r=Dr(),e=Ft();Nm={run:t,cleanup:s};function t(u){var f=e.addDummyNode(u,"root",{},"_root"),c=a(u),d=r.max(r.values(c))-1,v=2*d+1;u.graph().nestingRoot=f,r.forEach(u.edges(),function(g){u.edge(g).minlen*=v});var p=i(u)+1;r.forEach(u.children(),function(g){n(u,f,v,p,d,c,g)}),u.graph().nodeRankFactor=v}function n(u,f,c,d,v,p,g){var y=u.children(g);if(!y.length){g!==f&&u.setEdge(f,g,{weight:0,minlen:c});return}var x=e.addBorderNode(u,"_bt"),w=e.addBorderNode(u,"_bb"),b=u.node(g);u.setParent(x,g),b.borderTop=x,u.setParent(w,g),b.borderBottom=w,r.forEach(y,function(E){n(u,f,c,d,v,p,E);var S=u.node(E),T=S.borderTop?S.borderTop:E,R=S.borderBottom?S.borderBottom:E,A=S.borderTop?d:2*d,k=T!==R?1:v-p[g]+1;u.setEdge(x,T,{weight:A,minlen:k,nestingEdge:!0}),u.setEdge(R,w,{weight:A,minlen:k,nestingEdge:!0})}),u.parent(g)||u.setEdge(f,x,{weight:0,minlen:v+p[g]})}function a(u){var f={};function c(d,v){var p=u.children(d);p&&p.length&&r.forEach(p,function(g){c(g,v+1)}),f[d]=v}return r.forEach(u.children(),function(d){c(d,1)}),f}function i(u){return r.reduce(u.edges(),function(f,c){return f+u.edge(c).weight},0)}function s(u){var f=u.graph();u.removeNode(f.nestingRoot),delete f.nestingRoot,r.forEach(u.edges(),function(c){var d=u.edge(c);d.nestingEdge&&u.removeEdge(c)})}return Nm}var Lm,xk;function y3(){if(xk)return Lm;xk=1;var r=Dr(),e=Ft();Lm=t;function t(a){function i(s){var u=a.children(s),f=a.node(s);if(u.length&&r.forEach(u,i),r.has(f,"minRank")){f.borderLeft=[],f.borderRight=[];for(var c=f.minRank,d=f.maxRank+1;c<d;++c)n(a,"borderLeft","_bl",s,f,c),n(a,"borderRight","_br",s,f,c)}}r.forEach(a.children(),i)}function n(a,i,s,u,f,c){var d={width:0,height:0,rank:c,borderType:i},v=f[i][c-1],p=e.addDummyNode(a,"border",d,s);f[i][c]=p,a.setParent(p,u),v&&a.setEdge(v,p,{weight:1})}return Lm}var Bm,Ek;function m3(){if(Ek)return Bm;Ek=1;var r=Dr();Bm={adjust:e,undo:t};function e(c){var d=c.graph().rankdir.toLowerCase();(d==="lr"||d==="rl")&&n(c)}function t(c){var d=c.graph().rankdir.toLowerCase();(d==="bt"||d==="rl")&&i(c),(d==="lr"||d==="rl")&&(u(c),n(c))}function n(c){r.forEach(c.nodes(),function(d){a(c.node(d))}),r.forEach(c.edges(),function(d){a(c.edge(d))})}function a(c){var d=c.width;c.width=c.height,c.height=d}function i(c){r.forEach(c.nodes(),function(d){s(c.node(d))}),r.forEach(c.edges(),function(d){var v=c.edge(d);r.forEach(v.points,s),r.has(v,"y")&&s(v)})}function s(c){c.y=-c.y}function u(c){r.forEach(c.nodes(),function(d){f(c.node(d))}),r.forEach(c.edges(),function(d){var v=c.edge(d);r.forEach(v.points,f),r.has(v,"x")&&f(v)})}function f(c){var d=c.x;c.x=c.y,c.y=d}return Bm}var qm,Sk;function w3(){if(Sk)return qm;Sk=1;var r=Dr();qm=e;function e(t){var n={},a=r.filter(t.nodes(),function(c){return!t.children(c).length}),i=r.max(r.map(a,function(c){return t.node(c).rank})),s=r.map(r.range(i+1),function(){return[]});function u(c){if(!r.has(n,c)){n[c]=!0;var d=t.node(c);s[d.rank].push(c),r.forEach(t.successors(c),u)}}var f=r.sortBy(a,function(c){return t.node(c).rank});return r.forEach(f,u),s}return qm}var Fm,Ck;function b3(){if(Ck)return Fm;Ck=1;var r=Dr();Fm=e;function e(n,a){for(var i=0,s=1;s<a.length;++s)i+=t(n,a[s-1],a[s]);return i}function t(n,a,i){for(var s=r.zipObject(i,r.map(i,function(p,g){return g})),u=r.flatten(r.map(a,function(p){return r.sortBy(r.map(n.outEdges(p),function(g){return{pos:s[g.w],weight:n.edge(g).weight}}),"pos")}),!0),f=1;f<i.length;)f<<=1;var c=2*f-1;f-=1;var d=r.map(new Array(c),function(){return 0}),v=0;return r.forEach(u.forEach(function(p){var g=p.pos+f;d[g]+=p.weight;for(var y=0;g>0;)g%2&&(y+=d[g+1]),g=g-1>>1,d[g]+=p.weight;v+=p.weight*y})),v}return Fm}var zm,Tk;function x3(){if(Tk)return zm;Tk=1;var r=Dr();zm=e;function e(t,n){return r.map(n,function(a){var i=t.inEdges(a);if(i.length){var s=r.reduce(i,function(u,f){var c=t.edge(f),d=t.node(f.v);return{sum:u.sum+c.weight*d.order,weight:u.weight+c.weight}},{sum:0,weight:0});return{v:a,barycenter:s.sum/s.weight,weight:s.weight}}else return{v:a}})}return zm}var Vm,_k;function E3(){if(_k)return Vm;_k=1;var r=Dr();Vm=e;function e(a,i){var s={};r.forEach(a,function(f,c){var d=s[f.v]={indegree:0,in:[],out:[],vs:[f.v],i:c};r.isUndefined(f.barycenter)||(d.barycenter=f.barycenter,d.weight=f.weight)}),r.forEach(i.edges(),function(f){var c=s[f.v],d=s[f.w];!r.isUndefined(c)&&!r.isUndefined(d)&&(d.indegree++,c.out.push(s[f.w]))});var u=r.filter(s,function(f){return!f.indegree});return t(u)}function t(a){var i=[];function s(c){return function(d){d.merged||(r.isUndefined(d.barycenter)||r.isUndefined(c.barycenter)||d.barycenter>=c.barycenter)&&n(c,d)}}function u(c){return function(d){d.in.push(c),--d.indegree===0&&a.push(d)}}for(;a.length;){var f=a.pop();i.push(f),r.forEach(f.in.reverse(),s(f)),r.forEach(f.out,u(f))}return r.map(r.filter(i,function(c){return!c.merged}),function(c){return r.pick(c,["vs","i","barycenter","weight"])})}function n(a,i){var s=0,u=0;a.weight&&(s+=a.barycenter*a.weight,u+=a.weight),i.weight&&(s+=i.barycenter*i.weight,u+=i.weight),a.vs=i.vs.concat(a.vs),a.barycenter=s/u,a.weight=u,a.i=Math.min(i.i,a.i),i.merged=!0}return Vm}var $m,kk;function S3(){if(kk)return $m;kk=1;var r=Dr(),e=Ft();$m=t;function t(i,s){var u=e.partition(i,function(x){return r.has(x,"barycenter")}),f=u.lhs,c=r.sortBy(u.rhs,function(x){return-x.i}),d=[],v=0,p=0,g=0;f.sort(a(!!s)),g=n(d,c,g),r.forEach(f,function(x){g+=x.vs.length,d.push(x.vs),v+=x.barycenter*x.weight,p+=x.weight,g=n(d,c,g)});var y={vs:r.flatten(d,!0)};return p&&(y.barycenter=v/p,y.weight=p),y}function n(i,s,u){for(var f;s.length&&(f=r.last(s)).i<=u;)s.pop(),i.push(f.vs),u++;return u}function a(i){return function(s,u){return s.barycenter<u.barycenter?-1:s.barycenter>u.barycenter?1:i?u.i-s.i:s.i-u.i}}return $m}var Um,Rk;function C3(){if(Rk)return Um;Rk=1;var r=Dr(),e=x3(),t=E3(),n=S3();Um=a;function a(u,f,c,d){var v=u.children(f),p=u.node(f),g=p?p.borderLeft:void 0,y=p?p.borderRight:void 0,x={};g&&(v=r.filter(v,function(R){return R!==g&&R!==y}));var w=e(u,v);r.forEach(w,function(R){if(u.children(R.v).length){var A=a(u,R.v,c,d);x[R.v]=A,r.has(A,"barycenter")&&s(R,A)}});var b=t(w,c);i(b,x);var E=n(b,d);if(g&&(E.vs=r.flatten([g,E.vs,y],!0),u.predecessors(g).length)){var S=u.node(u.predecessors(g)[0]),T=u.node(u.predecessors(y)[0]);r.has(E,"barycenter")||(E.barycenter=0,E.weight=0),E.barycenter=(E.barycenter*E.weight+S.order+T.order)/(E.weight+2),E.weight+=2}return E}function i(u,f){r.forEach(u,function(c){c.vs=r.flatten(c.vs.map(function(d){return f[d]?f[d].vs:d}),!0)})}function s(u,f){r.isUndefined(u.barycenter)?(u.barycenter=f.barycenter,u.weight=f.weight):(u.barycenter=(u.barycenter*u.weight+f.barycenter*f.weight)/(u.weight+f.weight),u.weight+=f.weight)}return Um}var Gm,Ak;function T3(){if(Ak)return Gm;Ak=1;var r=Dr(),e=gn().Graph;Gm=t;function t(a,i,s){var u=n(a),f=new e({compound:!0}).setGraph({root:u}).setDefaultNodeLabel(function(c){return a.node(c)});return r.forEach(a.nodes(),function(c){var d=a.node(c),v=a.parent(c);(d.rank===i||d.minRank<=i&&i<=d.maxRank)&&(f.setNode(c),f.setParent(c,v||u),r.forEach(a[s](c),function(p){var g=p.v===c?p.w:p.v,y=f.edge(g,c),x=r.isUndefined(y)?0:y.weight;f.setEdge(g,c,{weight:a.edge(p).weight+x})}),r.has(d,"minRank")&&f.setNode(c,{borderLeft:d.borderLeft[i],borderRight:d.borderRight[i]}))}),f}function n(a){for(var i;a.hasNode(i=r.uniqueId("_root")););return i}return Gm}var jm,Pk;function _3(){if(Pk)return jm;Pk=1;var r=Dr();jm=e;function e(t,n,a){var i={},s;r.forEach(a,function(u){for(var f=t.parent(u),c,d;f;){if(c=t.parent(f),c?(d=i[c],i[c]=f):(d=s,s=f),d&&d!==f){n.setEdge(d,f);return}f=c}})}return jm}var Hm,Dk;function k3(){if(Dk)return Hm;Dk=1;var r=Dr(),e=w3(),t=b3(),n=C3(),a=T3(),i=_3(),s=gn().Graph,u=Ft();Hm=f;function f(p){var g=u.maxRank(p),y=c(p,r.range(1,g+1),"inEdges"),x=c(p,r.range(g-1,-1,-1),"outEdges"),w=e(p);v(p,w);for(var b=Number.POSITIVE_INFINITY,E,S=0,T=0;T<4;++S,++T){d(S%2?y:x,S%4>=2),w=u.buildLayerMatrix(p);var R=t(p,w);R<b&&(T=0,E=r.cloneDeep(w),b=R)}v(p,E)}function c(p,g,y){return r.map(g,function(x){return a(p,x,y)})}function d(p,g){var y=new s;r.forEach(p,function(x){var w=x.graph().root,b=n(x,w,y,g);r.forEach(b.vs,function(E,S){x.node(E).order=S}),i(x,y,b.vs)})}function v(p,g){r.forEach(g,function(y){r.forEach(y,function(x,w){p.node(x).order=w})})}return Hm}var Wm,Ik;function R3(){if(Ik)return Wm;Ik=1;var r=Dr(),e=gn().Graph,t=Ft();Wm={positionX:y,findType1Conflicts:n,findType2Conflicts:a,addConflict:s,hasConflict:u,verticalAlignment:f,horizontalCompaction:c,alignCoordinates:p,findSmallestWidthAlignment:v,balance:g};function n(b,E){var S={};function T(R,A){var k=0,P=0,D=R.length,I=r.last(A);return r.forEach(A,function(M,L){var N=i(b,M),z=N?b.node(N).order:D;(N||M===I)&&(r.forEach(A.slice(P,L+1),function(G){r.forEach(b.predecessors(G),function(H){var U=b.node(H),F=U.order;(F<k||z<F)&&!(U.dummy&&b.node(G).dummy)&&s(S,H,G)})}),P=L+1,k=z)}),A}return r.reduce(E,T),S}function a(b,E){var S={};function T(A,k,P,D,I){var M;r.forEach(r.range(k,P),function(L){M=A[L],b.node(M).dummy&&r.forEach(b.predecessors(M),function(N){var z=b.node(N);z.dummy&&(z.order<D||z.order>I)&&s(S,N,M)})})}function R(A,k){var P=-1,D,I=0;return r.forEach(k,function(M,L){if(b.node(M).dummy==="border"){var N=b.predecessors(M);N.length&&(D=b.node(N[0]).order,T(k,I,L,P,D),I=L,P=D)}T(k,I,k.length,D,A.length)}),k}return r.reduce(E,R),S}function i(b,E){if(b.node(E).dummy)return r.find(b.predecessors(E),function(S){return b.node(S).dummy})}function s(b,E,S){if(E>S){var T=E;E=S,S=T}var R=b[E];R||(b[E]=R={}),R[S]=!0}function u(b,E,S){if(E>S){var T=E;E=S,S=T}return r.has(b[E],S)}function f(b,E,S,T){var R={},A={},k={};return r.forEach(E,function(P){r.forEach(P,function(D,I){R[D]=D,A[D]=D,k[D]=I})}),r.forEach(E,function(P){var D=-1;r.forEach(P,function(I){var M=T(I);if(M.length){M=r.sortBy(M,function(H){return k[H]});for(var L=(M.length-1)/2,N=Math.floor(L),z=Math.ceil(L);N<=z;++N){var G=M[N];A[I]===I&&D<k[G]&&!u(S,I,G)&&(A[G]=I,A[I]=R[I]=R[G],D=k[G])}}})}),{root:R,align:A}}function c(b,E,S,T,R){var A={},k=d(b,E,S,R),P=R?"borderLeft":"borderRight";function D(L,N){for(var z=k.nodes(),G=z.pop(),H={};G;)H[G]?L(G):(H[G]=!0,z.push(G),z=z.concat(N(G))),G=z.pop()}function I(L){A[L]=k.inEdges(L).reduce(function(N,z){return Math.max(N,A[z.v]+k.edge(z))},0)}function M(L){var N=k.outEdges(L).reduce(function(G,H){return Math.min(G,A[H.w]-k.edge(H))},Number.POSITIVE_INFINITY),z=b.node(L);N!==Number.POSITIVE_INFINITY&&z.borderType!==P&&(A[L]=Math.max(A[L],N))}return D(I,k.predecessors.bind(k)),D(M,k.successors.bind(k)),r.forEach(T,function(L){A[L]=A[S[L]]}),A}function d(b,E,S,T){var R=new e,A=b.graph(),k=x(A.nodesep,A.edgesep,T);return r.forEach(E,function(P){var D;r.forEach(P,function(I){var M=S[I];if(R.setNode(M),D){var L=S[D],N=R.edge(L,M);R.setEdge(L,M,Math.max(k(b,I,D),N||0))}D=I})}),R}function v(b,E){return r.minBy(r.values(E),function(S){var T=Number.NEGATIVE_INFINITY,R=Number.POSITIVE_INFINITY;return r.forIn(S,function(A,k){var P=w(b,k)/2;T=Math.max(A+P,T),R=Math.min(A-P,R)}),T-R})}function p(b,E){var S=r.values(E),T=r.min(S),R=r.max(S);r.forEach(["u","d"],function(A){r.forEach(["l","r"],function(k){var P=A+k,D=b[P],I;if(D!==E){var M=r.values(D);I=k==="l"?T-r.min(M):R-r.max(M),I&&(b[P]=r.mapValues(D,function(L){return L+I}))}})})}function g(b,E){return r.mapValues(b.ul,function(S,T){if(E)return b[E.toLowerCase()][T];var R=r.sortBy(r.map(b,T));return(R[1]+R[2])/2})}function y(b){var E=t.buildLayerMatrix(b),S=r.merge(n(b,E),a(b,E)),T={},R;r.forEach(["u","d"],function(k){R=k==="u"?E:r.values(E).reverse(),r.forEach(["l","r"],function(P){P==="r"&&(R=r.map(R,function(L){return r.values(L).reverse()}));var D=(k==="u"?b.predecessors:b.successors).bind(b),I=f(b,R,S,D),M=c(b,R,I.root,I.align,P==="r");P==="r"&&(M=r.mapValues(M,function(L){return-L})),T[k+P]=M})});var A=v(b,T);return p(T,A),g(T,b.graph().align)}function x(b,E,S){return function(T,R,A){var k=T.node(R),P=T.node(A),D=0,I;if(D+=k.width/2,r.has(k,"labelpos"))switch(k.labelpos.toLowerCase()){case"l":I=-k.width/2;break;case"r":I=k.width/2;break}if(I&&(D+=S?I:-I),I=0,D+=(k.dummy?E:b)/2,D+=(P.dummy?E:b)/2,D+=P.width/2,r.has(P,"labelpos"))switch(P.labelpos.toLowerCase()){case"l":I=P.width/2;break;case"r":I=-P.width/2;break}return I&&(D+=S?I:-I),I=0,D}}function w(b,E){return b.node(E).width}return Wm}var Km,Mk;function A3(){if(Mk)return Km;Mk=1;var r=Dr(),e=Ft(),t=R3().positionX;Km=n;function n(i){i=e.asNonCompoundGraph(i),a(i),r.forEach(t(i),function(s,u){i.node(u).x=s})}function a(i){var s=e.buildLayerMatrix(i),u=i.graph().ranksep,f=0;r.forEach(s,function(c){var d=r.max(r.map(c,function(v){return i.node(v).height}));r.forEach(c,function(v){i.node(v).y=f+d/2}),f+=d+u})}return Km}var Ym,Ok;function P3(){if(Ok)return Ym;Ok=1;var r=Dr(),e=c3(),t=d3(),n=h3(),a=Ft().normalizeRanks,i=p3(),s=Ft().removeEmptyRanks,u=g3(),f=y3(),c=m3(),d=k3(),v=A3(),p=Ft(),g=gn().Graph;Ym=y;function y($,j){var Y=j&&j.debugTiming?p.time:p.notime;Y("layout",function(){var ee=Y("  buildLayoutGraph",function(){return D($)});Y("  runLayout",function(){x(ee,Y)}),Y("  updateInputGraph",function(){w($,ee)})})}function x($,j){j("    makeSpaceForEdgeLabels",function(){I($)}),j("    removeSelfEdges",function(){X($)}),j("    acyclic",function(){e.run($)}),j("    nestingGraph.run",function(){u.run($)}),j("    rank",function(){n(p.asNonCompoundGraph($))}),j("    injectEdgeLabelProxies",function(){M($)}),j("    removeEmptyRanks",function(){s($)}),j("    nestingGraph.cleanup",function(){u.cleanup($)}),j("    normalizeRanks",function(){a($)}),j("    assignRankMinMax",function(){L($)}),j("    removeEdgeLabelProxies",function(){N($)}),j("    normalize.run",function(){t.run($)}),j("    parentDummyChains",function(){i($)}),j("    addBorderSegments",function(){f($)}),j("    order",function(){d($)}),j("    insertSelfEdges",function(){K($)}),j("    adjustCoordinateSystem",function(){c.adjust($)}),j("    position",function(){v($)}),j("    positionSelfEdges",function(){B($)}),j("    removeBorderNodes",function(){F($)}),j("    normalize.undo",function(){t.undo($)}),j("    fixupEdgeLabelCoords",function(){H($)}),j("    undoCoordinateSystem",function(){c.undo($)}),j("    translateGraph",function(){z($)}),j("    assignNodeIntersects",function(){G($)}),j("    reversePoints",function(){U($)}),j("    acyclic.undo",function(){e.undo($)})}function w($,j){r.forEach($.nodes(),function(Y){var ee=$.node(Y),le=j.node(Y);ee&&(ee.x=le.x,ee.y=le.y,j.children(Y).length&&(ee.width=le.width,ee.height=le.height))}),r.forEach($.edges(),function(Y){var ee=$.edge(Y),le=j.edge(Y);ee.points=le.points,r.has(le,"x")&&(ee.x=le.x,ee.y=le.y)}),$.graph().width=j.graph().width,$.graph().height=j.graph().height}var b=["nodesep","edgesep","ranksep","marginx","marginy"],E={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},S=["acyclicer","ranker","rankdir","align"],T=["width","height"],R={width:0,height:0},A=["minlen","weight","width","height","labeloffset"],k={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},P=["labelpos"];function D($){var j=new g({multigraph:!0,compound:!0}),Y=te($.graph());return j.setGraph(r.merge({},E,V(Y,b),r.pick(Y,S))),r.forEach($.nodes(),function(ee){var le=te($.node(ee));j.setNode(ee,r.defaults(V(le,T),R)),j.setParent(ee,$.parent(ee))}),r.forEach($.edges(),function(ee){var le=te($.edge(ee));j.setEdge(ee,r.merge({},k,V(le,A),r.pick(le,P)))}),j}function I($){var j=$.graph();j.ranksep/=2,r.forEach($.edges(),function(Y){var ee=$.edge(Y);ee.minlen*=2,ee.labelpos.toLowerCase()!=="c"&&(j.rankdir==="TB"||j.rankdir==="BT"?ee.width+=ee.labeloffset:ee.height+=ee.labeloffset)})}function M($){r.forEach($.edges(),function(j){var Y=$.edge(j);if(Y.width&&Y.height){var ee=$.node(j.v),le=$.node(j.w),ie={rank:(le.rank-ee.rank)/2+ee.rank,e:j};p.addDummyNode($,"edge-proxy",ie,"_ep")}})}function L($){var j=0;r.forEach($.nodes(),function(Y){var ee=$.node(Y);ee.borderTop&&(ee.minRank=$.node(ee.borderTop).rank,ee.maxRank=$.node(ee.borderBottom).rank,j=r.max(j,ee.maxRank))}),$.graph().maxRank=j}function N($){r.forEach($.nodes(),function(j){var Y=$.node(j);Y.dummy==="edge-proxy"&&($.edge(Y.e).labelRank=Y.rank,$.removeNode(j))})}function z($){var j=Number.POSITIVE_INFINITY,Y=0,ee=Number.POSITIVE_INFINITY,le=0,ie=$.graph(),Q=ie.marginx||0,re=ie.marginy||0;function se(ce){var me=ce.x,xe=ce.y,Ze=ce.width,Se=ce.height;j=Math.min(j,me-Ze/2),Y=Math.max(Y,me+Ze/2),ee=Math.min(ee,xe-Se/2),le=Math.max(le,xe+Se/2)}r.forEach($.nodes(),function(ce){se($.node(ce))}),r.forEach($.edges(),function(ce){var me=$.edge(ce);r.has(me,"x")&&se(me)}),j-=Q,ee-=re,r.forEach($.nodes(),function(ce){var me=$.node(ce);me.x-=j,me.y-=ee}),r.forEach($.edges(),function(ce){var me=$.edge(ce);r.forEach(me.points,function(xe){xe.x-=j,xe.y-=ee}),r.has(me,"x")&&(me.x-=j),r.has(me,"y")&&(me.y-=ee)}),ie.width=Y-j+Q,ie.height=le-ee+re}function G($){r.forEach($.edges(),function(j){var Y=$.edge(j),ee=$.node(j.v),le=$.node(j.w),ie,Q;Y.points?(ie=Y.points[0],Q=Y.points[Y.points.length-1]):(Y.points=[],ie=le,Q=ee),Y.points.unshift(p.intersectRect(ee,ie)),Y.points.push(p.intersectRect(le,Q))})}function H($){r.forEach($.edges(),function(j){var Y=$.edge(j);if(r.has(Y,"x"))switch((Y.labelpos==="l"||Y.labelpos==="r")&&(Y.width-=Y.labeloffset),Y.labelpos){case"l":Y.x-=Y.width/2+Y.labeloffset;break;case"r":Y.x+=Y.width/2+Y.labeloffset;break}})}function U($){r.forEach($.edges(),function(j){var Y=$.edge(j);Y.reversed&&Y.points.reverse()})}function F($){r.forEach($.nodes(),function(j){if($.children(j).length){var Y=$.node(j),ee=$.node(Y.borderTop),le=$.node(Y.borderBottom),ie=$.node(r.last(Y.borderLeft)),Q=$.node(r.last(Y.borderRight));Y.width=Math.abs(Q.x-ie.x),Y.height=Math.abs(le.y-ee.y),Y.x=ie.x+Y.width/2,Y.y=ee.y+Y.height/2}}),r.forEach($.nodes(),function(j){$.node(j).dummy==="border"&&$.removeNode(j)})}function X($){r.forEach($.edges(),function(j){if(j.v===j.w){var Y=$.node(j.v);Y.selfEdges||(Y.selfEdges=[]),Y.selfEdges.push({e:j,label:$.edge(j)}),$.removeEdge(j)}})}function K($){var j=p.buildLayerMatrix($);r.forEach(j,function(Y){var ee=0;r.forEach(Y,function(le,ie){var Q=$.node(le);Q.order=ie+ee,r.forEach(Q.selfEdges,function(re){p.addDummyNode($,"selfedge",{width:re.label.width,height:re.label.height,rank:Q.rank,order:ie+ ++ee,e:re.e,label:re.label},"_se")}),delete Q.selfEdges})})}function B($){r.forEach($.nodes(),function(j){var Y=$.node(j);if(Y.dummy==="selfedge"){var ee=$.node(Y.e.v),le=ee.x+ee.width/2,ie=ee.y,Q=Y.x-le,re=ee.height/2;$.setEdge(Y.e,Y.label),$.removeNode(j),Y.label.points=[{x:le+2*Q/3,y:ie-re},{x:le+5*Q/6,y:ie-re},{x:le+Q,y:ie},{x:le+5*Q/6,y:ie+re},{x:le+2*Q/3,y:ie+re}],Y.label.x=Y.x,Y.label.y=Y.y}})}function V($,j){return r.mapValues(r.pick($,j),Number)}function te($){var j={};return r.forEach($,function(Y,ee){j[ee.toLowerCase()]=Y}),j}return Ym}var Xm,Nk;function D3(){if(Nk)return Xm;Nk=1;var r=Dr(),e=Ft(),t=gn().Graph;Xm={debugOrdering:n};function n(a){var i=e.buildLayerMatrix(a),s=new t({compound:!0,multigraph:!0}).setGraph({});return r.forEach(a.nodes(),function(u){s.setNode(u,{label:u}),s.setParent(u,"layer"+a.node(u).rank)}),r.forEach(a.edges(),function(u){s.setEdge(u.v,u.w,{},u.name)}),r.forEach(i,function(u,f){var c="layer"+f;s.setNode(c,{rank:"same"}),r.reduce(u,function(d,v){return s.setEdge(d,v,{style:"invis"}),v})}),s}return Xm}var Zm,Lk;function I3(){return Lk||(Lk=1,Zm="0.8.5"),Zm}var Qm,Bk;function M3(){return Bk||(Bk=1,Qm={graphlib:gn(),layout:P3(),debug:D3(),util:{time:Ft().time,notime:Ft().notime},version:I3()}),Qm}var O3=bl.exports,qk;function N3(){return qk||(qk=1,(function(r,e){(function(n,a){r.exports=a(M3())})(O3,function(t){return(function(n){var a={};function i(s){if(a[s])return a[s].exports;var u=a[s]={i:s,l:!1,exports:{}};return n[s].call(u.exports,u,u.exports,i),u.l=!0,u.exports}return i.m=n,i.c=a,i.d=function(s,u,f){i.o(s,u)||Object.defineProperty(s,u,{enumerable:!0,get:f})},i.r=function(s){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})},i.t=function(s,u){if(u&1&&(s=i(s)),u&8||u&4&&typeof s=="object"&&s&&s.__esModule)return s;var f=Object.create(null);if(i.r(f),Object.defineProperty(f,"default",{enumerable:!0,value:s}),u&2&&typeof s!="string")for(var c in s)i.d(f,c,(function(d){return s[d]}).bind(null,c));return f},i.n=function(s){var u=s&&s.__esModule?function(){return s.default}:function(){return s};return i.d(u,"a",u),u},i.o=function(s,u){return Object.prototype.hasOwnProperty.call(s,u)},i.p="",i(i.s=0)})([(function(n,a,i){var s=i(1),u=function(c){c&&c("layout","dagre",s)};typeof cytoscape<"u"&&u(cytoscape),n.exports=u}),(function(n,a,i){function s(p){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?s=function(y){return typeof y}:s=function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y},s(p)}var u=function(g){return typeof g=="function"},f=i(2),c=i(3),d=i(4);function v(p){this.options=c({},f,p)}v.prototype.run=function(){var p=this.options,g=this,y=p.cy,x=p.eles,w=function(B,V){return u(V)?V.apply(B,[B]):V},b=p.boundingBox||{x1:0,y1:0,w:y.width(),h:y.height()};b.x2===void 0&&(b.x2=b.x1+b.w),b.w===void 0&&(b.w=b.x2-b.x1),b.y2===void 0&&(b.y2=b.y1+b.h),b.h===void 0&&(b.h=b.y2-b.y1);var E=new d.graphlib.Graph({multigraph:!0,compound:!0}),S={},T=function(B,V){V!=null&&(S[B]=V)};T("nodesep",p.nodeSep),T("edgesep",p.edgeSep),T("ranksep",p.rankSep),T("rankdir",p.rankDir),T("align",p.align),T("ranker",p.ranker),T("acyclicer",p.acyclicer),E.setGraph(S),E.setDefaultEdgeLabel(function(){return{}}),E.setDefaultNodeLabel(function(){return{}});var R=x.nodes();u(p.sort)&&(R=R.sort(p.sort));for(var A=0;A<R.length;A++){var k=R[A],P=k.layoutDimensions(p);E.setNode(k.id(),{width:P.w,height:P.h,name:k.id()})}for(var D=0;D<R.length;D++){var I=R[D];I.isChild()&&E.setParent(I.id(),I.parent().id())}var M=x.edges().stdFilter(function(K){return!K.source().isParent()&&!K.target().isParent()});u(p.sort)&&(M=M.sort(p.sort));for(var L=0;L<M.length;L++){var N=M[L];E.setEdge(N.source().id(),N.target().id(),{minlen:w(N,p.minLen),weight:w(N,p.edgeWeight),name:N.id()},N.id())}d.layout(E);for(var z=E.nodes(),G=0;G<z.length;G++){var H=z[G],U=E.node(H);y.getElementById(H).scratch().dagre=U}var F;p.boundingBox?(F={x1:1/0,x2:-1/0,y1:1/0,y2:-1/0},R.forEach(function(K){var B=K.scratch().dagre;F.x1=Math.min(F.x1,B.x),F.x2=Math.max(F.x2,B.x),F.y1=Math.min(F.y1,B.y),F.y2=Math.max(F.y2,B.y)}),F.w=F.x2-F.x1,F.h=F.y2-F.y1):F=b;var X=function(B){if(p.boundingBox){var V=F.w===0?0:(B.x-F.x1)/F.w,te=F.h===0?0:(B.y-F.y1)/F.h;return{x:b.x1+V*b.w,y:b.y1+te*b.h}}else return B};return R.layoutPositions(g,p,function(K){K=s(K)==="object"?K:this;var B=K.scratch().dagre;return X({x:B.x,y:B.y})}),this},n.exports=v}),(function(n,a){var i={nodeSep:void 0,edgeSep:void 0,rankSep:void 0,rankDir:void 0,align:void 0,acyclicer:void 0,ranker:void 0,minLen:function(u){return 1},edgeWeight:function(u){return 1},fit:!0,padding:30,spacingFactor:void 0,nodeDimensionsIncludeLabels:!1,animate:!1,animateFilter:function(u,f){return!0},animationDuration:500,animationEasing:void 0,boundingBox:void 0,transform:function(u,f){return f},ready:function(){},sort:void 0,stop:function(){}};n.exports=i}),(function(n,a){n.exports=Object.assign!=null?Object.assign.bind(Object):function(i){for(var s=arguments.length,u=new Array(s>1?s-1:0),f=1;f<s;f++)u[f-1]=arguments[f];return u.forEach(function(c){Object.keys(c).forEach(function(d){return i[d]=c[d]})}),i}}),(function(n,a){n.exports=t})])})})(bl)),bl.exports}var L3=N3();const B3=w0(L3);function q3(r){const e=new Set(r.map(n=>n.id)),t=[];for(const n of r){t.push({data:{...n,label:n.name,type:n.type??"box"}});for(const a of n.dependencies)e.has(a)&&t.push({data:{id:`${a}->${n.id}`,source:a,target:n.id}})}return t}const F3=[{selector:"node",style:{"background-color":"#4B5563",label:"data(label)",color:"#E5E7EB","text-valign":"center","text-halign":"center","font-size":"11px","font-family":"ui-monospace, monospace",width:"140px",height:"40px",shape:"roundrectangle","text-wrap":"ellipsis","text-max-width":"120px","border-width":1,"border-color":"#6B7280"}},{selector:'node[type = "condition"]',style:{shape:"diamond",width:"50px",height:"50px","font-size":"9px","text-max-width":"60px"}},{selector:'node[type = "file_watcher"]',style:{shape:"hexagon",width:"50px",height:"50px","font-size":"9px","text-max-width":"60px","background-color":"#4338CA"}},{selector:'node[type = "command"]',style:{"background-color":"#1E6A5C"}},{selector:"edge",style:{width:1.5,"line-color":"#4B5563","target-arrow-color":"#4B5563","target-arrow-shape":"triangle","curve-style":"bezier","arrow-scale":.8}},{selector:"node.selected",style:{"background-color":"#F59E0B","border-color":"#FBBF24","border-width":2,color:"#1F2937"}},{selector:"node.upstream",style:{"background-color":"#2563EB","border-color":"#3B82F6","border-width":2}},{selector:"node.downstream",style:{"background-color":"#059669","border-color":"#10B981","border-width":2}},{selector:"node.dimmed",style:{opacity:.2}},{selector:"edge.dimmed",style:{opacity:.1}},{selector:"edge.highlighted",style:{"line-color":"#60A5FA","target-arrow-color":"#60A5FA",width:2.5}},{selector:"node.search-match",style:{"border-color":"#F59E0B","border-width":3}},{selector:"node.timing-active",style:{height:"48px","text-wrap":"wrap","text-max-width":"130px"}},{selector:"node.critical-path",style:{"border-color":"#EF4444","border-width":3,"border-style":"solid"}},{selector:"edge.critical-edge",style:{"line-color":"#EF4444","target-arrow-color":"#EF4444",width:3}},{selector:"node.duration-override",style:{"border-color":"#8B5CF6","border-width":3,"border-style":"dashed"}},{selector:"node.critical-path.dimmed",style:{opacity:.45}},{selector:"edge.critical-edge.dimmed",style:{opacity:.35}}];B3(Pa);const Fk={dagre:{name:"dagre",rankDir:"TB",nodeSep:60,rankSep:80,edgeSep:20,animate:!1},breadthfirst:{name:"breadthfirst",directed:!0,spacingFactor:1.5,animate:!1},concentric:{name:"concentric",minNodeSpacing:60,animate:!1}};function z3({jobs:r,layout:e,searchQuery:t,typeFilters:n,onNodeSelect:a,onZoomChange:i,cyRef:s,timingEnabled:u,timingResult:f,durationOverrides:c}){const d=Je.useRef(null),v=Je.useRef(e);Je.useEffect(()=>{if(!d.current)return;const g=Pa({container:d.current,style:F3,minZoom:.1,maxZoom:5,wheelSensitivity:.3});return s.current=g,g.on("tap","node",y=>{a(y.target.id())}),g.on("tap",y=>{y.target===g&&a(null)}),g.on("zoom",()=>{i(g.zoom())}),g.on("dbltap","node",y=>{g.animate({center:{eles:y.target},zoom:2,duration:300})}),()=>{g.destroy(),s.current=null}},[]),Je.useEffect(()=>{const g=s.current;if(!g||r.length===0)return;const y=q3(r);g.json({elements:y}),g.layout(Fk[v.current]).run(),setTimeout(()=>{g.fit(void 0,40),i(g.zoom())},50)},[r]),Je.useEffect(()=>{const g=s.current;!g||g.nodes().length===0||(v.current=e,g.layout(Fk[e]).run(),setTimeout(()=>{g.fit(void 0,40),i(g.zoom())},50))},[e]),Je.useEffect(()=>{const g=s.current;if(g&&(g.nodes().removeClass("search-match"),t.trim())){const y=t.toLowerCase();g.nodes().forEach(x=>{(x.data("label")||"").toLowerCase().includes(y)&&x.addClass("search-match")})}},[t,s]);const p=Je.useCallback(()=>{const g=s.current;g&&g.nodes().forEach(y=>{const x=y.data("type")||"box";n[x]===!1?y.style("display","none"):y.style("display","element")})},[n,s]);return Je.useEffect(()=>{p()},[p]),Je.useEffect(()=>{const g=s.current;if(!g)return;const y=["timing-active","critical-path","critical-edge","duration-override"];if(!u||!f){g.batch(()=>{g.elements().removeClass(y.join(" ")),g.nodes().forEach(S=>{S.data("label",S.data("name"))})});return}const{nodeTiming:x,criticalPath:w}=f,b=new Set(w),E=new Set;for(let S=0;S<w.length-1;S++){const T=`${w[S]}->${w[S+1]}`;E.add(T)}g.batch(()=>{g.elements().removeClass(y.join(" ")),g.nodes().forEach(S=>{const T=S.id(),R=x.get(T);if(!R)return;const A=R.effectiveDuration,k=`${S.data("name")}
 ${A}m`;S.data("label",k),S.addClass("timing-active"),b.has(T)&&S.addClass("critical-path"),c.has(T)&&S.addClass("duration-override")}),g.edges().forEach(S=>{E.has(S.id())&&S.addClass("critical-edge")})})},[u,f,c,s]),fe.jsx("div",{ref:d,className:"flex-1 bg-gray-900"})}function V3({jobCount:r,selectedJobId:e,upstreamCount:t,downstreamCount:n,zoom:a,timingEnabled:i,totalDuration:s,criticalPathLength:u}){return fe.jsxs("footer",{className:"flex items-center justify-between px-4 py-1.5 bg-gray-800 border-t border-gray-700 text-xs text-gray-400",children:[fe.jsxs("div",{className:"flex items-center gap-4",children:[fe.jsxs("span",{children:[r," jobs loaded"]}),e&&fe.jsxs(fe.Fragment,{children:[fe.jsx("span",{className:"text-gray-600",children:"|"}),fe.jsxs("span",{children:[fe.jsxs("span",{className:"text-blue-400",children:[t," upstream"]})," / ",fe.jsxs("span",{className:"text-green-400",children:[n," downstream"]})]})]}),i&&fe.jsxs(fe.Fragment,{children:[fe.jsx("span",{className:"text-gray-600",children:"|"}),fe.jsxs("span",{className:"text-red-400",children:["Critical path: ",s,"m (",u," jobs)"]})]})]}),fe.jsxs("div",{children:["Zoom: ",Math.round(a*100),"%"]})]})}function $3(){const{jobs:r,error:e,loadFromFile:t,loadSampleData:n}=AI(),{selectedJobId:a,selectNode:i,cyRef:s}=DI(),{timingEnabled:u,toggleTiming:f,timingResult:c,baselineDuration:d,durationOverrides:v,setDurationOverride:p,clearDurationOverride:g,resetAllOverrides:y}=II(r),[x,w]=Je.useState("dagre"),[b,E]=Je.useState(""),[S,T]=Je.useState({}),[R,A]=Je.useState(1),k=Je.useMemo(()=>r.find(N=>N.id===a)??null,[r,a]),P=Je.useMemo(()=>!a||!s.current?0:zk(s.current,a).length,[a,s]),D=Je.useMemo(()=>!a||!s.current?0:Vk(s.current,a).length,[a,s]),I=Je.useCallback(N=>{T(z=>({...z,[N]:z[N]===!1}))},[]),M=Je.useCallback(()=>{var N;(N=s.current)==null||N.fit(void 0,40)},[s]),L=Je.useCallback(N=>{s.current&&(N==="png"?MI(s.current):OI(s.current))},[s]);return fe.jsxs("div",{className:"h-screen flex flex-col",children:[fe.jsx(NI,{onImport:t,onLoadSample:n,layout:x,onLayoutChange:w,onFit:M,hasData:r.length>0,timingEnabled:u,onTimingToggle:f,onExport:L}),e&&fe.jsx("div",{className:"px-4 py-2 bg-red-900/50 border-b border-red-700 text-red-200 text-sm",children:e}),fe.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[fe.jsx($I,{searchQuery:b,onSearchChange:E,filters:S,onFilterToggle:I,selectedJob:k,timingEnabled:u,timingResult:c,baselineDuration:d,durationOverrides:v,onDurationOverride:p,onClearOverride:g,onResetAllOverrides:y}),r.length>0?fe.jsx(z3,{jobs:r,layout:x,searchQuery:b,typeFilters:S,onNodeSelect:i,onZoomChange:A,cyRef:s,timingEnabled:u,timingResult:c,durationOverrides:v}):fe.jsx("div",{className:"flex-1 flex items-center justify-center text-gray-500",children:fe.jsxs("div",{className:"text-center space-y-4",children:[fe.jsx("svg",{className:"w-16 h-16 mx-auto text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:fe.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})}),fe.jsxs("div",{children:[fe.jsx("p",{className:"text-lg",children:"No data loaded"}),fe.jsx("p",{className:"text-sm mt-1",children:"Import a JSON file or load sample data to get started"})]})]})})]}),fe.jsx(V3,{jobCount:r.length,selectedJobId:a,upstreamCount:P,downstreamCount:D,zoom:R,timingEnabled:u,totalDuration:(c==null?void 0:c.totalDuration)??0,criticalPathLength:(c==null?void 0:c.criticalPath.length)??0})]})}CI.createRoot(document.getElementById("root")).render(fe.jsx(yI.StrictMode,{children:fe.jsx($3,{})}));</script>
    <style rel="stylesheet" crossorigin>*,:before,:after{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }::backdrop{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }*,:before,:after{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}:before,:after{--tw-content: ""}html,:host{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;-o-tab-size:4;tab-size:4;font-family:ui-sans-serif,system-ui,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol,"Noto Color Emoji";font-feature-settings:normal;font-variation-settings:normal;-webkit-tap-highlight-color:transparent}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-feature-settings:normal;font-variation-settings:normal;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;letter-spacing:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,input:where([type=button]),input:where([type=reset]),input:where([type=submit]){-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dl,dd,h1,h2,h3,h4,h5,h6,hr,figure,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}ol,ul,menu{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{opacity:1;color:#9ca3af}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}button,[role=button]{cursor:pointer}:disabled{cursor:default}img,svg,video,canvas,audio,iframe,embed,object{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]:where(:not([hidden=until-found])){display:none}.container{width:100%}@media(min-width:640px){.container{max-width:640px}}@media(min-width:768px){.container{max-width:768px}}@media(min-width:1024px){.container{max-width:1024px}}@media(min-width:1280px){.container{max-width:1280px}}@media(min-width:1536px){.container{max-width:1536px}}.visible{visibility:visible}.absolute{position:absolute}.relative{position:relative}.left-2\.5{left:.625rem}.right-0{right:0}.top-2\.5{top:.625rem}.z-50{z-index:50}.mx-auto{margin-left:auto;margin-right:auto}.mt-1{margin-top:.25rem}.mt-2{margin-top:.5rem}.flex{display:flex}.hidden{display:none}.h-16{height:4rem}.h-3{height:.75rem}.h-4{height:1rem}.h-6{height:1.5rem}.h-screen{height:100vh}.w-16{width:4rem}.w-3{width:.75rem}.w-4{width:1rem}.w-40{width:10rem}.w-6{width:1.5rem}.w-72{width:18rem}.w-full{width:100%}.flex-1{flex:1 1 0%}.shrink-0{flex-shrink:0}.cursor-pointer{cursor:pointer}.flex-col{flex-direction:column}.flex-wrap{flex-wrap:wrap}.items-center{align-items:center}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.gap-1{gap:.25rem}.gap-1\.5{gap:.375rem}.gap-2{gap:.5rem}.gap-3{gap:.75rem}.gap-4{gap:1rem}.space-y-1>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(.25rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(.25rem * var(--tw-space-y-reverse))}.space-y-1\.5>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(.375rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(.375rem * var(--tw-space-y-reverse))}.space-y-2>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(.5rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(.5rem * var(--tw-space-y-reverse))}.space-y-3>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(.75rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(.75rem * var(--tw-space-y-reverse))}.space-y-4>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(1rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(1rem * var(--tw-space-y-reverse))}.overflow-hidden{overflow:hidden}.overflow-y-auto{overflow-y:auto}.text-wrap{text-wrap:wrap}.break-all{word-break:break-all}.rounded{border-radius:.25rem}.rounded-b{border-bottom-right-radius:.25rem;border-bottom-left-radius:.25rem}.rounded-t{border-top-left-radius:.25rem;border-top-right-radius:.25rem}.border{border-width:1px}.border-b{border-bottom-width:1px}.border-r{border-right-width:1px}.border-t{border-top-width:1px}.border-gray-600{--tw-border-opacity: 1;border-color:rgb(75 85 99 / var(--tw-border-opacity, 1))}.border-gray-700{--tw-border-opacity: 1;border-color:rgb(55 65 81 / var(--tw-border-opacity, 1))}.border-red-700{--tw-border-opacity: 1;border-color:rgb(185 28 28 / var(--tw-border-opacity, 1))}.bg-amber-600{--tw-bg-opacity: 1;background-color:rgb(217 119 6 / var(--tw-bg-opacity, 1))}.bg-blue-600{--tw-bg-opacity: 1;background-color:rgb(37 99 235 / var(--tw-bg-opacity, 1))}.bg-blue-900\/50{background-color:#1e3a8a80}.bg-gray-700{--tw-bg-opacity: 1;background-color:rgb(55 65 81 / var(--tw-bg-opacity, 1))}.bg-gray-800{--tw-bg-opacity: 1;background-color:rgb(31 41 55 / var(--tw-bg-opacity, 1))}.bg-gray-900{--tw-bg-opacity: 1;background-color:rgb(17 24 39 / var(--tw-bg-opacity, 1))}.bg-red-900\/50{background-color:#7f1d1d80}.p-3{padding:.75rem}.px-1\.5{padding-left:.375rem;padding-right:.375rem}.px-2{padding-left:.5rem;padding-right:.5rem}.px-3{padding-left:.75rem;padding-right:.75rem}.px-4{padding-left:1rem;padding-right:1rem}.py-0\.5{padding-top:.125rem;padding-bottom:.125rem}.py-1{padding-top:.25rem;padding-bottom:.25rem}.py-1\.5{padding-top:.375rem;padding-bottom:.375rem}.py-2{padding-top:.5rem;padding-bottom:.5rem}.pl-9{padding-left:2.25rem}.pr-3{padding-right:.75rem}.pt-2{padding-top:.5rem}.pt-3{padding-top:.75rem}.text-left{text-align:left}.text-center{text-align:center}.text-right{text-align:right}.text-\[10px\]{font-size:10px}.text-lg{font-size:1.125rem;line-height:1.75rem}.text-sm{font-size:.875rem;line-height:1.25rem}.text-xs{font-size:.75rem;line-height:1rem}.font-medium{font-weight:500}.font-semibold{font-weight:600}.uppercase{text-transform:uppercase}.italic{font-style:italic}.tracking-wider{letter-spacing:.05em}.text-blue-300{--tw-text-opacity: 1;color:rgb(147 197 253 / var(--tw-text-opacity, 1))}.text-blue-400{--tw-text-opacity: 1;color:rgb(96 165 250 / var(--tw-text-opacity, 1))}.text-blue-500{--tw-text-opacity: 1;color:rgb(59 130 246 / var(--tw-text-opacity, 1))}.text-gray-100{--tw-text-opacity: 1;color:rgb(243 244 246 / var(--tw-text-opacity, 1))}.text-gray-200{--tw-text-opacity: 1;color:rgb(229 231 235 / var(--tw-text-opacity, 1))}.text-gray-300{--tw-text-opacity: 1;color:rgb(209 213 219 / var(--tw-text-opacity, 1))}.text-gray-400{--tw-text-opacity: 1;color:rgb(156 163 175 / var(--tw-text-opacity, 1))}.text-gray-500{--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity, 1))}.text-gray-600{--tw-text-opacity: 1;color:rgb(75 85 99 / var(--tw-text-opacity, 1))}.text-green-400{--tw-text-opacity: 1;color:rgb(74 222 128 / var(--tw-text-opacity, 1))}.text-purple-400{--tw-text-opacity: 1;color:rgb(192 132 252 / var(--tw-text-opacity, 1))}.text-red-200{--tw-text-opacity: 1;color:rgb(254 202 202 / var(--tw-text-opacity, 1))}.text-red-300{--tw-text-opacity: 1;color:rgb(252 165 165 / var(--tw-text-opacity, 1))}.text-red-400{--tw-text-opacity: 1;color:rgb(248 113 113 / var(--tw-text-opacity, 1))}.text-white{--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity, 1))}.placeholder-gray-500::-moz-placeholder{--tw-placeholder-opacity: 1;color:rgb(107 114 128 / var(--tw-placeholder-opacity, 1))}.placeholder-gray-500::placeholder{--tw-placeholder-opacity: 1;color:rgb(107 114 128 / var(--tw-placeholder-opacity, 1))}.shadow-lg{--tw-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1);--tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.transition-colors{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}html,body,#root{height:100%;margin:0;overflow:hidden}.hover\:bg-amber-500:hover{--tw-bg-opacity: 1;background-color:rgb(245 158 11 / var(--tw-bg-opacity, 1))}.hover\:bg-blue-500:hover{--tw-bg-opacity: 1;background-color:rgb(59 130 246 / var(--tw-bg-opacity, 1))}.hover\:bg-gray-600:hover{--tw-bg-opacity: 1;background-color:rgb(75 85 99 / var(--tw-bg-opacity, 1))}.hover\:text-gray-100:hover{--tw-text-opacity: 1;color:rgb(243 244 246 / var(--tw-text-opacity, 1))}.hover\:text-gray-300:hover{--tw-text-opacity: 1;color:rgb(209 213 219 / var(--tw-text-opacity, 1))}.focus\:border-blue-500:focus{--tw-border-opacity: 1;border-color:rgb(59 130 246 / var(--tw-border-opacity, 1))}.focus\:outline-none:focus{outline:2px solid transparent;outline-offset:2px}.focus\:ring-blue-500:focus{--tw-ring-opacity: 1;--tw-ring-color: rgb(59 130 246 / var(--tw-ring-opacity, 1))}.focus\:ring-offset-0:focus{--tw-ring-offset-width: 0px}.disabled\:opacity-50:disabled{opacity:.5}</style>
  </head>
  <body class="bg-gray-900 text-gray-100">
    <div id="root"></div>
  </body>
</html>
